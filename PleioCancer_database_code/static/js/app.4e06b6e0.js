(function(){"use strict";var e={991:function(e,t,a){e.exports=a.p+"./static/img/help_causal_bottom.4f81bc2f.png"},2902:function(e,t,a){e.exports=a.p+"./static/img/summary.7d5e876c.png"},3153:function(e,t,a){e.exports=a.p+"./static/img/logo.4d65d7da.png"},3690:function(e,t,a){e.exports=a.p+"./static/img/help_network.d767b0a4.png"},4229:function(e,t,a){e.exports=a.p+"./static/img/help_pleio_snp_top.0356709c.png"},4282:function(e,t,a){var n=a(5130),l=a(6768);function r(e,t){const a=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.Wv)(a)}var o=a(1241);const i={},s=(0,o.A)(i,[["render",r]]);var c=s,p=a(1387);const d={class:"search"},h={style:{width:"1750px",height:"500px",display:"flex",margin:"0 auto","margin-top":"20px"}},b={style:{border:"1px solid #e9e9eb","border-radius":"4px",height:"460px",width:"38%",padding:"20px"}},m={style:{"text-align":"center"}},u=["src"],_={style:{width:"1750px",height:"1100px",margin:"0 auto",border:"1px solid #e9e9eb","border-radius":"4px","margin-top":"20px"}},g={id:"chart_pleioHeat",ref:"chart_pleioHeat",style:{width:"1000px",height:"1100px"}},f={id:"chart_bar",ref:"chart_bar",style:{width:"950px",height:"1100px"}};function S(e,t,a,r,o,i){const s=(0,l.g2)("Db_base"),c=(0,l.g2)("el-header"),p=(0,l.g2)("router-view"),S=(0,l.g2)("el-autocomplete"),y=(0,l.g2)("el-button"),k=(0,l.g2)("el-col"),x=(0,l.g2)("el-row"),P=(0,l.g2)("router"),w=(0,l.g2)("el-main"),L=(0,l.g2)("el-container");return(0,l.uX)(),(0,l.Wv)(L,{style:{height:"100vh"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,{style:{height:"70px",width:"100%",position:"sticky",top:"0","z-index":"100",padding:"0%"}},{default:(0,l.k6)(()=>[(0,l.bF)(s)]),_:1}),(0,l.bF)(w,{style:{padding:"0px"}},{default:(0,l.k6)(()=>[(0,l.bF)(p),(0,l.bo)((0,l.bF)(P,null,{default:(0,l.k6)(()=>[t[18]||(t[18]=(0,l.Lk)("b",{style:{width:"1750px",display:"flex","justify-content":"center",margin:"0 auto","margin-top":"30px",color:"#409EFF","font-size":"28px","font-family":"Verdana, Geneva, Tahoma, sans-serif"}},"Welcome to PleioCancer",-1)),t[19]||(t[19]=(0,l.Lk)("b",{style:{width:"1750px",display:"flex","justify-content":"center",margin:"0 auto","margin-top":"30px",color:"#516bae","font-size":"18px"}}," PleioCancer is a database for exploring pleiotropic associations of 37 cancers with SNPs, methylations, genes and proteins ",-1)),t[20]||(t[20]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("div",d,[(0,l.bF)(S,{class:"search_input",modelValue:o.input,"onUpdate:modelValue":t[0]||(t[0]=e=>o.input=e),"fetch-suggestions":i.cancerSuggest,placeholder:"rsID, methylation, gene symbol, genomic region or cancer","trigger-on-focus":!1},null,8,["modelValue","fetch-suggestions"]),(0,l.bF)(y,{class:"search_button",type:"primary",icon:o.Search,onClick:i.mysearch},{default:(0,l.k6)(()=>t[6]||(t[6]=[(0,l.eW)("Search")])),_:1,__:[6]},8,["icon","onClick"])]),(0,l.bF)(x,{style:{width:"1752px",display:"flex","justify-content":"center","align-items":"center",margin:"0 auto","padding-left":"400px","padding-right":"400px"}},{default:(0,l.k6)(()=>[(0,l.bF)(k,{span:4,style:{position:"relative","font-size":"16px","font-weight":"bold",color:"#409EFF"}},{default:(0,l.k6)(()=>t[7]||(t[7]=[(0,l.Lk)("span",{class:"input_example"},"Search examples:",-1)])),_:1,__:[7]}),(0,l.bF)(k,{span:3,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>[(0,l.bF)(y,{class:"rsid_example",type:e.info,link:"",onClick:t[1]||(t[1]=e=>i.jump_rsid("rs490037")),style:{"margin-left":"10px"}},{default:(0,l.k6)(()=>t[8]||(t[8]=[(0,l.eW)("rs490037")])),_:1,__:[8]},8,["type"])]),_:1}),(0,l.bF)(k,{span:4,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>[(0,l.bF)(y,{class:"methy_example",type:e.info,link:"",onClick:t[2]||(t[2]=e=>i.jump_methy("cg00008971")),style:{"margin-left":"20px"}},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("cg00008971")])),_:1,__:[9]},8,["type"])]),_:1}),(0,l.bF)(k,{span:3,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>[(0,l.bF)(y,{class:"gene_example",type:e.info,link:"",onClick:t[3]||(t[3]=e=>i.jump_gene("THBS3")),style:{"margin-left":"20px"}},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.eW)("THBS3")])),_:1,__:[10]},8,["type"])]),_:1}),(0,l.bF)(k,{span:6,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>[(0,l.bF)(y,{class:"region_example",type:e.info,link:"",onClick:t[4]||(t[4]=e=>i.jump_region("1:155163879-155187772")),style:{"margin-left":"20px"}},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("1:155163879-155187772")])),_:1,__:[11]},8,["type"])]),_:1}),(0,l.bF)(k,{span:4,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>[(0,l.bF)(y,{class:"cancer_example",type:e.info,link:"",onClick:t[5]||(t[5]=e=>i.jump_cancer("Ovarian cancer")),style:{"margin-left":"20px"}},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("Ovarian cancer")])),_:1,__:[12]},8,["type"])]),_:1})]),_:1}),(0,l.Lk)("div",h,[t[16]||(t[16]=(0,l.Lk)("div",{style:{"line-height":"1.8em",border:"1px solid #e9e9eb","border-radius":"4px",height:"460px",width:"60%","margin-right":"10px",padding:"20px"}},[(0,l.Lk)("b",{style:{color:"#409EFF","font-size":"28px","font-family":"'Montserrat', sans-serif"}},"Introduction"),(0,l.Lk)("br"),(0,l.Lk)("br"),(0,l.Lk)("span",null,[(0,l.Lk)("b",{style:{color:"#409EFF"}},"PleioCancer"),(0,l.eW)(" is a database designed to explore pleiotropic associations across multiple cancers. ")]),(0,l.Lk)("span",null,[(0,l.Lk)("b",null,"Pleiotropy"),(0,l.eW)(" refers to a single SNP or molecular factor (e.g., methylation, gene expression, or protein levels) being associated with multiple traits. ")]),(0,l.Lk)("span",null,"Pleiotropy analysis can reveal genetic structures that might be missed when analyzing a single phenotype. "),(0,l.Lk)("span",null,"Identifying pleiotropic signals is crucial for understanding the common genetic mechanisms of carcinogenesis and for identifying biomarkers that can aid in cancer prevention and precision medicine. "),(0,l.Lk)("div",{style:{width:"100%",display:"flex",margin:"0 auto","margin-top":"20px"}},[(0,l.Lk)("div",{style:{width:"48%","margin-right":"4%"}},[(0,l.Lk)("b",{style:{color:"#409EFF"}},"In PleioCancer, we:"),(0,l.Lk)("ul",{style:{"margin-top":"0px"}},[(0,l.Lk)("li",null,"Identified 75,243 pleiotropic SNPs across 37 cancers;"),(0,l.Lk)("li",null,"Identified 4,272 pleiotropic genes associated with multiple cancers;"),(0,l.Lk)("li",null,"Identified 5,428 methylations, 1,726 genes, and 229 proteins causally associated with cancers.")])]),(0,l.Lk)("div",{style:{width:"48%"}},[(0,l.Lk)("b",{style:{color:"#409EFF"}},"In PleioCancer, users can:"),(0,l.Lk)("ul",{style:{"margin-top":"0px"}},[(0,l.Lk)("li",null,"Browse or search pleiotropic SNPs and genes across different cancer types;"),(0,l.Lk)("li",null,"Browse or search causal methylations, genes, and proteins across different cancer types;"),(0,l.Lk)("li",null,"Plot network to visualize the association maps among SNPs, methylations, genes, proteins, and cancers;")])])])],-1)),(0,l.Lk)("div",b,[t[13]||(t[13]=(0,l.Lk)("b",{style:{"font-size":"28px",color:"#409EFF","font-family":"'Montserrat', sans-serif"}},"Overview of PleioCancer",-1)),t[14]||(t[14]=(0,l.Lk)("br",null,null,-1)),t[15]||(t[15]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("div",m,[(0,l.Lk)("img",{src:o.summary_plot,style:{width:"90%",height:"90%"}},null,8,u)])])]),(0,l.Lk)("div",_,[t[17]||(t[17]=(0,l.Lk)("div",{style:{padding:"20px"}},[(0,l.Lk)("b",{style:{"font-size":"28px",color:"#409EFF","font-family":"'Montserrat', sans-serif"}},"Data summary")],-1)),(0,l.bF)(x,{style:{width:"100%",height:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(k,{span:12},{default:(0,l.k6)(()=>[(0,l.Lk)("div",g,null,512)]),_:1}),(0,l.bF)(k,{span:12},{default:(0,l.k6)(()=>[(0,l.Lk)("div",f,null,512)]),_:1})]),_:1})])]),_:1,__:[18,19,20]},512),[[n.aG,e.$route.meta.showfather]])]),_:1})]),_:1})}a(4114),a(8111),a(2489),a(1701);const y={class:"home",style:{display:"flex","justify-content":"space-between","box-sizing":"border-box"}},k={class:"dbName"},x=["src"];function P(e,t,a,n,r,o){const i=(0,l.g2)("el-menu-item"),s=(0,l.g2)("el-sub-menu"),c=(0,l.g2)("el-menu");return(0,l.uX)(),(0,l.CE)("div",y,[(0,l.Lk)("div",k,[(0,l.Lk)("img",{src:r.home_background,class:"home_background"},null,8,x),t[0]||(t[0]=(0,l.Lk)("span",{class:"title",style:{"padding-left":"20px",color:"white"}},"PleioCancer",-1))]),(0,l.bF)(c,{"default-active":e.$route.path,router:"true",class:"el-menu-demo",mode:"horizontal","background-color":"#337ECC","text-color":"#fff","active-text-color":"#ffd04b","collapse-transition":"",onSelect:e.handleSelect},{default:(0,l.k6)(()=>[(0,l.bF)(i,{index:"/cancerdb"},{default:(0,l.k6)(()=>t[1]||(t[1]=[(0,l.eW)("Home")])),_:1,__:[1]}),(0,l.bF)(s,{index:"/cancerdb/pleio"},{title:(0,l.k6)(()=>t[2]||(t[2]=[(0,l.eW)("Pleiotropic sites")])),default:(0,l.k6)(()=>[(0,l.bF)(i,{index:"/cancerdb/pleio/snp"},{default:(0,l.k6)(()=>t[3]||(t[3]=[(0,l.eW)(" SNP ")])),_:1,__:[3]}),(0,l.bF)(i,{index:"/cancerdb/pleio/gene"},{default:(0,l.k6)(()=>t[4]||(t[4]=[(0,l.eW)(" Gene ")])),_:1,__:[4]})]),_:1}),(0,l.bF)(s,{index:"/cancerdb/causal"},{title:(0,l.k6)(()=>t[5]||(t[5]=[(0,l.eW)("Causal sites")])),default:(0,l.k6)(()=>[(0,l.bF)(i,{index:"/cancerdb/causal/methy"},{default:(0,l.k6)(()=>t[6]||(t[6]=[(0,l.eW)("Methylation")])),_:1,__:[6]}),(0,l.bF)(i,{index:"/cancerdb/causal/gene"},{default:(0,l.k6)(()=>t[7]||(t[7]=[(0,l.eW)("Gene")])),_:1,__:[7]}),(0,l.bF)(i,{index:"/cancerdb/causal/protein"},{default:(0,l.k6)(()=>t[8]||(t[8]=[(0,l.eW)("Protein")])),_:1,__:[8]})]),_:1}),(0,l.bF)(i,{index:"/cancerdb/network"},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Network graph")])),_:1,__:[9]}),(0,l.bF)(i,{index:"/cancerdb/help"},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.eW)("Help")])),_:1,__:[10]})]),_:1},8,["default-active","onSelect"])])}var w=a(7477),L={name:"Db_base",components:{},data(){return{Edit:w.Edit,home_background:a(3153)}}};const F=(0,o.A)(L,[["render",P],["__scopeId","data-v-a2d08418"]]);var C=F,T=a(9671),v=a(144);const Q=[[0,0,0],[1,0,74],[2,0,0],[3,0,0],[4,0,0],[5,0,21],[6,0,0],[7,0,0],[8,0,60],[9,0,0],[10,0,0],[11,0,0],[12,0,0],[13,0,0],[14,0,0],[15,0,0],[16,0,0],[17,0,1],[18,0,0],[19,0,0],[20,0,0],[21,0,0],[22,0,0],[23,0,0],[24,0,0],[25,0,0],[26,0,0],[27,0,30],[28,0,0],[29,0,67],[30,0,15],[31,0,0],[32,0,0],[33,0,0],[34,0,1],[35,0,3],[36,0,0],[0,1,3],[1,1,0],[2,1,60],[3,1,106],[4,1,58],[5,1,2352],[6,1,124],[7,1,143],[8,1,804],[9,1,22],[10,1,322],[11,1,76],[12,1,21],[13,1,266],[14,1,412],[15,1,16],[16,1,315],[17,1,504],[18,1,112],[19,1,42],[20,1,177],[21,1,241],[22,1,19],[23,1,25],[24,1,50],[25,1,31],[26,1,74],[27,1,344],[28,1,222],[29,1,2652],[30,1,1763],[31,1,434],[32,1,1513],[33,1,60],[34,1,76],[35,1,325],[36,1,11],[0,2,0],[1,2,7],[2,2,0],[3,2,8],[4,2,14],[5,2,240],[6,2,48],[7,2,16],[8,2,80],[9,2,0],[10,2,5],[11,2,1],[12,2,0],[13,2,9],[14,2,5],[15,2,0],[16,2,2],[17,2,100],[18,2,6],[19,2,0],[20,2,0],[21,2,7],[22,2,0],[23,2,0],[24,2,0],[25,2,0],[26,2,0],[27,2,43],[28,2,63],[29,2,220],[30,2,412],[31,2,0],[32,2,14],[33,2,104],[34,2,0],[35,2,59],[36,2,0],[0,3,0],[1,3,6],[2,3,1],[3,3,0],[4,3,0],[5,3,62],[6,3,2],[7,3,0],[8,3,104],[9,3,0],[10,3,8],[11,3,0],[12,3,0],[13,3,0],[14,3,0],[15,3,0],[16,3,0],[17,3,10],[18,3,0],[19,3,0],[20,3,0],[21,3,1],[22,3,0],[23,3,0],[24,3,0],[25,3,0],[26,3,0],[27,3,16],[28,3,2],[29,3,67],[30,3,40],[31,3,0],[32,3,34],[33,3,0],[34,3,0],[35,3,17],[36,3,0],[0,4,0],[1,4,22],[2,4,3],[3,4,0],[4,4,0],[5,4,508],[6,4,0],[7,4,0],[8,4,140],[9,4,0],[10,4,7],[11,4,0],[12,4,0],[13,4,0],[14,4,4],[15,4,0],[16,4,20],[17,4,11],[18,4,15],[19,4,0],[20,4,1],[21,4,0],[22,4,0],[23,4,6],[24,4,5],[25,4,0],[26,4,0],[27,4,258],[28,4,34],[29,4,404],[30,4,233],[31,4,0],[32,4,1],[33,4,0],[34,4,0],[35,4,259],[36,4,0],[0,5,7],[1,5,143],[2,5,20],[3,5,5],[4,5,23],[5,5,0],[6,5,291],[7,5,11],[8,5,1185],[9,5,49],[10,5,681],[11,5,108],[12,5,41],[13,5,53],[14,5,192],[15,5,28],[16,5,149],[17,5,201],[18,5,186],[19,5,149],[20,5,54],[21,5,355],[22,5,67],[23,5,13],[24,5,322],[25,5,127],[26,5,25],[27,5,4500],[28,5,112],[29,5,7177],[30,5,593],[31,5,242],[32,5,447],[33,5,226],[34,5,120],[35,5,369],[36,5,44],[0,6,0],[1,6,8],[2,6,2],[3,6,0],[4,6,0],[5,6,28],[6,6,0],[7,6,0],[8,6,199],[9,6,0],[10,6,9],[11,6,81],[12,6,0],[13,6,0],[14,6,0],[15,6,15],[16,6,2],[17,6,29],[18,6,46],[19,6,0],[20,6,4],[21,6,1],[22,6,0],[23,6,0],[24,6,0],[25,6,1],[26,6,0],[27,6,3064],[28,6,59],[29,6,468],[30,6,59],[31,6,1],[32,6,6],[33,6,0],[34,6,7],[35,6,31],[36,6,0],[0,7,0],[1,7,7],[2,7,0],[3,7,0],[4,7,0],[5,7,6],[6,7,0],[7,7,0],[8,7,85],[9,7,0],[10,7,0],[11,7,0],[12,7,0],[13,7,0],[14,7,0],[15,7,0],[16,7,0],[17,7,8],[18,7,0],[19,7,0],[20,7,0],[21,7,0],[22,7,0],[23,7,0],[24,7,0],[25,7,0],[26,7,0],[27,7,70],[28,7,19],[29,7,47],[30,7,19],[31,7,0],[32,7,54],[33,7,0],[34,7,0],[35,7,7],[36,7,0],[0,8,1],[1,8,110],[2,8,5],[3,8,10],[4,8,13],[5,8,70],[6,8,16],[7,8,0],[8,8,0],[9,8,80],[10,8,384],[11,8,468],[12,8,9],[13,8,40],[14,8,64],[15,8,24],[16,8,55],[17,8,340],[18,8,77],[19,8,33],[20,8,11],[21,8,129],[22,8,115],[23,8,3],[24,8,103],[25,8,67],[26,8,105],[27,8,2885],[28,8,32],[29,8,2608],[30,8,330],[31,8,154],[32,8,249],[33,8,66],[34,8,49],[35,8,125],[36,8,27],[0,9,0],[1,9,9],[2,9,0],[3,9,0],[4,9,0],[5,9,2],[6,9,0],[7,9,0],[8,9,0],[9,9,0],[10,9,12],[11,9,0],[12,9,0],[13,9,0],[14,9,0],[15,9,0],[16,9,0],[17,9,8],[18,9,4],[19,9,0],[20,9,0],[21,9,0],[22,9,0],[23,9,0],[24,9,0],[25,9,0],[26,9,0],[27,9,125],[28,9,1],[29,9,217],[30,9,146],[31,9,0],[32,9,85],[33,9,0],[34,9,0],[35,9,0],[36,9,0],[0,10,0],[1,10,17],[2,10,1],[3,10,2],[4,10,5],[5,10,30],[6,10,0],[7,10,0],[8,10,32],[9,10,0],[10,10,0],[11,10,15],[12,10,0],[13,10,0],[14,10,1],[15,10,1],[16,10,17],[17,10,31],[18,10,3],[19,10,5],[20,10,0],[21,10,4],[22,10,0],[23,10,0],[24,10,0],[25,10,0],[26,10,0],[27,10,227],[28,10,63],[29,10,797],[30,10,94],[31,10,0],[32,10,139],[33,10,2],[34,10,24],[35,10,13],[36,10,0],[0,11,0],[1,11,10],[2,11,1],[3,11,0],[4,11,0],[5,11,10],[6,11,0],[7,11,0],[8,11,17],[9,11,0],[10,11,1],[11,11,0],[12,11,0],[13,11,20],[14,11,0],[15,11,0],[16,11,0],[17,11,5],[18,11,2],[19,11,0],[20,11,0],[21,11,0],[22,11,0],[23,11,0],[24,11,0],[25,11,0],[26,11,0],[27,11,17],[28,11,16],[29,11,454],[30,11,55],[31,11,0],[32,11,12],[33,11,0],[34,11,7],[35,11,7],[36,11,0],[0,12,0],[1,12,12],[2,12,0],[3,12,0],[4,12,0],[5,12,2],[6,12,0],[7,12,0],[8,12,2],[9,12,0],[10,12,0],[11,12,0],[12,12,0],[13,12,0],[14,12,4],[15,12,0],[16,12,0],[17,12,2],[18,12,1],[19,12,0],[20,12,0],[21,12,0],[22,12,2],[23,12,0],[24,12,0],[25,12,0],[26,12,0],[27,12,2],[28,12,27],[29,12,139],[30,12,112],[31,12,0],[32,12,144],[33,12,1],[34,12,0],[35,12,0],[36,12,0],[0,13,0],[1,13,18],[2,13,1],[3,13,0],[4,13,0],[5,13,8],[6,13,0],[7,13,0],[8,13,12],[9,13,0],[10,13,0],[11,13,0],[12,13,0],[13,13,0],[14,13,2],[15,13,0],[16,13,3],[17,13,6],[18,13,0],[19,13,0],[20,13,0],[21,13,0],[22,13,0],[23,13,0],[24,13,0],[25,13,0],[26,13,0],[27,13,66],[28,13,2],[29,13,130],[30,13,318],[31,13,0],[32,13,236],[33,13,1],[34,13,1],[35,13,17],[36,13,0],[0,14,0],[1,14,18],[2,14,2],[3,14,0],[4,14,0],[5,14,14],[6,14,0],[7,14,0],[8,14,7],[9,14,0],[10,14,0],[11,14,0],[12,14,1],[13,14,0],[14,14,0],[15,14,8],[16,14,17],[17,14,6],[18,14,0],[19,14,0],[20,14,11],[21,14,162],[22,14,0],[23,14,33],[24,14,0],[25,14,0],[26,14,14],[27,14,7],[28,14,1],[29,14,220],[30,14,49],[31,14,1],[32,14,27],[33,14,0],[34,14,0],[35,14,19],[36,14,9],[0,15,0],[1,15,9],[2,15,0],[3,15,0],[4,15,0],[5,15,9],[6,15,0],[7,15,0],[8,15,1],[9,15,0],[10,15,0],[11,15,0],[12,15,0],[13,15,0],[14,15,1],[15,15,0],[16,15,0],[17,15,1],[18,15,1],[19,15,0],[20,15,0],[21,15,2],[22,15,0],[23,15,0],[24,15,0],[25,15,0],[26,15,0],[27,15,3],[28,15,0],[29,15,197],[30,15,102],[31,15,0],[32,15,20],[33,15,0],[34,15,0],[35,15,23],[36,15,0],[0,16,0],[1,16,15],[2,16,0],[3,16,0],[4,16,3],[5,16,13],[6,16,0],[7,16,0],[8,16,3],[9,16,0],[10,16,1],[11,16,0],[12,16,0],[13,16,0],[14,16,0],[15,16,0],[16,16,0],[17,16,27],[18,16,1],[19,16,0],[20,16,0],[21,16,0],[22,16,0],[23,16,7],[24,16,0],[25,16,0],[26,16,0],[27,16,1],[28,16,31],[29,16,480],[30,16,21],[31,16,0],[32,16,33],[33,16,0],[34,16,0],[35,16,116],[36,16,0],[0,17,1],[1,17,29],[2,17,6],[3,17,2],[4,17,2],[5,17,35],[6,17,2],[7,17,1],[8,17,17],[9,17,1],[10,17,1],[11,17,2],[12,17,1],[13,17,1],[14,17,1],[15,17,0],[16,17,2],[17,17,0],[18,17,12],[19,17,0],[20,17,4],[21,17,5],[22,17,95],[23,17,5],[24,17,16],[25,17,1],[26,17,4],[27,17,2776],[28,17,19],[29,17,648],[30,17,75],[31,17,6],[32,17,20],[33,17,1],[34,17,8],[35,17,51],[36,17,2],[0,18,0],[1,18,2],[2,18,1],[3,18,0],[4,18,5],[5,18,21],[6,18,2],[7,18,0],[8,18,10],[9,18,0],[10,18,0],[11,18,0],[12,18,0],[13,18,0],[14,18,0],[15,18,0],[16,18,0],[17,18,1],[18,18,0],[19,18,0],[20,18,0],[21,18,0],[22,18,10],[23,18,1],[24,18,0],[25,18,0],[26,18,15],[27,18,10],[28,18,50],[29,18,233],[30,18,55],[31,18,0],[32,18,9],[33,18,0],[34,18,0],[35,18,43],[36,18,0],[0,19,0],[1,19,6],[2,19,0],[3,19,0],[4,19,0],[5,19,5],[6,19,0],[7,19,0],[8,19,2],[9,19,0],[10,19,0],[11,19,0],[12,19,0],[13,19,0],[14,19,0],[15,19,0],[16,19,0],[17,19,0],[18,19,0],[19,19,0],[20,19,0],[21,19,0],[22,19,0],[23,19,0],[24,19,0],[25,19,0],[26,19,0],[27,19,0],[28,19,0],[29,19,37],[30,19,9],[31,19,0],[32,19,7],[33,19,0],[34,19,0],[35,19,0],[36,19,0],[0,20,0],[1,20,30],[2,20,0],[3,20,0],[4,20,1],[5,20,1],[6,20,1],[7,20,0],[8,20,1],[9,20,0],[10,20,0],[11,20,0],[12,20,0],[13,20,0],[14,20,0],[15,20,0],[16,20,0],[17,20,2],[18,20,0],[19,20,0],[20,20,0],[21,20,0],[22,20,0],[23,20,0],[24,20,0],[25,20,0],[26,20,0],[27,20,0],[28,20,27],[29,20,60],[30,20,51],[31,20,0],[32,20,13],[33,20,0],[34,20,0],[35,20,3],[36,20,0],[0,21,0],[1,21,13],[2,21,1],[3,21,1],[4,21,0],[5,21,29],[6,21,0],[7,21,0],[8,21,10],[9,21,0],[10,21,1],[11,21,0],[12,21,0],[13,21,0],[14,21,14],[15,21,0],[16,21,0],[17,21,1],[18,21,0],[19,21,0],[20,21,0],[21,21,0],[22,21,0],[23,21,10],[24,21,0],[25,21,0],[26,21,1],[27,21,2538],[28,21,0],[29,21,113],[30,21,48],[31,21,0],[32,21,48],[33,21,0],[34,21,0],[35,21,22],[36,21,0],[0,22,0],[1,22,2],[2,22,0],[3,22,0],[4,22,0],[5,22,22],[6,22,0],[7,22,0],[8,22,5],[9,22,0],[10,22,0],[11,22,0],[12,22,0],[13,22,0],[14,22,0],[15,22,0],[16,22,0],[17,22,8],[18,22,1],[19,22,0],[20,22,0],[21,22,0],[22,22,0],[23,22,0],[24,22,0],[25,22,0],[26,22,0],[27,22,7],[28,22,12],[29,22,56],[30,22,39],[31,22,0],[32,22,8],[33,22,0],[34,22,2],[35,22,30],[36,22,0],[0,23,0],[1,23,2],[2,23,0],[3,23,0],[4,23,1],[5,23,0],[6,23,0],[7,23,0],[8,23,1],[9,23,0],[10,23,0],[11,23,0],[12,23,0],[13,23,0],[14,23,1],[15,23,0],[16,23,1],[17,23,2],[18,23,0],[19,23,0],[20,23,0],[21,23,0],[22,23,0],[23,23,0],[24,23,0],[25,23,0],[26,23,77],[27,23,0],[28,23,0],[29,23,126],[30,23,61],[31,23,0],[32,23,47],[33,23,0],[34,23,0],[35,23,37],[36,23,0],[0,24,0],[1,24,24],[2,24,0],[3,24,0],[4,24,0],[5,24,9],[6,24,0],[7,24,0],[8,24,7],[9,24,0],[10,24,0],[11,24,0],[12,24,0],[13,24,0],[14,24,0],[15,24,0],[16,24,0],[17,24,1],[18,24,0],[19,24,0],[20,24,0],[21,24,0],[22,24,0],[23,24,0],[24,24,0],[25,24,2],[26,24,0],[27,24,9],[28,24,0],[29,24,610],[30,24,1],[31,24,0],[32,24,0],[33,24,0],[34,24,0],[35,24,17],[36,24,0],[0,25,0],[1,25,1],[2,25,0],[3,25,0],[4,25,0],[5,25,3],[6,25,0],[7,25,0],[8,25,0],[9,25,0],[10,25,0],[11,25,0],[12,25,0],[13,25,0],[14,25,0],[15,25,0],[16,25,0],[17,25,0],[18,25,0],[19,25,0],[20,25,0],[21,25,0],[22,25,0],[23,25,0],[24,25,0],[25,25,0],[26,25,0],[27,25,73],[28,25,10],[29,25,321],[30,25,145],[31,25,0],[32,25,89],[33,25,0],[34,25,0],[35,25,12],[36,25,0],[0,26,0],[1,26,13],[2,26,0],[3,26,0],[4,26,0],[5,26,5],[6,26,0],[7,26,0],[8,26,4],[9,26,0],[10,26,0],[11,26,0],[12,26,0],[13,26,0],[14,26,0],[15,26,0],[16,26,0],[17,26,1],[18,26,0],[19,26,0],[20,26,0],[21,26,0],[22,26,0],[23,26,0],[24,26,0],[25,26,0],[26,26,0],[27,26,9],[28,26,0],[29,26,269],[30,26,36],[31,26,0],[32,26,29],[33,26,2],[34,26,0],[35,26,3],[36,26,0],[0,27,4],[1,27,21],[2,27,2],[3,27,3],[4,27,12],[5,27,57],[6,27,26],[7,27,13],[8,27,17],[9,27,2],[10,27,11],[11,27,1],[12,27,0],[13,27,7],[14,27,8],[15,27,0],[16,27,1],[17,27,25],[18,27,2],[19,27,0],[20,27,0],[21,27,14],[22,27,3],[23,27,0],[24,27,1],[25,27,0],[26,27,0],[27,27,0],[28,27,56],[29,27,3363],[30,27,2783],[31,27,88],[32,27,263],[33,27,51],[34,27,1],[35,27,46],[36,27,0],[0,28,0],[1,28,12],[2,28,3],[3,28,0],[4,28,1],[5,28,7],[6,28,2],[7,28,2],[8,28,4],[9,28,0],[10,28,3],[11,28,2],[12,28,1],[13,28,0],[14,28,1],[15,28,0],[16,28,0],[17,28,2],[18,28,2],[19,28,0],[20,28,2],[21,28,0],[22,28,2],[23,28,0],[24,28,0],[25,28,0],[26,28,0],[27,28,1],[28,28,0],[29,28,409],[30,28,69],[31,28,0],[32,28,1],[33,28,65],[34,28,0],[35,28,68],[36,28,0],[0,29,15],[1,29,225],[2,29,34],[3,29,17],[4,29,47],[5,29,365],[6,29,31],[7,29,11],[8,29,164],[9,29,24],[10,29,58],[11,29,24],[12,29,30],[13,29,25],[14,29,17],[15,29,32],[16,29,32],[17,29,90],[18,29,51],[19,29,18],[20,29,9],[21,29,16],[22,29,11],[23,29,12],[24,29,42],[25,29,18],[26,29,14],[27,29,83],[28,29,30],[29,29,0],[30,29,499],[31,29,142],[32,29,520],[33,29,166],[34,29,100],[35,29,770],[36,29,37],[0,30,2],[1,30,74],[2,30,7],[3,30,8],[4,30,14],[5,30,49],[6,30,6],[7,30,4],[8,30,31],[9,30,12],[10,30,6],[11,30,11],[12,30,19],[13,30,16],[14,30,18],[15,30,3],[16,30,5],[17,30,10],[18,30,4],[19,30,7],[20,30,7],[21,30,18],[22,30,2],[23,30,4],[24,30,0],[25,30,3],[26,30,9],[27,30,24],[28,30,3],[29,30,100],[30,30,0],[31,30,5],[32,30,1465],[33,30,85],[34,30,19],[35,30,256],[36,30,32],[0,31,0],[1,31,18],[2,31,0],[3,31,0],[4,31,0],[5,31,4],[6,31,0],[7,31,0],[8,31,15],[9,31,0],[10,31,0],[11,31,0],[12,31,0],[13,31,0],[14,31,0],[15,31,0],[16,31,0],[17,31,13],[18,31,0],[19,31,0],[20,31,0],[21,31,0],[22,31,0],[23,31,0],[24,31,0],[25,31,0],[26,31,0],[27,31,0],[28,31,0],[29,31,9],[30,31,2],[31,31,0],[32,31,12],[33,31,0],[34,31,0],[35,31,21],[36,31,0],[0,32,0],[1,32,54],[2,32,1],[3,32,5],[4,32,6],[5,32,25],[6,32,2],[7,32,2],[8,32,31],[9,32,6],[10,32,1],[11,32,4],[12,32,10],[13,32,12],[14,32,11],[15,32,4],[16,32,7],[17,32,7],[18,32,0],[19,32,0],[20,32,7],[21,32,13],[22,32,0],[23,32,5],[24,32,0],[25,32,1],[26,32,9],[27,32,25],[28,32,0],[29,32,81],[30,32,34],[31,32,5],[32,32,0],[33,32,76],[34,32,12],[35,32,16],[36,32,14],[0,33,0],[1,33,20],[2,33,6],[3,33,0],[4,33,0],[5,33,30],[6,33,0],[7,33,0],[8,33,2],[9,33,0],[10,33,0],[11,33,0],[12,33,0],[13,33,0],[14,33,0],[15,33,0],[16,33,0],[17,33,0],[18,33,0],[19,33,0],[20,33,0],[21,33,0],[22,33,0],[23,33,0],[24,33,0],[25,33,0],[26,33,2],[27,33,1],[28,33,6],[29,33,33],[30,33,1],[31,33,0],[32,33,1],[33,33,0],[34,33,1],[35,33,14],[36,33,0],[0,34,0],[1,34,3],[2,34,0],[3,34,0],[4,34,0],[5,34,11],[6,34,0],[7,34,0],[8,34,1],[9,34,0],[10,34,2],[11,34,0],[12,34,0],[13,34,0],[14,34,0],[15,34,0],[16,34,0],[17,34,3],[18,34,0],[19,34,0],[20,34,0],[21,34,0],[22,34,0],[23,34,0],[24,34,0],[25,34,0],[26,34,0],[27,34,0],[28,34,0],[29,34,15],[30,34,2],[31,34,0],[32,34,0],[33,34,1],[34,34,0],[35,34,8],[36,34,6],[0,35,1],[1,35,15],[2,35,1],[3,35,3],[4,35,17],[5,35,17],[6,35,2],[7,35,0],[8,35,25],[9,35,0],[10,35,1],[11,35,2],[12,35,0],[13,35,1],[14,35,2],[15,35,0],[16,35,1],[17,35,16],[18,35,1],[19,35,0],[20,35,0],[21,35,3],[22,35,2],[23,35,1],[24,35,0],[25,35,0],[26,35,0],[27,35,3],[28,35,3],[29,35,54],[30,35,14],[31,35,3],[32,35,0],[33,35,1],[34,35,0],[35,35,0],[36,35,0],[0,36,0],[1,36,0],[2,36,0],[3,36,0],[4,36,0],[5,36,6],[6,36,0],[7,36,0],[8,36,4],[9,36,0],[10,36,0],[11,36,0],[12,36,0],[13,36,0],[14,36,1],[15,36,0],[16,36,0],[17,36,1],[18,36,0],[19,36,0],[20,36,0],[21,36,0],[22,36,0],[23,36,0],[24,36,0],[25,36,0],[26,36,0],[27,36,0],[28,36,0],[29,36,11],[30,36,8],[31,36,0],[32,36,0],[33,36,0],[34,36,1],[35,36,0],[36,36,0]].map(function(e){return[e[1],e[0],e[2]||"-"]}),A=["Acute myeloid leukaemia","Basal cell carcinoma","Bladder cancer","Brain glioblastoma and astrocytoma","Brain meningioma","Breast cancer","Cervical cancer","Chronic myeloid leukaemia","Colorectal cancer","Diffuse large B-cell lymphoma","Endometrial cancer","Esophageal cancer","Gastrointestinal stromal tumor and sarcoma","Head and neck cancer","Hepatocellular carcinoma","Hodgkins lymphoma","Kidney cancer, except renal pelvis","Lung cancer","Lymphocytic leukemia","Malignant neoplasm of bone and articular cartilage","Malignant neoplasm of eye and adnexa","Malignant neoplasm of intrahepatic ducts, biliary tract and gallbladder","Mantle cell lymphoma","Mesothelioma","Multiple myeloma","Myelodysplastic syndrome","Marginal zone B-cell lymphoma","Ovarian cancer","Pancreatic cancer","Prostate cancer","Skin melanoma","Small intestine cancer","Squamous cell carcinoma","Stomach cancer","Testicular cancer","Thyroid cancer","Vulvar cancer"];var R={name:"HomeView",data(){return{Search:w.Search,input:"",pleio_snp_gene:Q,cancer:A,chart_pleioHeat:null,chart_bar:null,summary_plot:a(2902)}},components:{Db_base:C},mounted(){this.plot_placo_snp_gene(),this.plot_causal()},methods:{jump_rsid(e){this.$router.push({path:"/cancerdb/search_pleio_snp",query:{snp:e}})},jump_gene(e){this.$router.push({path:"/cancerdb/search_gene",query:{gene:e}})},jump_methy(e){this.$router.push({path:"/cancerdb/search_methy",query:{methy:e}})},jump_region(e){this.$router.push({path:"/cancerdb/search_region",query:{region:e}})},jump_cancer(e){this.$router.push({path:"/cancerdb/search_cancer",query:{cancer:e}})},plot_placo_snp_gene(){this.chart_pleioHeat=(0,v.IG)(T.Ts(this.$refs.chart_pleioHeat,null,{renderer:"svg"}));const e=this.cancer,t={title:{text:"Number of pleiotropic SNPs (top left) and genes (bottom right) across cancer pairs.",show:!0,x:"center"},tooltip:{position:"bottom",trigger:"item",formatter:function(t){let a=t.data[0],n=t.data[1],l=e[t.data[0]],r=e[t.data[1]],o=t.data[2];if(o>0)return a<n?`Cancer1: ${l}<br/>\n                Cancer2: ${r}<br/>\n                Number of pleiotropic SNP: ${o}`:`Cancer1: ${l}<br/>\n                Cancer2: ${r}<br/>\n                Number of pleiotropic gene: ${o}`}},grid:{height:"60%",left:"30%",top:"5%"},xAxis:{type:"category",data:this.cancer,axisLabel:{rotate:45,interval:0},splitArea:{show:!1}},yAxis:{type:"category",data:this.cancer,splitArea:{show:!1},axisLabel:{rotate:45,interval:0}},visualMap:{min:0,max:100,calculable:!0,orient:"vertical",left:"10",top:"5%"},series:[{type:"heatmap",data:this.pleio_snp_gene,label:{show:!1}}]};this.chart_pleioHeat.setOption(t),this.chart_pleioHeat.on("click",t=>{let a=e[t.data[0]],n=e[t.data[1]];t.data[0]<t.data[1]?this.$router.push({path:"/cancerdb/pleio/snp",query:{cancer1:a,cancer2:n,query:!0}}):this.$router.push({path:"/cancerdb/pleio/gene",query:{cancer1:a,cancer2:n,query:!0}})})},plot_causal(){this.chart_bar=(0,v.IG)(T.Ts(this.$refs.chart_bar,null,{renderer:"svg"}));const e=["Basal cell carcinoma","Brain meningioma","Breast cancer","Cervical cancer","Colorectal cancer","Endometrial cancer","Esophageal cancer","Head and neck cancer","Hepatocellular carcinoma","Kidney cancer, except renal pelvis","Lung cancer","Lymphocytic leukemia","Malignant neoplasm of intrahepatic ducts, biliary tract and gallbladder","Ovarian cancer","Pancreatic cancer","Prostate cancer","Skin melanoma","Squamous cell carcinoma","Stomach cancer","Thyroid cancer"],t={title:{text:"Number of causal sites associated with cancers.",show:!0,x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{show:!0,top:"10%"},grid:{top:"5%",bottom:"8%",containLabel:!0},xAxis:{type:"category",data:e,axisLabel:{rotate:45,interval:0}},yAxis:{type:"value"},series:[{name:"Methylation",type:"bar",stack:"total",label:{show:!1},emphasis:{focus:"series"},data:[480,0,1171,16,787,9,12,1,0,2,92,11,0,80,22,2615,72,44,4,10]},{name:"Gene",type:"bar",stack:"total",label:{show:!1},emphasis:{focus:"series"},data:[152,3,449,1,253,3,0,0,2,2,8,1,1,11,0,801,14,12,6,7]},{name:"Protein",type:"bar",stack:"total",label:{show:!1},emphasis:{focus:"series"},data:[28,0,59,0,21,0,0,0,0,1,0,0,0,1,0,116,1,1,0,1]}]};this.chart_bar.setOption(t),this.chart_bar.on("click",t=>{let a=e[t.dataIndex];"Methylation"===t.seriesName&&this.$router.push({path:"/cancerdb/causal/methy",query:{cancer:a,query:!0}}),"Gene"===t.seriesName&&this.$router.push({path:"/cancerdb/causal/gene",query:{cancer:a,query:!0}}),"Protein"===t.seriesName&&this.$router.push({path:"/cancerdb/causal/protein",query:{cancer:a,query:!0}})})},cancerSuggest(e,t){const a=e?this.cancer.filter(t=>t.toLowerCase().includes(e.toLowerCase())).map(e=>({value:e})):[];t(a)},handleSelect(e){this.input=e.value},mysearch(){this.input.startsWith("rs")?this.jump_rsid(this.input):this.input.startsWith("cg")?this.jump_methy(this.input):this.cancer.includes(this.input)?this.jump_cancer(this.input):this.input.includes(":")&&this.input.includes("-")?this.jump_region(this.input):this.jump_gene(this.input)}}};const $=(0,o.A)(R,[["render",S],["__scopeId","data-v-65bb64ec"]]);var E=$;const N={class:"notfound"},I={class:"button_f"};function G(e,t,a,n,r,o){const i=(0,l.g2)("el-button");return(0,l.uX)(),(0,l.CE)("div",N,[t[1]||(t[1]=(0,l.Lk)("span",{class:"title"},[(0,l.eW)("404"),(0,l.Lk)("br")],-1)),t[2]||(t[2]=(0,l.Lk)("span",{class:"sub_title"},"Page Not Found",-1)),(0,l.Lk)("div",I,[(0,l.bF)(i,{class:"button",onClick:o.jump},{default:(0,l.k6)(()=>t[0]||(t[0]=[(0,l.eW)(" Go Home ")])),_:1,__:[0]},8,["onClick"])])])}var M={name:"NotFound",components:{},methods:{jump(){this.$router.push("/cancerdb")}}};const W=(0,o.A)(M,[["render",G],["__scopeId","data-v-60619e45"]]);var z=W,D=a(4232);const O={class:"search"},H={class:"searchButton"},q={class:"clearButton"},B={class:"table_display"},V={class:"plot_sankey"},X={id:"chart_sankey",ref:"chart_sankey",style:{width:"80%",height:"400px",margin:"0 auto"}},j={class:"columns_display",style:{float:"left"}},U={class:"bg_table_3"},K=["href"],Z={class:"fig_description"},J={style:{"font-size":"20px","font-weight":"bold",color:"white"}},Y={class:"plot"},ee={id:"chart_GWAS",ref:"chart_GWAS",style:{width:"100%",height:"1200px"}},te={id:"chart_zscore",ref:"chart_zscore",style:{width:"100%",height:"800px"}};function ae(e,t,a,n,r,o){const i=(0,l.g2)("el-option"),s=(0,l.g2)("el-select"),c=(0,l.g2)("el-col"),p=(0,l.g2)("el-input"),d=(0,l.g2)("el-button"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-checkbox"),m=(0,l.g2)("el-checkbox-group"),u=(0,l.g2)("el-popover"),_=(0,l.g2)("el-pagination"),g=(0,l.g2)("el-table-column"),f=(0,l.g2)("QuestionFilled"),S=(0,l.g2)("el-icon"),y=(0,l.g2)("el-tooltip"),k=(0,l.g2)("el-table"),x=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",O,[(0,l.bF)(h,{class:"searchContent",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[5]||(t[5]=(0,l.Lk)("span",{class:"cancerTypeSelect"},"Cancer type",-1)),(0,l.bF)(s,{ref:"select",modelValue:r.cancerType,"onUpdate:modelValue":t[0]||(t[0]=e=>r.cancerType=e),filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1,placeholder:"Select",style:{position:"relative",top:"5px"},onChange:o.handleSelectChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.options,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[5]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[6]||(t[6]=(0,l.Lk)("span",{class:"rsIDinputBox"},"SNP (rsID or position)",-1)),(0,l.bF)(p,{modelValue:r.searchSNPs,"onUpdate:modelValue":t[1]||(t[1]=e=>r.searchSNPs=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[6]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[7]||(t[7]=(0,l.Lk)("span",{class:"regioninputBox"},"Genomic region",-1)),(0,l.bF)(p,{modelValue:r.searchRegion,"onUpdate:modelValue":t[2]||(t[2]=e=>r.searchRegion=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[7]}),(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",H,[(0,l.bF)(d,{type:"primary",icon:r.Search,onClick:o.queryData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[8]||(t[8]=[(0,l.eW)("Search")])),_:1,__:[8]},8,["icon","onClick"])]),(0,l.Lk)("div",q,[(0,l.bF)(d,{type:"danger",icon:r.RefreshRight,onClick:o.clearData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Reset")])),_:1,__:[9]},8,["icon","onClick"])])]),_:1})]),_:1}),(0,l.bF)(h,{class:"searchExample",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:6},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.Lk)("span",{style:{position:"relative","font-size":"16px","font-weight":"bold",color:"#409EFF"}},"Search examples:",-1)])),_:1,__:[10]}),(0,l.bF)(c,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchsnp_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("rs2714491")])),_:1,__:[11]},8,["type","onClick"])]),_:1}),(0,l.bF)(c,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchsnp_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("2:202373160")])),_:1,__:[12]},8,["type","onClick"])]),_:1}),(0,l.bF)(c,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchregion_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[13]||(t[13]=[(0,l.eW)("2:202373160-202473160")])),_:1,__:[13]},8,["type","onClick"])]),_:1})]),_:1})]),t[24]||(t[24]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",B,[(0,l.Lk)("div",V,[(0,l.Lk)("div",X,null,512)]),(0,l.bF)(h,{gutter:20,style:{"padding-left":"80px","padding-right":"80px"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",j,[(0,l.bF)(u,{placement:"bottom",width:100,trigger:"hover"},{reference:(0,l.k6)(()=>[(0,l.bF)(d,{type:"primary",plain:""},{default:(0,l.k6)(()=>t[15]||(t[15]=[(0,l.eW)("Display columns")])),_:1,__:[15]})]),default:(0,l.k6)(()=>[(0,l.bF)(b,{indeterminate:r.isIndeterminate,modelValue:r.checkAll,"onUpdate:modelValue":t[3]||(t[3]=e=>r.checkAll=e),onChange:o.handleCheckAllChange},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)("Select all")])),_:1,__:[14]},8,["indeterminate","modelValue","onChange"]),t[16]||(t[16]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.bF)(m,{modelValue:r.checkedColumns,"onUpdate:modelValue":t[4]||(t[4]=e=>r.checkedColumns=e),onChange:o.handleCheckedColumnChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.columns,e=>((0,l.uX)(),(0,l.Wv)(b,{value:e,key:e},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[16]})])]),_:1}),(0,l.bF)(c,{span:18,style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(_,{center:"",background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[10,20,50,100],"page-size":r.pagesize,total:r.myResults.length,"current-page":r.currpage,onCurrentChange:o.handleCurrentChange,onSizeChange:o.handleSizeChange},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(c,{span:3,style:{margin:"0 auto"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.exportToExcel,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[17]||(t[17]=[(0,l.eW)("Download")])),_:1,__:[17]},8,["onClick"])]),_:1})]),_:1})]),(0,l.Lk)("div",U,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(k,{class:"tableResults",data:r.myResults.slice((r.currpage-1)*r.pagesize,r.currpage*r.pagesize),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort,"row-class-name":o.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(g,{label:"Selector","min-width":"100px",align:"center"},{default:(0,l.k6)(e=>[(0,l.bF)(b,{onChange:t=>o.selectRow(e.row,t),modelValue:e.row.check,"onUpdate:modelValue":t=>e.row.check=t},null,8,["onChange","modelValue","onUpdate:modelValue"])]),_:1}),r.checkedColumns.includes("Cancer 1")?((0,l.uX)(),(0,l.Wv)(g,{key:0,prop:"cancer1",label:"Cancer 1","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Cancer 2")?((0,l.uX)(),(0,l.Wv)(g,{key:1,prop:"cancer2",label:"Cancer 2","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SNP")?((0,l.uX)(),(0,l.Wv)(g,{key:2,prop:"snpid",label:"SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.snpid,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.snpid),9,K)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("SNP position")?((0,l.uX)(),(0,l.Wv)(g,{key:3,label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.hg19chr)+":"+(0,D.v_)(e.row.bp),1)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("EA/OA")?((0,l.uX)(),(0,l.Wv)(g,{key:4,prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[18]||(t[18]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(y,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("PLACO_T")?((0,l.uX)(),(0,l.Wv)(g,{key:5,prop:"T.placo",label:"PLACO_T","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("PLACO_P")?((0,l.uX)(),(0,l.Wv)(g,{key:6,prop:"p.placo",label:"PLACO_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("OR_cancer1")?((0,l.uX)(),(0,l.Wv)(g,{key:7,prop:"or.trait1",label:"OR_cancer1","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SE_cancer1")?((0,l.uX)(),(0,l.Wv)(g,{key:8,prop:"se.trait1",label:"SE_cancer1","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("P_cancer1")?((0,l.uX)(),(0,l.Wv)(g,{key:9,prop:"pval.trait1",label:"P_cancer1","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("EAF_cancer1")?((0,l.uX)(),(0,l.Wv)(g,{key:10,prop:"EURaf.trait1","min-width":"120px",align:"center"},{header:(0,l.k6)(()=>[t[19]||(t[19]=(0,l.Lk)("span",null,"EAF_cancer1",-1)),(0,l.bF)(y,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("OR_cancer2")?((0,l.uX)(),(0,l.Wv)(g,{key:11,prop:"or.trait2",label:"OR_cancer2","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SE_cancer2")?((0,l.uX)(),(0,l.Wv)(g,{key:12,prop:"se.trait2",label:"SE_cancer2","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("P_cancer2")?((0,l.uX)(),(0,l.Wv)(g,{key:13,prop:"pval.trait2",label:"P_cancer2","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("EAF_cancer2")?((0,l.uX)(),(0,l.Wv)(g,{key:14,prop:"EURaf.trait2","min-width":"120px",align:"center"},{header:(0,l.k6)(()=>[t[20]||(t[20]=(0,l.Lk)("span",null,"EAF_cancer2",-1)),(0,l.bF)(y,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0)]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),(0,l.Lk)("div",Z,[(0,l.Lk)("span",J,[t[21]||(t[21]=(0,l.eW)(" PLACO/GWAS figures in SNP and its Â± 1Mb flanking region based on the selected SNP ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedSNP?"#ffd04b":"white"})},(0,D.v_)(r.selectedSNP),5),t[22]||(t[22]=(0,l.eW)(" and cancers ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedCancer1?"#ffd04b":"white"})},(0,D.v_)(r.selectedCancer1),5),t[23]||(t[23]=(0,l.Lk)("span",null,"/",-1)),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedCancer2?"#ffd04b":"white"})},(0,D.v_)(r.selectedCancer2),5)])]),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",Y,[(0,l.Lk)("div",ee,null,512),(0,l.Lk)("div",te,null,512)])),[[x,r.loading_echart]])],64)}a(7588),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(4603),a(7566),a(8721);var ne=a(4373),le=a(4130),re=a.n(le);ne.A.interceptors.request.use(e=>(console.log(e),re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(console.log(e),re().done(),e));const oe=["Cancer 1","Cancer 2","SNP","SNP position","EA/OA","PLACO_T","PLACO_P","OR_cancer1","SE_cancer1","P_cancer1","EAF_cancer1","OR_cancer2","SE_cancer2","P_cancer2","EAF_cancer2"],ie=["Acute myeloid leukaemia","Basal cell carcinoma","Bladder cancer","Brain glioblastoma and astrocytoma","Brain meningioma","Breast cancer","Cervical cancer","Chronic myeloid leukaemia","Colorectal cancer","Diffuse large B-cell lymphoma","Endometrial cancer","Esophageal cancer","Gastrointestinal stromal tumor and sarcoma","Head and neck cancer","Hepatocellular carcinoma","Hodgkins lymphoma","Kidney cancer, except renal pelvis","Lung cancer","Lymphocytic leukemia","Malignant neoplasm of bone and articular cartilage","Malignant neoplasm of eye and adnexa","Malignant neoplasm of intrahepatic ducts, biliary tract and gallbladder","Mantle cell lymphoma","Mesothelioma","Multiple myeloma","Myelodysplastic syndrome","Marginal zone B-cell lymphoma","Ovarian cancer","Pancreatic cancer","Prostate cancer","Skin melanoma","Small intestine cancer","Squamous cell carcinoma","Stomach cancer","Testicular cancer","Thyroid cancer","Vulvar cancer"],se=ie.map(e=>({value:e,label:e}));var ce={name:"PleioSNP",data(){return{Search:w.Search,RefreshRight:w.RefreshRight,options:se,cancerType:"",searchSNPs:"",searchRegion:"",pagesize:10,currpage:1,myResults:[],loading:!1,checkAll:!0,columns:oe,checkedColumns:oe,isIndeterminate:!1,currentSelectedRow:null,selectedSNP:"",selected_chr:null,selected_pos:null,selectedCancer1:"",selectedCancer2:"",plot_data:[],chart_GWAS:null,chart_zscore:null,loading_echart:!1,chart_sankey:null,query:!1}},mounted(){const e=this.$route.query.cancer1,t=this.$route.query.cancer2;this.query=this.$route.query.query,this.cancerType=[e,t],this.query?this.queryData():(this.cancerType="",this.loading=!0,ne.A.get("/api/cancerdb/pleio_snp").then(e=>{this.myResults=e.data,this.loading=!1,this.$nextTick(()=>{this.plotSankey(this.myResults)}),this.myResults.length>0&&this.selectRow(this.myResults[0],!0)}))},methods:{searchsnp_eg(){const e=event.target.textContent.trim();this.searchSNPs=e,this.searchRegion=""},searchregion_eg(){const e=event.target.textContent.trim();this.searchRegion=e,this.searchSNPs=""},handleSelectChange(){this.$nextTick(()=>{const e=this.$refs.select&&this.$refs.select.$el.querySelector("input");e?e.value="":console.error("Input element not found")})},handleCurrentChange(e){this.currpage=e},handleSizeChange(e){this.pagesize=e},handleSort(e){"descending"===e.order?this.myResults.sort((t,a)=>a[e.prop]-t[e.prop]):"ascending"===e.order&&this.myResults.sort((t,a)=>t[e.prop]-a[e.prop])},rounding(e,t,a){return a.toFixed(3)},toggleDialog(){this.showDialog=!this.showDialog},handleCheckAllChange(e){this.checkedColumns=e?oe:[],this.isIndeterminate=!1},handleCheckedColumnChange(e){let t=e.length;this.checkAll=t===this.columns.length,this.isIndeterminate=t>0&&t<this.columns.length},selectRow(e,t){this.currentSelectedRow===e?(this.currentSelectedRow=null,e.checked=!1):(this.myResults.forEach(e=>{e.check=!1}),this.currentSelectedRow=e,e.check=t,this.selectedSNP=e.snpid,this.selected_chr=e.hg19chr,this.selected_pos=e.bp,this.selectedCancer1=e.cancer1,this.selectedCancer2=e.cancer2,this.sendFigData())},rowClassName({row:e}){return e.check?"row-selected":""},exportToExcel(){const e={"Cancer 1":"cancer1","Cancer 2":"cancer2",SNP:"snpid","SNP position":e=>`${e.hg19chr}:${e.bp}`,"EA/OA":"alleles",PLACO_T:"T.placo",PLACO_P:"p.placo",OR_cancer1:"or.trait1",SE_cancer1:"se.trait1",P_cancer1:"pval.trait1",EAF_cancer1:"EURaf.trait1",OR_cancer2:"or.trait2",SE_cancer2:"se.trait2",P_cancer2:"pval.trait2",EAF_cancer2:"EURaf.trait2"},t=this.myResults,a=this.checkedColumns.map(t=>e[t]),n=t.map(e=>a.map(t=>"function"===typeof t?t(e):e[t]));let l="";l+=this.checkedColumns.join(",")+"\n",n.forEach(e=>{l+=e.join(",")+"\n"});const r=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download","Pleiotropic_SNP_P5e-8.csv"),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},plotSankey(e){const t=[],a=new Set;e.forEach(e=>{a.add(`cancer1_${e.cancer1}`),a.add(`cancer2_${e.cancer2}`)});let n=0;a.forEach(e=>{t.push({name:e,x:(e.startsWith("cancer1_"),200*n),y:e.startsWith("cancer1_")?0:300}),n++});const l={};e.forEach(e=>{const t=`${e.cancer1}->${e.cancer2}`;l[t]?l[t].value+=1:l[t]={source:`cancer1_${e.cancer1}`,target:`cancer2_${e.cancer2}`,value:1}});const r=Object.values(l),o={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"sankey",layout:"none",emphasis:{focus:"adjacency"},data:t,links:r,lineStyle:{color:"gradient",curveness:.5},label:{formatter:function(e){return e.name.replace(/^cancer1_|^cancer2_/,"")}},draggable:!1}]};this.chart_sankey=T.Ts(this.$refs.chart_sankey),this.chart_sankey.setOption(o),this.chart_sankey.on("click",e=>{if("node"===e.dataType){const t=e.data.name;this.cancerType=[t.replace(/^cancer1_|^cancer2_/,"")],this.searchSNPs="",this.searchRegion="",this.queryData()}if("edge"===e.dataType){const t=e.data.source,a=e.data.target;this.cancerType=[t.replace(/^cancer1_/,""),a.replace(/^cancer2_/,"")],this.searchSNPs="",this.searchRegion="",this.queryData(),console.log(this.cancerType)}})},sendFigData(){this.loading_echart=!0,ne.A.post("/api/cancerdb/pleio_snp_fig",{cancer1:this.selectedCancer1,cancer2:this.selectedCancer2,chr:this.selected_chr,pos:this.selected_pos}).then(e=>{this.plot_data=e.data,this.plotManhattanWithChartJS(this.plot_data),this.plotZscore(this.plot_data),this.loading_echart=!1}).catch(e=>{console.error("Error sending data to the backend:",e)})},plotManhattanWithChartJS(e){this.chart_GWAS=(0,v.IG)(T.Ts(this.$refs.chart_GWAS,null,{renderer:"svg"}));const t=e.GWAS1_result_sig.map(e=>[e.bp,e.log10P]),a=e.GWAS1_result_notsig.map(e=>[e.bp,e.log10P]),n=e.GWAS2_result_sig.map(e=>[e.bp,e.log10P]),l=e.GWAS2_result_notsig.map(e=>[e.bp,e.log10P]),r=e.placo_result_sig.map(e=>[e.BP,e.placo_log10P]),o=e.placo_result_notsig.map(e=>[e.BP,e.placo_log10P]),i={type:"value",min:this.selected_pos-1e6,max:this.selected_pos+1e6,splitNumber:10,splitLine:{show:!1},axisLabel:{show:!0,formatter:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},s={type:"value",min:0,splitNumber:10,splitLine:{show:!1},minInterval:1},c={name:"thresh",type:"line",markLine:{symbol:"none",data:[{yAxis:7.30103}],label:{show:!0,position:"end",formatter:"-log10(5e-8)"},lineStyle:{type:"dashed",color:"red"}}},p=[0,1,2].map(e=>({...c,xAxisIndex:e,yAxisIndex:e})),d={tooltip:{trigger:"item",formatter:t=>{const a=t.seriesIndex;let n="";if(0===a){const a=e.placo_result_sig[t.dataIndex];n=`\n                    <b>SNP:</b> ${a.SNP}<br>\n                    <b>SNP position:</b> ${a.Chr}:${a.BP}<br>\n                    <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                    <b>PLACO_P:</b> ${a.placo_p}<br/>\n                    <table style="width: 100%; text-align: left; font-size: 12px;">\n                      <tr>\n                        <td></td>\n                        <td><b>${this.selectedCancer1}</b></td>\n                        <td><b>${this.selectedCancer1}</b></td>\n                      </tr>\n                      <tr>\n                        <td><b>EAF:</b></td>\n                        <td>${a.gwas1_EAF}</td>\n                        <td>${a.gwas2_EAF}</td>\n                      </tr>\n                      <tr>\n                        <td><b>Beta:</b></td>\n                        <td>${a.gwas1_beta}</td>\n                        <td>${a.gwas2_beta}</td>\n                      </tr>\n                      <tr>\n                        <td><b>SE:</b></td>\n                        <td>${a.gwas1_se}</td>\n                        <td>${a.gwas2_se}</td>\n                      </tr>\n                      <tr>\n                        <td><b>P:</b></td>\n                        <td>${a.gwas1_p}</td>\n                        <td>${a.gwas2_p}</td>\n                      </tr>\n                    </table>\n                `}else if(1===a){const a=e.placo_result_notsig[t.dataIndex];n=`\n                    <b>SNP:</b> ${a.SNP}<br>\n                    <b>SNP position:</b> ${a.Chr}:${a.BP}<br>\n                    <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                    <b>PLACO_P:</b> ${a.placo_p}<br/>\n                    <table style="width: 100%; text-align: left; font-size: 12px;">\n                      <tr>\n                        <td></td>\n                        <td><b>${this.selectedCancer1}</b></td>\n                        <td><b>${this.selectedCancer1}</b></td>\n                      </tr>\n                      <tr>\n                        <td><b>EAF:</b></td>\n                        <td>${a.gwas1_EAF}</td>\n                        <td>${a.gwas2_EAF}</td>\n                      </tr>\n                      <tr>\n                        <td><b>Beta:</b></td>\n                        <td>${a.gwas1_beta}</td>\n                        <td>${a.gwas2_beta}</td>\n                      </tr>\n                      <tr>\n                        <td><b>SE:</b></td>\n                        <td>${a.gwas1_se}</td>\n                        <td>${a.gwas2_se}</td>\n                      </tr>\n                      <tr>\n                        <td><b>P:</b></td>\n                        <td>${a.gwas1_p}</td>\n                        <td>${a.gwas2_p}</td>\n                      </tr>\n                    </table>\n                `}else if(2===a){const a=e.GWAS1_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}else if(3===a){const a=e.GWAS1_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}else if(4===a){const a=e.GWAS2_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}else if(5===a){const a=e.GWAS2_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}return n}},dataZoom:[{show:!0,realtime:!0,start:0,end:100,xAxisIndex:[0,1,2],top:"90%"},{type:"inside",realtime:!0,xAxisIndex:[0,1,2],top:"90%"}],grid:[{height:"20%"},{top:"35%",height:"20%"},{top:"65%",height:"20%"}],xAxis:[{...i},{...i,gridIndex:1},{...i,gridIndex:2}],yAxis:[{...s,name:"-log10(PLACO_P)"},{...s,name:`-log10(GWAS_P) ${this.selectedCancer1}`,gridIndex:1},{...s,name:`-log10(GWAS_P) ${this.selectedCancer2}`,gridIndex:2}],series:[{name:"Significant",type:"scatter",data:r,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:o,symbolSize:5,itemStyle:{color:"#79bbff"}},{name:"Significant",type:"scatter",data:t,xAxisIndex:1,yAxisIndex:1,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:a,xAxisIndex:1,yAxisIndex:1,symbolSize:5,itemStyle:{color:"#79bbff"}},{name:"Significant",type:"scatter",data:n,xAxisIndex:2,yAxisIndex:2,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:l,xAxisIndex:2,yAxisIndex:2,symbolSize:5,itemStyle:{color:"#79bbff"}},...p],legend:{data:[{name:"Significant",icon:"circle",itemStyle:{color:"red"}},{name:"Insignificant",icon:"circle",itemStyle:{color:"#79bbff"}}]}};this.chart_GWAS.setOption(d)},plotZscore(e){this.chart_zscore=T.Ts(this.$refs.chart_zscore);const t=e.merged_result.map(e=>[e.gwas1_zscore,e.gwas2_zscore]),a={title:{text:`GWAS Z-scores (${this.selectedCancer1} vs ${this.selectedCancer2})`,left:"center"},tooltip:[{trigger:"item",formatter:t=>{const a=e.merged_result[t.dataIndex];return`\n                    <b>SNP:</b> ${a.SNP}<br>\n                    <b>SNP position:</b> ${a.Chr}:${a.BP}<br>\n                    <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                    <table style="width: 100%; text-align: left; font-size: 12px;">\n                      <tr>\n                        <td></td>\n                        <td><b>${this.selectedCancer1}</b></td>\n                        <td><b>${this.selectedCancer2}</b></td>\n                      </tr>\n                      <tr>\n                        <td><b>EAF:</b></td>\n                        <td>${a.gwas1_EAF}</td>\n                        <td>${a.gwas2_EAF}</td>\n                      </tr>\n                      <tr>\n                        <td><b>Z-score:</b></td>\n                        <td>${a.gwas1_zscore}</td>\n                        <td>${a.gwas2_zscore}</td>\n                      </tr>\n                      <tr>\n                        <td><b>P:</b></td>\n                        <td>${a.gwas1_p}</td>\n                        <td>${a.gwas2_p}</td>\n                      </tr>\n                    </table>\n                `}}],xAxis:{name:`GWAS Z-score\n(${this.selectedCancer1})`,type:"value"},yAxis:{name:`GWAS Z-score\n(${this.selectedCancer2})`,type:"value"},series:[{type:"scatter",data:t,symbolSize:10,itemStyle:{color:"#5470C6"}}]};this.chart_zscore.setOption(a)},queryData(){this.currpage=1,this.loading=!0,ne.A.post("/api/cancerdb/pleio_snp",{cancerType:this.cancerType,searchSNPs:this.searchSNPs,searchRegion:this.searchRegion}).then(e=>{0===e.data.length?this.$alert("Sorry, the input content is not existed or not significant in our results.","No results",{confirmButtonText:"OK"}):"errorID"===e.data?this.$alert("Invalid genomic region search!","Error",{confirmButtonText:"OK"}):(this.myResults=e.data,this.plotSankey(this.myResults),this.selectRow(this.myResults[0],!0)),this.loading=!1}).catch(e=>{console.log(e)})},clearData(){this.cancerType="",this.searchSNPs="",this.searchGene=""}}};const pe=(0,o.A)(ce,[["render",ae],["__scopeId","data-v-4d3168e6"]]);var de=pe;const he={class:"search"},be={class:"searchButton"},me={class:"clearButton"},ue={class:"table_display"},_e={class:"plot_sankey"},ge={id:"chart_sankey",ref:"chart_sankey",style:{width:"80%",height:"400px",margin:"0 auto"}},fe={class:"columns_display",style:{float:"left"}},Se={class:"bg_table_3"},ye=["href"],ke=["href"],xe={class:"fig_description"},Pe={style:{"font-size":"20px","font-weight":"bold",color:"white"}},we={class:"plot"},Le={id:"chart_GWAS",ref:"chart_GWAS",style:{width:"100%",height:"800px"}},Fe={id:"chart_zscore",ref:"chart_zscore",style:{width:"100%",height:"800px"}};function Ce(e,t,a,n,r,o){const i=(0,l.g2)("el-option"),s=(0,l.g2)("el-select"),c=(0,l.g2)("el-col"),p=(0,l.g2)("el-input"),d=(0,l.g2)("el-button"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-checkbox"),m=(0,l.g2)("el-checkbox-group"),u=(0,l.g2)("el-popover"),_=(0,l.g2)("el-pagination"),g=(0,l.g2)("el-table-column"),f=(0,l.g2)("el-table"),S=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",he,[(0,l.bF)(h,{class:"searchContent",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[5]||(t[5]=(0,l.Lk)("span",{class:"cancerTypeSelect"},"Cancer type",-1)),(0,l.bF)(s,{ref:"select",modelValue:r.cancerType,"onUpdate:modelValue":t[0]||(t[0]=e=>r.cancerType=e),filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1,placeholder:"Select",style:{position:"relative",top:"5px"},onChange:o.handleSelectChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.options,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[5]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[6]||(t[6]=(0,l.Lk)("span",{class:"geneinputBox"},"Gene symbol",-1)),(0,l.bF)(p,{modelValue:r.searchGenes,"onUpdate:modelValue":t[1]||(t[1]=e=>r.searchGenes=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[6]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[7]||(t[7]=(0,l.Lk)("span",{class:"regioninputBox"},"Genomic region",-1)),(0,l.bF)(p,{modelValue:r.searchRegion,"onUpdate:modelValue":t[2]||(t[2]=e=>r.searchRegion=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[7]}),(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",be,[(0,l.bF)(d,{type:"primary",icon:r.Search,onClick:o.queryData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[8]||(t[8]=[(0,l.eW)("Search")])),_:1,__:[8]},8,["icon","onClick"])]),(0,l.Lk)("div",me,[(0,l.bF)(d,{type:"danger",icon:r.RefreshRight,onClick:o.clearData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Reset")])),_:1,__:[9]},8,["icon","onClick"])])]),_:1})]),_:1}),(0,l.bF)(h,{class:"searchExample",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.Lk)("span",{style:{position:"relative","font-size":"16px","font-weight":"bold",color:"#409EFF"}},"Search examples:",-1)])),_:1,__:[10]}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchsnp_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("TERT")])),_:1,__:[11]},8,["type","onClick"])]),_:1}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchregion_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("2:202373160-202473160")])),_:1,__:[12]},8,["type","onClick"])]),_:1})]),_:1})]),t[20]||(t[20]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",ue,[(0,l.Lk)("div",_e,[(0,l.Lk)("div",ge,null,512)]),(0,l.bF)(h,{gutter:20,style:{"padding-left":"80px","padding-right":"80px"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",fe,[(0,l.bF)(u,{placement:"bottom",width:100,trigger:"hover"},{reference:(0,l.k6)(()=>[(0,l.bF)(d,{type:"primary",plain:""},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)("Display columns")])),_:1,__:[14]})]),default:(0,l.k6)(()=>[(0,l.bF)(b,{indeterminate:r.isIndeterminate,modelValue:r.checkAll,"onUpdate:modelValue":t[3]||(t[3]=e=>r.checkAll=e),onChange:o.handleCheckAllChange},{default:(0,l.k6)(()=>t[13]||(t[13]=[(0,l.eW)("Select all")])),_:1,__:[13]},8,["indeterminate","modelValue","onChange"]),t[15]||(t[15]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.bF)(m,{modelValue:r.checkedColumns,"onUpdate:modelValue":t[4]||(t[4]=e=>r.checkedColumns=e),onChange:o.handleCheckedColumnChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.columns,e=>((0,l.uX)(),(0,l.Wv)(b,{value:e,key:e},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[15]})])]),_:1}),(0,l.bF)(c,{span:18,style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(_,{center:"",background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[10,20,50,100],"page-size":r.pagesize,total:r.myResults.length,"current-page":r.currpage,onCurrentChange:o.handleCurrentChange,onSizeChange:o.handleSizeChange},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(c,{span:3,style:{margin:"0 auto"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.exportToExcel,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[16]||(t[16]=[(0,l.eW)("Download")])),_:1,__:[16]},8,["onClick"])]),_:1})]),_:1})]),(0,l.Lk)("div",Se,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(f,{class:"tableResults",data:r.myResults.slice((r.currpage-1)*r.pagesize,r.currpage*r.pagesize),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort,"row-class-name":o.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(g,{label:"Selector","min-width":"100px",align:"center"},{default:(0,l.k6)(e=>[(0,l.bF)(b,{onChange:t=>o.selectRow(e.row,t),modelValue:e.row.check,"onUpdate:modelValue":t=>e.row.check=t},null,8,["onChange","modelValue","onUpdate:modelValue"])]),_:1}),r.checkedColumns.includes("Cancer 1")?((0,l.uX)(),(0,l.Wv)(g,{key:0,prop:"cancer1",label:"Cancer 1","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Cancer 2")?((0,l.uX)(),(0,l.Wv)(g,{key:1,prop:"cancer2",label:"Cancer 2","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Gene")?((0,l.uX)(),(0,l.Wv)(g,{key:2,prop:"SYMBOL",label:"Gene","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_gene?gene="+e.row.SYMBOL,target:"_blank",class:"link-gene"},(0,D.v_)(e.row.SYMBOL),9,ye)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("Gene position")?((0,l.uX)(),(0,l.Wv)(g,{key:3,label:"Gene position","min-width":"180px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.CHR)+":"+(0,D.v_)(e.row.START)+"-"+(0,D.v_)(e.row.STOP),1)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("Gene strand")?((0,l.uX)(),(0,l.Wv)(g,{key:4,prop:"X5",label:"Gene strand","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Number of SNPs")?((0,l.uX)(),(0,l.Wv)(g,{key:5,prop:"NSNPS",label:"Number of SNPs","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("PLACO_FDR")?((0,l.uX)(),(0,l.Wv)(g,{key:6,prop:"fdr.PLACO",label:"PLACO_FDR","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Cancer1_FDR")?((0,l.uX)(),(0,l.Wv)(g,{key:7,prop:"fdr.trait1",label:"Cancer1_FDR","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Cancer2_FDR")?((0,l.uX)(),(0,l.Wv)(g,{key:8,prop:"fdr.trait2",label:"Cancer2_FDR","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("PP.H4.abf")?((0,l.uX)(),(0,l.Wv)(g,{key:9,prop:"PP.H4.abf",label:"PP.H4.abf","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("PP.H0.abf")?((0,l.uX)(),(0,l.Wv)(g,{key:10,prop:"PP.H0.abf",label:"PP.H0.abf","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("PP.H1.abf")?((0,l.uX)(),(0,l.Wv)(g,{key:11,prop:"PP.H1.abf",label:"PP.H1.abf","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("PP.H2.abf")?((0,l.uX)(),(0,l.Wv)(g,{key:12,prop:"PP.H2.abf",label:"PP.H2.abf","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("PP.H3.abf")?((0,l.uX)(),(0,l.Wv)(g,{key:13,prop:"PP.H3.abf",label:"PP.H3.abf","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Candidate SNP")?((0,l.uX)(),(0,l.Wv)(g,{key:14,prop:"snp",label:"Candidate SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.snp,target:"_blank",class:"link-gene"},(0,D.v_)(e.row.snp),9,ke)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("SNP.PP.H4")?((0,l.uX)(),(0,l.Wv)(g,{key:15,prop:"SNP.PP.H4",label:"SNP.PP.H4","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0)]),_:1},8,["data","onSortChange","row-class-name"])),[[S,r.loading]])]),(0,l.Lk)("div",xe,[(0,l.Lk)("span",Pe,[t[17]||(t[17]=(0,l.eW)(" GWAS figures in gene region based on the selected gene ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedGene?"#ffd04b":"white"})},(0,D.v_)(r.selectedGene),5),t[18]||(t[18]=(0,l.eW)(" and cancers ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedCancer1?"#ffd04b":"white"})},(0,D.v_)(r.selectedCancer1),5),t[19]||(t[19]=(0,l.Lk)("span",null,"/",-1)),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedCancer2?"#ffd04b":"white"})},(0,D.v_)(r.selectedCancer2),5)])]),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",we,[(0,l.Lk)("div",Le,null,512),(0,l.Lk)("div",Fe,null,512)])),[[S,r.loading_echart]])],64)}ne.A.interceptors.request.use(e=>(console.log(e),re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(console.log(e),re().done(),e));const Te=["Cancer 1","Cancer 2","Gene","Gene position","Gene strand","Number of SNPs","PLACO_FDR","Cancer1_FDR","Cancer2_FDR","PP.H4.abf","PP.H0.abf","PP.H1.abf","PP.H2.abf","PP.H3.abf","Candidate SNP","SNP.PP.H4"],ve=["Acute myeloid leukaemia","Basal cell carcinoma","Bladder cancer","Brain glioblastoma and astrocytoma","Brain meningioma","Breast cancer","Cervical cancer","Chronic myeloid leukaemia","Colorectal cancer","Diffuse large B-cell lymphoma","Endometrial cancer","Esophageal cancer","Gastrointestinal stromal tumor and sarcoma","Head and neck cancer","Hepatocellular carcinoma","Hodgkins lymphoma","Kidney cancer, except renal pelvis","Lung cancer","Lymphocytic leukemia","Malignant neoplasm of bone and articular cartilage","Malignant neoplasm of eye and adnexa","Malignant neoplasm of intrahepatic ducts, biliary tract and gallbladder","Mantle cell lymphoma","Mesothelioma","Multiple myeloma","Myelodysplastic syndrome","Marginal zone B-cell lymphoma","Ovarian cancer","Pancreatic cancer","Prostate cancer","Skin melanoma","Small intestine cancer","Squamous cell carcinoma","Stomach cancer","Testicular cancer","Thyroid cancer","Vulvar cancer"],Qe=ve.map(e=>({value:e,label:e}));var Ae={name:"PleioGene",data(){return{Search:w.Search,RefreshRight:w.RefreshRight,options:Qe,cancerType:"",searchGenes:"",searchRegion:"",pagesize:10,currpage:1,myResults:[],loading:!1,checkAll:!0,columns:Te,checkedColumns:Te,isIndeterminate:!1,currentSelectedRow:null,selectedGene:"",selected_chr:null,selected_start:null,selected_stop:null,selectedCancer1:"",selectedCancer2:"",plot_data:[],chart_GWAS:null,chart_zscore:null,loading_echart:!1,chart_sankey:null,query:!1}},mounted(){const e=this.$route.query.cancer1,t=this.$route.query.cancer2;this.query=this.$route.query.query,this.cancerType=[e,t],this.query?this.queryData():(this.cancerType="",this.loading=!0,ne.A.get("/api/cancerdb/pleio_gene").then(e=>{this.myResults=e.data,this.loading=!1,this.$nextTick(()=>{this.plotSankey(this.myResults)}),this.myResults.length>0&&this.selectRow(this.myResults[0],!0)}))},methods:{searchsnp_eg(){const e=event.target.textContent.trim();this.searchGenes=e,this.searchRegion=""},searchregion_eg(){const e=event.target.textContent.trim();this.searchRegion=e,this.searchGenes=""},handleSelectChange(){this.$nextTick(()=>{const e=this.$refs.select&&this.$refs.select.$el.querySelector("input");e?e.value="":console.error("Input element not found")})},handleCurrentChange(e){this.currpage=e},handleSizeChange(e){this.pagesize=e},handleSort(e){"descending"===e.order?this.myResults.sort((t,a)=>a[e.prop]-t[e.prop]):"ascending"===e.order&&this.myResults.sort((t,a)=>t[e.prop]-a[e.prop])},handleCheckAllChange(e){this.checkedColumns=e?Te:[],this.isIndeterminate=!1},handleCheckedColumnChange(e){let t=e.length;this.checkAll=t===this.columns.length,this.isIndeterminate=t>0&&t<this.columns.length},selectRow(e,t){this.currentSelectedRow===e?(this.currentSelectedRow=null,e.checked=!1):(this.myResults.forEach(e=>{e.check=!1}),this.currentSelectedRow=e,e.check=t,this.selectedGene=e.SYMBOL,this.selected_chr=e.CHR,this.selected_start=e.START,this.selected_stop=e.STOP,this.selectedCancer1=e.cancer1,this.selectedCancer2=e.cancer2,this.sendFigData())},rowClassName({row:e}){return e.check?"row-selected":""},exportToExcel(){const e={"Cancer 1":"cancer1","Cancer 2":"cancer2",Gene:"SYMBOL","Gene position":e=>`${e.CHR}:${e.START}-${e.STOP}`,"Gene strand":"X5","Number of SNPs":"NSNPS",PLACO_FDR:"fdr.PLACO",Cancer1_FDR:"fdr.trait1",Cancer2_FDR:"fdr.trait2","PP.H4.abf":"PP.H4.abf","PP.H0.abf":"PP.H0.abf","PP.H1.abf":"PP.H1.abf","PP.H2.abf":"PP.H2.abf","PP.H3.abf":"PP.H3.abf","Candidate SNP":"snp","SNP.PP.H4":"SNP.PP.H4"},t=this.myResults,a=this.checkedColumns.map(t=>e[t]),n=t.map(e=>a.map(t=>"function"===typeof t?t(e):e[t]));let l="";l+=this.checkedColumns.join(",")+"\n",n.forEach(e=>{l+=e.join(",")+"\n"});const r=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download","Pleiotropic_Gene_FDR0.05.csv"),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},plotSankey(e){const t=[],a=new Set;e.forEach(e=>{a.add(`cancer1_${e.cancer1}`),a.add(`cancer2_${e.cancer2}`)});let n=0;a.forEach(e=>{t.push({name:e,x:(e.startsWith("cancer1_"),200*n),y:e.startsWith("cancer1_")?0:300}),n++});const l={};e.forEach(e=>{const t=`${e.cancer1}->${e.cancer2}`;l[t]?l[t].value+=1:l[t]={source:`cancer1_${e.cancer1}`,target:`cancer2_${e.cancer2}`,value:1}});const r=Object.values(l),o={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"sankey",layout:"none",emphasis:{focus:"adjacency"},data:t,links:r,lineStyle:{color:"gradient",curveness:.5},label:{formatter:function(e){return e.name.replace(/^cancer1_|^cancer2_/,"")}},draggable:!1}]};this.chart_sankey=T.Ts(this.$refs.chart_sankey),this.chart_sankey.setOption(o),this.chart_sankey.on("click",e=>{if("node"===e.dataType){const t=e.data.name;this.cancerType=[t.replace(/^cancer1_|^cancer2_/,"")],this.searchGenes="",this.searchRegion="",this.queryData()}if("edge"===e.dataType){const t=e.data.source,a=e.data.target;this.cancerType=[t.replace(/^cancer1_/,""),a.replace(/^cancer2_/,"")],this.searchGenes="",this.searchRegion="",this.queryData(),console.log(this.cancerType)}})},sendFigData(){this.loading_echart=!0,ne.A.post("/api/cancerdb/pleio_gene_fig",{cancer1:this.selectedCancer1,cancer2:this.selectedCancer2,chr:this.selected_chr,start:this.selected_start,stop:this.selected_stop}).then(e=>{this.plot_data=e.data,this.plotManhattanWithChartJS(this.plot_data),this.plotZscore(this.plot_data),this.loading_echart=!1}).catch(e=>{console.error("Error sending data to the backend:",e)})},plotManhattanWithChartJS(e){this.chart_GWAS=(0,v.IG)(T.Ts(this.$refs.chart_GWAS,null,{renderer:"svg"}));const t=e.GWAS1_result_sig.map(e=>[e.bp,e.log10P]),a=e.GWAS1_result_notsig.map(e=>[e.bp,e.log10P]),n=e.GWAS2_result_sig.map(e=>[e.bp,e.log10P]),l=e.GWAS2_result_notsig.map(e=>[e.bp,e.log10P]),r={type:"value",min:this.selected_start,max:this.selected_stop,splitNumber:10,splitLine:{show:!1},axisLabel:{show:!0,formatter:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},o={type:"value",min:0,splitNumber:10,splitLine:{show:!1},minInterval:1},i={name:"thresh",type:"line",markLine:{symbol:"none",data:[{yAxis:7.30103}],label:{show:!0,position:"end",formatter:"-log10(5e-8)"},lineStyle:{type:"dashed",color:"red"}}},s=[0,1].map(e=>({...i,xAxisIndex:e,yAxisIndex:e})),c={tooltip:{trigger:"item",formatter:function(t){const a=t.seriesIndex;let n="";if(0===a){const a=e.GWAS1_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}else if(1===a){const a=e.GWAS1_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}else if(2===a){const a=e.GWAS2_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}else if(3===a){const a=e.GWAS2_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}return n}},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:[{show:!0,realtime:!0,start:0,end:100,xAxisIndex:[0,1],top:"90%"},{type:"inside",realtime:!0,xAxisIndex:[0,1],top:"90%"}],grid:[{height:"35%"},{top:"50%",height:"35%"}],xAxis:[{...r,gridIndex:0},{...r,gridIndex:1}],yAxis:[{...o,name:`-log10(GWAS_P) ${this.selectedCancer1}`,gridIndex:0},{...o,name:`-log10(GWAS_P) ${this.selectedCancer2}`,gridIndex:1}],series:[{name:"Significant",type:"scatter",data:t,xAxisIndex:0,yAxisIndex:0,symbolSize:10,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:a,xAxisIndex:0,yAxisIndex:0,symbolSize:10,itemStyle:{color:"#79bbff"}},{name:"Significant",type:"scatter",data:n,xAxisIndex:1,yAxisIndex:1,symbolSize:10,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:l,xAxisIndex:1,yAxisIndex:1,symbolSize:10,itemStyle:{color:"#79bbff"}},...s],legend:{data:[{name:"Significant",icon:"circle",itemStyle:{color:"red"}},{name:"Insignificant",icon:"circle",itemStyle:{color:"#79bbff"}}]}};this.chart_GWAS.setOption(c)},plotZscore(e){this.chart_zscore=T.Ts(this.$refs.chart_zscore);const t=e.merged_result.map(e=>[e.gwas1_zscore,e.gwas2_zscore]),a={title:{text:`GWAS Z-scores (${this.selectedCancer1} vs ${this.selectedCancer2})`,left:"center"},tooltip:[{trigger:"item",formatter:t=>{const a=e.merged_result[t.dataIndex];return`\n                    <b>SNP:</b> ${a.SNP}<br>\n                    <b>SNP position:</b> ${a.Chr}:${a.BP}<br>\n                    <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                    <table style="width: 100%; text-align: left; font-size: 12px;">\n                      <tr>\n                        <td><b>GWAS</b></td>\n                        <td><b>${this.selectedCancer1}</b></td>\n                        <td><b>${this.selectedCancer2}</b></td>\n                      </tr>\n                      <tr>\n                        <td><b>EAF:</b></td>\n                        <td>${a.gwas1_EAF}</td>\n                        <td>${a.gwas2_EAF}</td>\n                      </tr>\n                      <tr>\n                        <td><b>Z-score:</b></td>\n                        <td>${a.gwas1_zscore}</td>\n                        <td>${a.gwas2_zscore}</td>\n                      </tr>\n                      <tr>\n                        <td><b>P:</b></td>\n                        <td>${a.gwas1_p}</td>\n                        <td>${a.gwas2_p}</td>\n                      </tr>\n                    </table>\n                `}}],xAxis:{name:`GWAS Z-score\n(${this.selectedCancer1})`,type:"value"},yAxis:{name:`GWAS Z-score\n(${this.selectedCancer2})`,type:"value"},series:[{type:"scatter",data:t,symbolSize:10,itemStyle:{color:"#5470C6"}}]};this.chart_zscore.setOption(a)},queryData(){this.currpage=1,this.loading=!0,ne.A.post("/api/cancerdb/pleio_gene",{cancerType:this.cancerType,searchGenes:this.searchGenes,searchRegion:this.searchRegion}).then(e=>{0===e.data.length?this.$alert("Sorry, the input content is not existed or not significant in our results.","No results",{confirmButtonText:"OK"}):"errorID"===e.data?this.$alert("Invalid genomic region search!","Error",{confirmButtonText:"OK"}):(this.myResults=e.data,this.plotSankey(this.myResults),this.selectRow(this.myResults[0],!0)),this.loading=!1}).catch(e=>{console.log(e)})},clearData(){this.cancerType="",this.searchGenes=""}}};const Re=(0,o.A)(Ae,[["render",Ce],["__scopeId","data-v-828e0938"]]);var $e=Re;function Ee(e,t,a,n,r,o){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.toggleFullscreen&&o.toggleFullscreen(...e)),class:"btn-fullscreen"}," å¨å±å±ç¤º "),(0,l.Lk)("div",{id:"chart_heatmap",ref:"chart_heatmap",style:(0,D.Tr)([o.chartStyle,{transition:"all 0.3s ease-in-out"}])},null,4)])}var Ne={data(){return{isFullscreen:!1,chartInstance:null}},computed:{chartStyle(){return this.isFullscreen?{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",zIndex:"9999",backgroundColor:"#fff"}:{width:"80%",height:"400px",margin:"0 auto"}}},mounted(){this.chartInstance=T.Ts(this.$refs.chart_heatmap),this.updateChart(),window.addEventListener("resize",this.onResize)},beforeUnmount(){window.removeEventListener("resize",this.onResize)},methods:{toggleFullscreen(){this.isFullscreen=!this.isFullscreen,this.$nextTick(()=>{this.chartInstance.resize()})},onResize(){this.$nextTick(()=>{this.chartInstance.resize()})},updateChart(){const e={title:{text:"Heatmap Example"},xAxis:{},yAxis:{},series:[{symbolSize:20,data:[[10,8.04],[8.07,6.95],[13,7.58],[9.05,8.81],[11,8.33],[14,7.66],[13.4,6.81],[10,6.33],[14,8.96],[12.5,6.82],[9.15,7.2],[11.5,7.2],[3.03,4.23],[12.2,7.83],[2.02,4.47],[1.05,3.33],[4.05,4.96],[6.03,7.24],[12,6.26],[12,8.84],[7.08,5.82],[5.02,5.68]],type:"scatter"}]};this.chartInstance.setOption(e)}}};const Ie=(0,o.A)(Ne,[["render",Ee],["__scopeId","data-v-eaf38aaa"]]);var Ge=Ie;function Me(e,t,a,n,r,o){const i=(0,l.g2)("vue-good-table");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(i,{columns:r.columns,rows:r.rows,theme:"polar-bear",styleClass:"vgt-table bordered"},null,8,["columns","rows"])])}a(2681);var We=a(9950),ze={name:"GoooT",data(){return{components:{VueGoodTable:We.A},columns:[{label:"Name",field:"name"},{label:"Age",field:"age",type:"number"},{label:"Created On",field:"createdAt",type:"date",dateInputFormat:"yyyy-MM-dd",dateOutputFormat:"MMM do yy"},{label:"Percent",field:"score",type:"percentage"}],rows:[{id:1,name:"John",age:20,createdAt:"",score:.03343},{id:2,name:"Jane",age:24,createdAt:"2011-10-31",score:.03343},{id:3,name:"Susan",age:16,createdAt:"2011-10-30",score:.03343},{id:4,name:"Chris",ge:55,createdAt:"2011-10-11",score:.03343},{id:5,name:"Dan",age:40,createdAt:"2011-10-21",score:.03343},{id:6,name:"John",age:20,createdAt:"2011-10-31",score:.03343}]}}};const De=(0,o.A)(ze,[["render",Me]]);var Oe=De;const He={style:{width:"1650px",margin:"0 auto","border-bottom-left-radius":"4px","border-bottom-right-radius":"4px",border:"1px solid #e9e9eb",display:"flex","justify-content":"flex-start","flex-wrap":"wrap","align-items":"flex-start"}},qe={style:{width:"1650px",margin:"0 auto","border-bottom-left-radius":"4px","border-bottom-right-radius":"4px",border:"1px solid #e9e9eb",display:"flex","justify-content":"flex-start","flex-wrap":"wrap","align-items":"flex-start"}};function Be(e,t,a,n,r,o){const i=(0,l.g2)("el-button"),s=(0,l.g2)("el-tab-pane"),c=(0,l.g2)("el-tabs");return(0,l.uX)(),(0,l.CE)(l.FK,null,[t[2]||(t[2]=(0,l.Lk)("div",{style:{width:"1630px",margin:"0 auto","margin-top":"+10px","background-color":"#337ecc",padding:"10px","border-top-left-radius":"4px","border-top-right-radius":"4px"}},[(0,l.Lk)("span",{style:{"font-size":"18px","font-weight":"bold",color:"white"}},"1. Pleiotropic sites")],-1)),(0,l.Lk)("div",He,[(0,l.bF)(c,{modelValue:r.activeTabsPleio,"onUpdate:modelValue":t[0]||(t[0]=e=>r.activeTabsPleio=e),style:{"padding-left":"40px","padding-right":"40px"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{label:"SNP",name:"pleiotropicsnp"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.cancerList.slice(0,37),(e,t)=>((0,l.uX)(),(0,l.CE)("a",{key:t,href:"http://127.0.0.1:5000/cancerdb/download/sig_BRCA-UCEC",target:"_blank"},[(0,l.bF)(i,{plain:"",type:"primary",style:{width:"200px",margin:"10px",height:"50px","word-wrap":"break-word","white-space":"normal"}},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1024)]))),128))]),_:1}),(0,l.bF)(s,{label:"Gene",name:"causalgene"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.cancerList.slice(0,37),(e,t)=>((0,l.uX)(),(0,l.CE)("a",{key:t,href:"http://127.0.0.1:5000/cancerdb/download/sig_BRCA-UCEC",target:"_blank"},[(0,l.bF)(i,{plain:"",type:"primary",style:{width:"200px",margin:"10px",height:"50px","word-wrap":"break-word","white-space":"normal"}},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1024)]))),128))]),_:1}),(0,l.bF)(s,{label:"Protein",name:"causalprotein"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.cancerList.slice(0,37),(e,t)=>((0,l.uX)(),(0,l.CE)("a",{key:t,href:"http://127.0.0.1:5000/cancerdb/download/sig_BRCA-UCEC",target:"_blank"},[(0,l.bF)(i,{plain:"",type:"primary",style:{width:"200px",margin:"10px",height:"50px","word-wrap":"break-word","white-space":"normal"}},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1024)]))),128))]),_:1})]),_:1},8,["modelValue"])]),t[3]||(t[3]=(0,l.Lk)("div",{style:{width:"1630px",margin:"0 auto","margin-top":"+10px","background-color":"#337ecc",padding:"10px","border-top-left-radius":"4px","border-top-right-radius":"4px"}},[(0,l.Lk)("span",{style:{"font-size":"18px","font-weight":"bold",color:"white"}},"2. Causal sites")],-1)),(0,l.Lk)("div",qe,[(0,l.bF)(c,{modelValue:r.activeTabsCausal,"onUpdate:modelValue":t[1]||(t[1]=e=>r.activeTabsCausal=e),style:{"padding-left":"40px","padding-right":"40px"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{label:"Methylation",name:"causalmethy"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.cancerList.slice(0,37),(e,t)=>((0,l.uX)(),(0,l.CE)("a",{key:t,href:"http://127.0.0.1:5000/cancerdb/download/sig_BRCA-UCEC",target:"_blank"},[(0,l.bF)(i,{plain:"",type:"primary",style:{width:"200px",margin:"10px",height:"50px","word-wrap":"break-word","white-space":"normal"}},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1024)]))),128))]),_:1}),(0,l.bF)(s,{label:"Gene",name:"causalgene"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.cancerList.slice(0,37),(e,t)=>((0,l.uX)(),(0,l.CE)("a",{key:t,href:"http://127.0.0.1:5000/cancerdb/download/sig_BRCA-UCEC",target:"_blank"},[(0,l.bF)(i,{plain:"",type:"primary",style:{width:"200px",margin:"10px",height:"50px","word-wrap":"break-word","white-space":"normal"}},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1024)]))),128))]),_:1}),(0,l.bF)(s,{label:"Protein",name:"causalprotein"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.cancerList.slice(0,37),(e,t)=>((0,l.uX)(),(0,l.CE)("a",{key:t,href:"http://127.0.0.1:5000/cancerdb/download/sig_BRCA-UCEC",target:"_blank"},[(0,l.bF)(i,{plain:"",type:"primary",style:{width:"200px",margin:"10px",height:"50px","word-wrap":"break-word","white-space":"normal"}},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1024)]))),128))]),_:1})]),_:1},8,["modelValue"])])],64)}var Ve={name:"MyDownload",methods:{},data(){return{activeTabsCausal:"causalmethy",activeTabsPleio:"pleiotropicsnp",cancerList:["Acute myeloid leukaemia","Basal cell carcinoma","Bladder cancer","Brain glioblastoma and astrocytoma","Brain meningioma","Breast cancer","Cervical cancer","Chronic myeloid leukaemia","Colorectal cancer","Diffuse large B-cell lymphoma","Endometrial cancer","Esophageal cancer","Gastrointestinal stromal tumor and sarcoma","Head and neck cancer","Hepatocellular carcinoma","Hodgkins lymphoma","Kidney cancer, except renal pelvis","Lung cancer","Lymphocytic leukemia","Malignant neoplasm of bone and articular cartilage","Malignant neoplasm of eye and adnexa","Malignant neoplasm of intrahepatic ducts, biliary tract and gallbladder","Mantle cell lymphoma","Marginal zone B-cell lymphoma","Mesothelioma","Multiple myeloma","Myelodysplastic syndrome","Ovarian cancer","Pancreatic cancer","Prostate cancer","Skin melanoma","Small intestine cancer","Squamous cell carcinoma","Stomach cancer","Testicular cancer","Thyroid cancer","Vulvar cancer"]}}};const Xe=(0,o.A)(Ve,[["render",Be]]);var je=Xe;const Ue={style:{display:"flex",width:"1750px",height:"700px",margin:"0 auto",border:"1px solid #e9e9eb"}},Ke={class:"left-container",style:{height:"100%",width:"25%","overflow-y":"auto"}},Ze={style:{position:"relative",display:"inline-block",width:"100%"}},Je={style:{position:"relative",display:"inline-block",width:"100%"}},Ye={style:{position:"relative",display:"inline-block",width:"100%"}},et={style:{display:"flex","justify-content":"center","align-items":"center"}},tt={style:{"margin-right":"8px"}},at={style:{"padding-left":"22px"}},nt={style:{display:"flex","justify-content":"center","align-items":"center"}},lt={style:{"margin-right":"8px"}},rt={ref:"network",style:{width:"75%",height:"100%","border-left":"1px solid #e9e9eb"}};function ot(e,t,a,r,o,i){const s=(0,l.g2)("LocationInformation"),c=(0,l.g2)("el-icon"),p=(0,l.g2)("el-input"),d=(0,l.g2)("CircleClose"),h=(0,l.g2)("el-button"),b=(0,l.g2)("el-collapse-item"),m=(0,l.g2)("el-option"),u=(0,l.g2)("el-select"),_=(0,l.g2)("el-collapse"),g=(0,l.g2)("el-col"),f=(0,l.g2)("el-row"),S=(0,l.g2)("el-tab-pane"),y=(0,l.g2)("el-checkbox"),k=(0,l.g2)("el-checkbox-group"),x=(0,l.g2)("el-tabs");return(0,l.uX)(),(0,l.CE)(l.FK,null,[t[23]||(t[23]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",Ue,[(0,l.Lk)("div",Ke,[(0,l.bF)(x,{modelValue:o.activeTabs,"onUpdate:modelValue":t[11]||(t[11]=e=>o.activeTabs=e),style:{"padding-left":"10px","padding-right":"10px"}},{default:(0,l.k6)(()=>[(0,l.bF)(S,{label:"Search",name:"searchTab"},{default:(0,l.k6)(()=>[(0,l.bF)(_,{modelValue:e.searchCollapse,"onUpdate:modelValue":t[4]||(t[4]=t=>e.searchCollapse=t),accordion:"",style:{padding:"5px"}},{default:(0,l.k6)(()=>[(0,l.bF)(b,{name:"snpSearch"},{title:(0,l.k6)(()=>[(0,l.bF)(c,{style:{"margin-right":"10px","margin-left":"5px"}},{default:(0,l.k6)(()=>[(0,l.bF)(s)]),_:1}),t[12]||(t[12]=(0,l.Lk)("span",null,"SNP",-1))]),default:(0,l.k6)(()=>[(0,l.Lk)("div",Ze,[(0,l.bF)(p,{modelValue:o.textarea_SNP,"onUpdate:modelValue":t[0]||(t[0]=e=>o.textarea_SNP=e),type:"textarea",placeholder:"Please input"},null,8,["modelValue"]),o.textarea_SNP?((0,l.uX)(),(0,l.Wv)(h,{key:0,size:"small",onClick:i.clearSNPTextarea,style:{position:"absolute",top:"5px",right:"5px","z-index":"1",border:"0px",padding:"0px"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,null,{default:(0,l.k6)(()=>[(0,l.bF)(d)]),_:1})]),_:1},8,["onClick"])):(0,l.Q3)("",!0)])]),_:1}),(0,l.bF)(b,{name:"methySearch"},{title:(0,l.k6)(()=>[(0,l.bF)(c,{style:{"margin-right":"10px","margin-left":"5px"}},{default:(0,l.k6)(()=>[(0,l.bF)(s)]),_:1}),t[13]||(t[13]=(0,l.Lk)("span",null,"Methylation",-1))]),default:(0,l.k6)(()=>[(0,l.Lk)("div",Je,[(0,l.bF)(p,{modelValue:o.textarea_methy,"onUpdate:modelValue":t[1]||(t[1]=e=>o.textarea_methy=e),type:"textarea",placeholder:"Please input"},null,8,["modelValue"]),o.textarea_methy?((0,l.uX)(),(0,l.Wv)(h,{key:0,size:"small",onClick:i.clearMethyTextarea,style:{position:"absolute",top:"5px",right:"5px","z-index":"1",border:"0px",padding:"0px"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,null,{default:(0,l.k6)(()=>[(0,l.bF)(d)]),_:1})]),_:1},8,["onClick"])):(0,l.Q3)("",!0)])]),_:1}),(0,l.bF)(b,{name:"geneSearch"},{title:(0,l.k6)(()=>[(0,l.bF)(c,{style:{"margin-right":"10px","margin-left":"5px"}},{default:(0,l.k6)(()=>[(0,l.bF)(s)]),_:1}),t[14]||(t[14]=(0,l.Lk)("span",null,"Gene",-1))]),default:(0,l.k6)(()=>[(0,l.Lk)("div",Ye,[(0,l.bF)(p,{modelValue:o.textarea_gene,"onUpdate:modelValue":t[2]||(t[2]=e=>o.textarea_gene=e),type:"textarea",placeholder:"Please input"},null,8,["modelValue"]),o.textarea_gene?((0,l.uX)(),(0,l.Wv)(h,{key:0,size:"small",onClick:i.clearGeneTextarea,style:{position:"absolute",top:"5px",right:"5px","z-index":"1",border:"0px",padding:"0px"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,null,{default:(0,l.k6)(()=>[(0,l.bF)(d)]),_:1})]),_:1},8,["onClick"])):(0,l.Q3)("",!0)])]),_:1}),(0,l.bF)(b,{name:"cancerSearch"},{title:(0,l.k6)(()=>[(0,l.bF)(c,{style:{"margin-right":"10px","margin-left":"5px"}},{default:(0,l.k6)(()=>[(0,l.bF)(s)]),_:1}),t[15]||(t[15]=(0,l.Lk)("span",null,"Cancer",-1))]),default:(0,l.k6)(()=>[(0,l.bF)(u,{ref:"select",modelValue:o.cancerType,"onUpdate:modelValue":t[3]||(t[3]=e=>o.cancerType=e),filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":12,placeholder:"Select",onChange:i.handleCancerChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.options,e=>((0,l.uX)(),(0,l.Wv)(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1},8,["modelValue"]),(0,l.bF)(f,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(g,{span:12,style:{"text-align":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(h,{type:"primary",icon:o.Search,onClick:i.fetchDataFromBackend,style:{width:"100px"}},{default:(0,l.k6)(()=>t[16]||(t[16]=[(0,l.eW)("Search")])),_:1,__:[16]},8,["icon","onClick"])]),_:1}),(0,l.bF)(g,{span:12,style:{"text-align":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(h,{type:"danger",icon:o.RefreshRight,onClick:i.clearData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[17]||(t[17]=[(0,l.eW)("Reset")])),_:1,__:[17]},8,["icon","onClick"])]),_:1})]),_:1})]),_:1}),(0,l.bF)(S,{label:"Filter",name:"filterTab"},{default:(0,l.k6)(()=>[(0,l.bF)(_,{modelValue:o.outerActiveNames,"onUpdate:modelValue":t[10]||(t[10]=e=>o.outerActiveNames=e),accordion:""},{default:(0,l.k6)(()=>[(0,l.bF)(b,{name:"node"},{title:(0,l.k6)(()=>[(0,l.bF)(c,{style:{"margin-right":"10px","margin-left":"10px"}},{default:(0,l.k6)(()=>[(0,l.bF)(s)]),_:1}),t[18]||(t[18]=(0,l.Lk)("span",null,"Node",-1))]),default:(0,l.k6)(()=>[(0,l.bF)(_,{modelValue:o.innerActiveNames,"onUpdate:modelValue":t[7]||(t[7]=e=>o.innerActiveNames=e),accordion:""},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.categories,e=>((0,l.uX)(),(0,l.Wv)(b,{key:e,name:e,style:{"margin-left":"25px"}},{title:(0,l.k6)(()=>[(0,l.bF)(y,{modelValue:o.selectedCategories,"onUpdate:modelValue":t[5]||(t[5]=e=>o.selectedCategories=e),label:e,onChange:t=>i.toggleCategoryNodes(e)},{default:(0,l.k6)(()=>[(0,l.Lk)("div",et,[(0,l.Lk)("span",tt,[(0,l.Lk)("i",{class:(0,D.C4)(["dotClass",i.getCategoryDotClass(e)])},null,2)]),(0,l.eW)(" "+(0,D.v_)(e),1)])]),_:2},1032,["modelValue","label","onChange"])]),default:(0,l.k6)(()=>[(0,l.bo)((0,l.Lk)("div",at,[(0,l.bF)(k,{modelValue:o.selectedNodes,"onUpdate:modelValue":t[6]||(t[6]=e=>o.selectedNodes=e)},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.getNodesByCategory(e),e=>((0,l.uX)(),(0,l.Wv)(y,{key:e.id,label:e.id},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])],512),[[n.aG,!0]])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(b,{name:"link"},{title:(0,l.k6)(()=>[(0,l.bF)(c,{style:{"margin-right":"10px","margin-left":"10px"}},{default:(0,l.k6)(()=>[(0,l.bF)(s)]),_:1}),t[19]||(t[19]=(0,l.Lk)("span",null,"Link",-1))]),default:(0,l.k6)(()=>[(0,l.bF)(y,{modelValue:o.selectedLinkAll,"onUpdate:modelValue":t[8]||(t[8]=e=>o.selectedLinkAll=e),style:{"padding-bottom":"15px","padding-left":"22px"},onChange:i.selectAllLink},{default:(0,l.k6)(()=>t[20]||(t[20]=[(0,l.eW)("All")])),_:1,__:[20]},8,["modelValue","onChange"]),(0,l.bF)(k,{modelValue:o.selectedLinkClasses,"onUpdate:modelValue":t[9]||(t[9]=e=>o.selectedLinkClasses=e),onChange:i.updateChart},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.linkClasses,e=>((0,l.uX)(),(0,l.Wv)(y,{key:e,label:e,style:{display:"block","padding-left":"22px"}},{default:(0,l.k6)(()=>[(0,l.Lk)("div",nt,[(0,l.Lk)("span",lt,[(0,l.Lk)("i",{class:(0,D.C4)(["lineClass",i.getLinklineClass(e)])},null,2)]),(0,l.eW)(" "+(0,D.v_)(i.getLinkName(e)),1)])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1},8,["modelValue"]),(0,l.bF)(f,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(g,{span:12,style:{"text-align":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(h,{type:"success",icon:o.Check,onClick:i.filterData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[21]||(t[21]=[(0,l.eW)("Filter")])),_:1,__:[21]},8,["icon","onClick"])]),_:1}),(0,l.bF)(g,{span:12,style:{"text-align":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(h,{type:"danger",icon:o.RefreshRight,onClick:i.resetData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[22]||(t[22]=[(0,l.eW)("Reset")])),_:1,__:[22]},8,["icon","onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),(0,l.Lk)("div",rt,null,512)])],64)}ne.A.interceptors.request.use(e=>(re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(re().done(),e));const it=["Acute myeloid leukaemia","Basal cell carcinoma","Bladder cancer","Brain glioblastoma and astrocytoma","Brain meningioma","Breast cancer","Cervical cancer","Chronic myeloid leukaemia","Colorectal cancer","Diffuse large B-cell lymphoma","Endometrial cancer","Esophageal cancer","Gastrointestinal stromal tumor and sarcoma","Head and neck cancer","Hepatocellular carcinoma","Hodgkins lymphoma","Kidney cancer, except renal pelvis","Lung cancer","Lymphocytic leukemia","Malignant neoplasm of bone and articular cartilage","Malignant neoplasm of eye and adnexa","Malignant neoplasm of intrahepatic ducts, biliary tract and gallbladder","Mantle cell lymphoma","Mesothelioma","Multiple myeloma","Myelodysplastic syndrome","Marginal zone B-cell lymphoma","Ovarian cancer","Pancreatic cancer","Prostate cancer","Skin melanoma","Small intestine cancer","Squamous cell carcinoma","Stomach cancer","Testicular cancer","Thyroid cancer","Vulvar cancer"],st=it.map(e=>({value:e,label:e})),ct=["SNP","Methylation","Gene","Protein","Cancer"],pt=["Pleiotropy","eQTL","meQTL","pQTL","GWAS","smr_meQTL_eQTL","smr_meQTL","smr_eQTL","smr_pQTL"];var dt={name:"NetworkGraph",data(){return{Search:w.Search,RefreshRight:w.RefreshRight,Check:w.Check,options:st,loading:!1,postData:!1,cancerType:"",textarea_SNP:"",textarea_methy:"",textarea_gene:"",activeTabs:"searchTab",outerActiveNames:[],innerActiveNames:[],categories:ct,selectedCategories:ct,selectedNodes:[],linkClasses:pt,selectedLinkClasses:pt,selectedLinkAll:!0,chartData:{nodes:[],links:[]}}},mounted(){const e=sessionStorage.getItem("pleioSNP")?JSON.parse(sessionStorage.getItem("pleioSNP")):[],t=sessionStorage.getItem("pleioGene")?JSON.parse(sessionStorage.getItem("pleioGene")):[],a=sessionStorage.getItem("eQTL")?JSON.parse(sessionStorage.getItem("eQTL")):[],n=sessionStorage.getItem("meQTL")?JSON.parse(sessionStorage.getItem("meQTL")):[],l=sessionStorage.getItem("pQTL")?JSON.parse(sessionStorage.getItem("pQTL")):[],r=sessionStorage.getItem("smr_meQTL_eQTL")?JSON.parse(sessionStorage.getItem("smr_meQTL_eQTL")):[],o=sessionStorage.getItem("smr_eQTL")?JSON.parse(sessionStorage.getItem("smr_eQTL")):[],i=sessionStorage.getItem("smr_pQTL")?JSON.parse(sessionStorage.getItem("smr_pQTL")):[],s=sessionStorage.getItem("GWAS")?JSON.parse(sessionStorage.getItem("GWAS")):[],c=sessionStorage.getItem("smr_meQTL")?JSON.parse(sessionStorage.getItem("smr_meQTL")):[];[e,t,a,n,l,r,o,i,s,c].some(e=>e.length)&&!this.postData?(this.chartData=this.processData(e,t,a,n,l,r,o,i,s,c),this.chartData.nodes.forEach(e=>{this.selectedNodes.push(e.id)}),this.textarea_SNP=this.getNodesNamesByCategory("SNP"),this.textarea_methy=this.getNodesNamesByCategory("Methylation"),this.textarea_gene=this.getNodesNamesByCategory(["Gene","Protein"]),this.cancerType=this.chartData.nodes.filter(e=>"Cancer"===e.category).map(e=>e.name),this.initChart(this.chartData)):(this.fetchDataFromBackend(),this.postData=!0)},methods:{clearData(){this.cancerType="",this.textarea_SNP="",this.textarea_methy="",this.textarea_gene=""},getNodesNamesByCategory(e){return this.chartData.nodes.filter(t=>Array.isArray(e)?e.includes(t.category):t.category===e).map(e=>e.name).join("\n")},clearSNPTextarea(){this.textarea_SNP=""},clearMethyTextarea(){this.textarea_methy=""},clearGeneTextarea(){this.textarea_gene=""},handleCancerChange(){this.$nextTick(()=>{const e=this.$refs.select&&this.$refs.select.$el.querySelector("input");e?e.value="":console.error("Input element not found")})},getLinkName(e){const t={eQTL:"SNP - Gene",meQTL:"SNP - Methylation",pQTL:"SNP - Protein",smr_meQTL_eQTL:"Methylation - Gene",smr_eQTL:"Gene - Cancer",smr_pQTL:"Protein - Cancer",smr_meQTL:"Methylation - Cancer",GWAS:"SNP - Cancer"};return t[e]||e},getLinklineClass(e){const t={eQTL:"line-eQTL",meQTL:"line-meQTL",pQTL:"line-pQTL",smr_meQTL_eQTL:"line-smr_meQTL_eQTL",smr_eQTL:"line-smr_eQTL",smr_pQTL:"line-smr_pQTL",smr_meQTL:"line-smr_meQTL",GWAS:"line-GWAS",Pleiotropy:"line-Pleiotropy"};return t[e]||"line-default"},getCategoryDotClass(e){const t={SNP:"dot-snp",Methylation:"dot-methylation",Gene:"dot-gene",Protein:"dot-protein",Cancer:"dot-cancer"};return t[e]||"dot-default"},filterData(){this.updateChart()},resetData(){this.chartData.nodes.forEach(e=>{this.selectedNodes.push(e.id)}),this.selectedCategories=["SNP","Methylation","Gene","Protein","Cancer"],this.selectedLinkClasses=["Pleiotropy","eQTL","meQTL","pQTL","smr_meQTL_eQTL","smr_eQTL","smr_pQTL","GWAS","smr_meQTL"]},getNodesByCategory(e){return this.chartData.nodes.filter(t=>t.category===e)},toggleCategoryNodes(e){const t=this.getNodesByCategory(e),a=this.selectedCategories.includes(e);a?t.forEach(e=>{this.selectedNodes.includes(e.id)||this.selectedNodes.push(e.id)}):t.forEach(e=>{this.selectedNodes=this.selectedNodes.filter(t=>t!==e.id)}),this.updateChart()},selectAllLink(){this.selectedLinkClasses=this.selectedLinkAll?this.linkClasses:[],this.updateChart()},updateChart(){const e=new Set(this.selectedNodes),t=this.chartData.links.filter(e=>this.selectedLinkClasses.includes(e.class)),a=new Set;t.forEach(e=>{a.add(e.source),a.add(e.target)});const n=this.chartData.nodes.filter(t=>e.has(t.id)&&a.has(t.id));this.initChart({nodes:n,links:t})},fetchDataFromBackend(){ne.A.post("/api/cancerdb/network",{cancer:this.cancerType,gene:this.textarea_gene,methy:this.textarea_methy,snp:this.textarea_SNP}).then(e=>{const{pleioSNP:t,pleioGene:a,eQTL:n,meQTL:l,pQTL:r,smr_meQTL_eQTL:o,smr_eQTL:i,smr_pQTL:s,GWAS:c,smr_meQTL:p}=e.data,d=this.processData(t,a,n,l,r,o,i,s,c,p);this.chartData=d,this.selectedNodes=d.nodes.map(e=>e.id),this.initChart(d)}).catch(e=>{console.error("There was an error fetching the data:",e)})},processData(e,t,a,n,l,r,o,i,s,c){const p=[],d=[],h=(e,t,a)=>{p.find(t=>t.id===e)||p.push({id:e,name:t,category:a})};return e.forEach(e=>{if(h(e.snpid,e.snpid,"SNP"),h(e.cancer1,e.cancer1,"Cancer"),h(e.cancer2,e.cancer2,"Cancer"),e.cancer1&&e.cancer2){const t=`<b>Pleiotropy:</b> ${e.cancer1} - ${e.snpid} - ${e.cancer2}<br/><br/>\n                                 <b>SNP:</b> ${e.snpid}<br/>\n                                 <b>SNP position:</b> ${e.hg19chr}:${e.bp}<br/>\n                                 <b>EA/OA:</b> ${e.alleles}<br/>\n                                 <b>EAF:</b> ${e["EURaf.trait1"]}<br/>\n                                 <b>PLACO_P:</b> ${e["p.placo"]}<br/><br/>\n                                 <b>GWAS:</b> ${e.snpid} - ${e.cancer1}<br/><br/>\n                                 <b>OR:</b> ${e["or.trait1"]}<br/>\n                                 <b>SE:</b> ${e["se.trait1"]}<br/>\n                                 <b>P:</b> ${e["pval.trait1"]}`,a=`<b>Pleiotropy:</b> ${e.cancer1} - ${e.snpid} - ${e.cancer2}<br/><br/>\n                                 <b>SNP:</b> ${e.snpid}<br/>\n                                 <b>SNP position:</b> ${e.hg19chr}:${e.bp}<br/>\n                                 <b>EA/OA:</b> ${e.alleles}<br/>\n                                 <b>EAF:</b> ${e["EURaf.trait2"]}<br/>\n                                 <b>PLACO_FDR:</b> ${e["p.placo"]}<br/><br/>\n                                 <b>GWAS:</b> ${e.snpid} - ${e.cancer2}<br/><br/>\n                                 <b>OR:</b> ${e["or.trait2"]}<br/>\n                                 <b>SE:</b> ${e["se.trait2"]}<br/>\n                                 <b>P:</b> ${e["pval.trait2"]}`;d.push({source:e.snpid,target:e.cancer1,class:"Pleiotropy",tooltip:t}),d.push({source:e.snpid,target:e.cancer2,class:"Pleiotropy",tooltip:a})}}),t.forEach(e=>{if(h(e.SYMBOL,e.SYMBOL,"Gene"),h(e.cancer1,e.cancer1,"Cancer"),h(e.cancer2,e.cancer2,"Cancer"),e.cancer1&&e.cancer2){const t=`<b>Pleiotropy:</b> ${e.cancer1} - ${e.SYMBOL} - ${e.cancer2}<br/>\n                                 <b>PLACO_FDR:</b> ${e["fdr.PLACO"]}`,a=`<b>Pleiotropy:</b> ${e.cancer1} - ${e.SYMBOL} - ${e.cancer2}<br/>\n                                 <b>PLACO_FDR:</b> ${e["fdr.PLACO"]}`;d.push({source:e.SYMBOL,target:e.cancer1,class:"Pleiotropy",tooltip:t}),d.push({source:e.SYMBOL,target:e.cancer2,class:"Pleiotropy",tooltip:a})}}),a.forEach(e=>{if(a.length>50&&e.PLACO||a.length<=50){const t=`<b>eQTL: </b>${e.SNP} - ${e.GeneSymbol}<br/><br/>\n                              <b>SNP:</b> ${e.SNP}<br/>\n                              <b>SNP position:</b> ${e.SNPChr}:${e.SNPPos}<br/>\n                              <b>EA/OA:</b> ${e.AssessedAllele}/${e.OtherAllele}<br/>\n                              <b>Gene:</b> ${e.GeneSymbol}<br/>\n                              <b>Gene position:</b> ${e.GeneChr}:${e.GenePos}<br/>\n                              <b>Z-score:</b> ${e.Zscore}<br/>\n                              <b>P:</b> ${e.Pvalue}<br/>\n                              <b>FDR:</b> ${e.FDR}`;h(e.SNP,e.SNP,"SNP"),h(e.GeneSymbol,e.GeneSymbol,"Gene"),d.push({source:e.SNP,target:e.GeneSymbol,class:"eQTL",tooltip:t})}}),n.forEach(e=>{if(n.length>50&&e.PLACO||n.length<=50){h(e.SNP,e.SNP,"SNP"),h(e.Probe,e.Probe,"Methylation");const t=`<b>meQTL:</b> ${e.SNP} - ${e.Probe}<br/><br/>\n                                <b>SNP:</b> ${e.SNP}<br/>\n                                <b>SNP position:</b> ${e.Chr}:${e.BP}<br/>\n                                <b>EA/OA:</b> ${e.A1}/${e.A2}<br/>\n                                <b>EAF:</b> ${e.Freq}<br/>\n                                <b>Methylation:</b> ${e.Probe}<br/>\n                                <b>Methylation position:</b> ${e.Probe_Chr}:${e.Probe_bp}<br/>\n                                <b>Beta:</b> ${e.b}<br/>\n                                <b>SE:</b> ${e.SE}<br/>\n                                <b>P:</b> ${e.p}`;d.push({source:e.SNP,target:e.Probe,class:"meQTL",tooltip:t})}}),l.forEach(e=>{if(l.length>50&&e.PLACO||l.length<=50){h(e.SNP,e.SNP,"SNP"),h(e.Probe,e.Gene,"Protein");const t=`<b>pQTL:</b> ${e.SNP} - ${e.Gene}<br/><br/>\n                              <b>SNP:</b> ${e.SNP}<br/>\n                              <b>SNP position:</b> ${e.Chr}:${e.BP}<br/>\n                              <b>EA/OA:</b> ${e.A1}/${e.A2}<br/>\n                              <b>EAF:</b> ${e.Freq}<br/>\n                              <b>Protein:</b> ${e.Gene}<br/>\n                              <b>Protein position:</b> ${e.Probe_Chr}:${e.Probe_bp}<br/>\n                              <b>Beta:</b> ${e.b}<br/>\n                              <b>SE:</b> ${e.SE}<br/>\n                              <b>P:</b> ${e.p}`;d.push({source:e.SNP,target:e.Probe,class:"pQTL",tooltip:t})}}),r.forEach(e=>{h(e.Expo_ID,e.Expo_ID,"Methylation"),h(e.symbol,e.symbol,"Gene");const t=`<b>SMR (meQTL-eQTL):</b> ${e.Expo_ID} - ${e.symbol}<br/><br/>\n                                       <b>Methylation:</b> ${e.Expo_ID}<br/>\n                                       <b>Methylation position:</b> ${e.Expo_Chr}:${e.Expo_bp}<br/>\n                                       <b>Gene:</b> ${e.symbol}<br/>\n                                       <b>Gene position:</b> ${e.Outco_Chr}:${e.Outco_bp}<br/>\n                                       <b>Beta:</b> ${e.b_SMR}<br/>\n                                       <b>SE:</b> ${e.se_SMR}<br/>\n                                       <b>P:</b> ${e.p_SMR}<br/>\n                                       <b>P_multi:</b> ${e.p_SMR_multi}<br/>                                \n                                       <b>FDR:</b> ${e.fdr}<br/>\n                                       <b>HEIDI_P:</b> ${e.p_HEIDI}<br/>\n                                       <b>HEIDI_nsnp:</b> ${e.nsnp_HEIDI}<br/>`;d.push({source:e.Expo_ID,target:e.symbol,class:"smr_meQTL_eQTL",tooltip:t})}),o.forEach(e=>{h(e.symbol,e.symbol,"Gene"),h(e.cancer,e.cancer,"Cancer");const t=`<b>SMR (eQTL-GWAS):</b> ${e.symbol} - ${e.cancer}<br/><br/>\n                             <b>Gene:</b> ${e.symbol}<br/>\n                             <b>Gene position:</b> ${e.ProbeChr}:${e.Probe_bp}<br/>\n                             <b>Cancer:</b> ${e.cancer}<br/>\n                             <b>Beta:</b> ${e.b_SMR}<br/>\n                             <b>SE:</b> ${e.se_SMR}<br/>\n                             <b>P:</b> ${e.p_SMR}<br/>\n                             <b>P_multi:</b> ${e.p_SMR_multi}<br/>                                \n                             <b>FDR:</b> ${e.fdr}<br/>\n                             <b>HEIDI_P:</b> ${e.p_HEIDI}<br/>\n                             <b>HEIDI_nsnp:</b> ${e.nsnp_HEIDI}<br/>`;d.push({source:e.symbol,target:e.cancer,class:"smr_eQTL",tooltip:t})}),i.forEach(e=>{h(e.probeID,e.Gene,"Protein"),h(e.cancer,e.cancer,"Cancer");const t=`<b>SMR (pQTL-GWAS):</b> ${e.Gene} - ${e.cancer}<br/><br/>\n                                 <b>Protein:</b> ${e.Gene}<br/>\n                                 <b>Protein position:</b> ${e.ProbeChr}:${e.Probe_bp}<br/>\n                                 <b>Cancer:</b> ${e.cancer}<br/>\n                                 <b>Beta:</b> ${e.b_SMR}<br/>\n                                 <b>SE:</b> ${e.se_SMR}<br/>\n                                 <b>P:</b> ${e.p_SMR}<br/>\n                                 <b>P_multi:</b> ${e.p_SMR_multi}<br/>                                \n                                 <b>FDR:</b> ${e.fdr}<br/>\n                                 <b>HEIDI_P:</b> ${e.p_HEIDI}<br/>\n                                 <b>HEIDI_nsnp:</b> ${e.nsnp_HEIDI}<br/>`;d.push({source:e.probeID,target:e.cancer,class:"smr_pQTL",tooltip:t})}),c.forEach(e=>{h(e.probeID,e.probeID,"Methylation"),h(e.cancer,e.cancer,"Cancer");const t=`<b>SMR (meQTL-GWAS):</b> ${e.probeID} - ${e.cancer}<br/><br/>\n                                 <b>Methylation:</b> ${e.probeID}<br/>\n                                 <b>Methylation position:</b> ${e.ProbeChr}:${e.Probe_bp}<br/>\n                                 <b>Cancer:</b> ${e.cancer}<br/>\n                                 <b>Beta:</b> ${e.b_SMR}<br/>\n                                 <b>SE:</b> ${e.se_SMR}<br/>\n                                 <b>P:</b> ${e.p_SMR}<br/>\n                                 <b>P_multi:</b> ${e.p_SMR_multi}<br/>                                \n                                 <b>FDR:</b> ${e.fdr}<br/>\n                                 <b>HEIDI_P:</b> ${e.p_HEIDI}<br/>\n                                 <b>HEIDI_nsnp:</b> ${e.nsnp_HEIDI}<br/>`;d.push({source:e.probeID,target:e.cancer,class:"smr_meQTL",tooltip:t})}),s.forEach(e=>{h(e.snpid,e.snpid,"SNP"),h(e.cancer,e.cancer,"Cancer");const t=`<b>GWAS:</b> ${e.snpid} - ${e.cancer}<br/><br/>\n                            <b>SNP:</b> ${e.snpid}<br/>\n                            <b>SNP position:</b> ${e.hg19chr}:${e.bp}<br/>\n                            <b>EA/OA:</b> ${e.a1}/${e.a2}<br/>\n                            <b>EAF:</b> ${e.EURaf}<br/>\n                            <b>OR:</b> ${e.or}<br/>\n                            <b>SE:</b> ${e.se}<br/>\n                            <b>P:</b> ${e.pval}`;d.push({source:e.snpid,target:e.cancer,class:"GWAS",tooltip:t})}),{nodes:p,links:d}},initChart(e){const t=T.Ts(this.$refs.network,null,{renderer:"svg"}),a={color:["#5470c6","#8fca74","#f6c557","#ea6464","#9a60b4"],animation:!1,tooltip:{trigger:"item",formatter:function(e){return e.data.category?e.data.name:e.data.tooltip?e.data.tooltip:e.data.class}},legend:[{x:"right",show:!1,data:["SNP","Methylation","Gene","Protein","Cancer"],itemStyle:{borderWidth:1,borderColor:"#ccc"},icon:"circle"}],series:[{type:"graph",layout:"force",symbolSize:40,legendHoverLink:!0,roam:!0,draggable:!0,categories:[{name:"SNP"},{name:"Methylation"},{name:"Gene"},{name:"Protein"},{name:"Cancer"}],data:e.nodes,links:e.links.map(e=>("Pleiotropy"===e.class?e.lineStyle={color:"#9a60b4",type:"solid",width:2}:"eQTL"===e.class?e.lineStyle={color:"#f6c557",type:"dashed",width:2}:"meQTL"===e.class?e.lineStyle={color:"#8fca74",type:"dashed",width:2}:"pQTL"===e.class?e.lineStyle={color:"#ea6464",type:"dashed",width:2}:"smr_meQTL_eQTL"===e.class?e.lineStyle={color:"#8fca74",type:"dotted",width:2}:"smr_eQTL"===e.class?e.lineStyle={color:"#f6c557",type:"dotted",width:2}:"smr_pQTL"===e.class?e.lineStyle={color:"#ea6464",type:"dotted",width:2}:"smr_meQTL"===e.class?e.lineStyle={color:"#9a60b4",type:"dotted",width:2}:"GWAS"===e.class&&(e.lineStyle={color:"#5470c6",type:"dashed",width:2}),e)),emphasis:{scale:!0,focus:"adjacency"},label:{show:!0},lineStyle:{},edgeLabel:{show:!1,fontWeight:800,fontSize:12,color:"#000",position:"middle"},force:{repulsion:[50,2e3],edgeLength:[1,15],gravity:.2,friction:.1}}]},n={};e.links.forEach((e,t)=>{const a=`${e.source}-${e.target}`;n[a]||(n[a]=[]),n[a].push(t)}),Object.values(n).forEach(e=>{let t=0;e.forEach((e,n)=>{t=n%2===0?n/2*.1:-.1*Math.ceil(n/2),a.series[0].links[e].lineStyle.curveness=t})}),2===e.nodes.length&&(e.nodes[0].x=500,e.nodes[0].y=300,e.nodes[1].x=600,e.nodes[1].y=300),t.setOption(a)}}};const ht=(0,o.A)(dt,[["render",ot],["__scopeId","data-v-31e4e856"]]);var bt=ht;const mt={class:"search"},ut={class:"searchButton"},_t={class:"clearButton"},gt={class:"table_display"},ft={id:"chart_heatmap",ref:"chart_heatmap",style:{width:"80%",height:"400px",margin:"0 auto"}},St={class:"columns_display",style:{float:"left"}},yt={class:"bg_table_3"},kt=["href"],xt=["href"],Pt={class:"fig_description"},wt={style:{"font-size":"20px","font-weight":"bold",color:"white"}},Lt={class:"plot"},Ft={id:"chart_eQTL",ref:"chart_eQTL",style:{width:"100%",height:"1200px"}},Ct={id:"chart_zscore",ref:"chart_zscore",style:{width:"100%",height:"800px"}};function Tt(e,t,a,n,r,o){const i=(0,l.g2)("el-option"),s=(0,l.g2)("el-select"),c=(0,l.g2)("el-col"),p=(0,l.g2)("el-input"),d=(0,l.g2)("el-button"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-checkbox"),m=(0,l.g2)("el-checkbox-group"),u=(0,l.g2)("el-popover"),_=(0,l.g2)("el-pagination"),g=(0,l.g2)("el-table-column"),f=(0,l.g2)("QuestionFilled"),S=(0,l.g2)("el-icon"),y=(0,l.g2)("el-tooltip"),k=(0,l.g2)("el-table"),x=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",mt,[(0,l.bF)(h,{class:"searchContent",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[5]||(t[5]=(0,l.Lk)("span",{class:"cancerTypeSelect"},"Cancer type",-1)),(0,l.bF)(s,{ref:"select",modelValue:r.cancerType,"onUpdate:modelValue":t[0]||(t[0]=e=>r.cancerType=e),filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1,placeholder:"Select",style:{position:"relative",top:"5px"},onChange:o.handleSelectChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.options,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[5]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[6]||(t[6]=(0,l.Lk)("span",{class:"geneInputBox"},"Gene symbol",-1)),(0,l.bF)(p,{modelValue:r.searchGene,"onUpdate:modelValue":t[1]||(t[1]=e=>r.searchGene=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[6]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[7]||(t[7]=(0,l.Lk)("span",{class:"rsIDinputBox"},"Genomic region",-1)),(0,l.bF)(p,{modelValue:r.searchRegion,"onUpdate:modelValue":t[2]||(t[2]=e=>r.searchRegion=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[7]}),(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",ut,[(0,l.bF)(d,{type:"primary",icon:r.Search,onClick:o.queryData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[8]||(t[8]=[(0,l.eW)("Search")])),_:1,__:[8]},8,["icon","onClick"])]),(0,l.Lk)("div",_t,[(0,l.bF)(d,{type:"danger",icon:r.RefreshRight,onClick:o.clearData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Reset")])),_:1,__:[9]},8,["icon","onClick"])])]),_:1})]),_:1}),(0,l.bF)(h,{class:"searchExample",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.Lk)("span",{style:{position:"relative","font-size":"16px","font-weight":"bold",color:"#409EFF"}},"Search examples:",-1)])),_:1,__:[10]}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchgene_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("ZBTB48")])),_:1,__:[11]},8,["type","onClick"])]),_:1}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchregion_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("1:6644700-6654700")])),_:1,__:[12]},8,["type","onClick"])]),_:1})]),_:1})]),t[21]||(t[21]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",gt,[(0,l.Lk)("div",null,[(0,l.Lk)("div",ft,null,512)]),(0,l.bF)(h,{gutter:20,style:{"padding-left":"80px","padding-right":"80px"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",St,[(0,l.bF)(u,{placement:"bottom",width:100,trigger:"hover"},{reference:(0,l.k6)(()=>[(0,l.bF)(d,{type:"primary",plain:""},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)("Display columns")])),_:1,__:[14]})]),default:(0,l.k6)(()=>[(0,l.bF)(b,{indeterminate:r.isIndeterminate,modelValue:r.checkAll,"onUpdate:modelValue":t[3]||(t[3]=e=>r.checkAll=e),onChange:o.handleCheckAllChange},{default:(0,l.k6)(()=>t[13]||(t[13]=[(0,l.eW)("Select all")])),_:1,__:[13]},8,["indeterminate","modelValue","onChange"]),t[15]||(t[15]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.bF)(m,{modelValue:r.checkedColumns,"onUpdate:modelValue":t[4]||(t[4]=e=>r.checkedColumns=e),onChange:o.handleCheckedColumnChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.columns,e=>((0,l.uX)(),(0,l.Wv)(b,{value:e,key:e},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[15]})])]),_:1}),(0,l.bF)(c,{span:18,style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(_,{center:"",background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[10,20,50,100],"page-size":r.pagesize,total:r.myResults.length,"current-page":r.currpage,onCurrentChange:o.handleCurrentChange,onSizeChange:o.handleSizeChange},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(c,{span:3,style:{margin:"0 auto"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.exportToExcel,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[16]||(t[16]=[(0,l.eW)("Download")])),_:1,__:[16]},8,["onClick"])]),_:1})]),_:1})]),(0,l.Lk)("div",yt,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(k,{class:"tableResults",data:r.myResults.slice((r.currpage-1)*r.pagesize,r.currpage*r.pagesize),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort,"row-class-name":o.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(g,{label:"Selector","min-width":"100px",align:"center"},{default:(0,l.k6)(e=>[(0,l.bF)(b,{onChange:t=>o.selectRow(e.row,t),modelValue:e.row.check,"onUpdate:modelValue":t=>e.row.check=t},null,8,["onChange","modelValue","onUpdate:modelValue"])]),_:1}),r.checkedColumns.includes("Gene")?((0,l.uX)(),(0,l.Wv)(g,{key:0,prop:"symbol",label:"Gene","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_gene?gene="+e.row.symbol,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.symbol),9,kt)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("Gene position")?((0,l.uX)(),(0,l.Wv)(g,{key:1,label:"Gene position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("Cancer")?((0,l.uX)(),(0,l.Wv)(g,{key:2,prop:"cancer",label:"Cancer","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_beta")?((0,l.uX)(),(0,l.Wv)(g,{key:3,prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_SE")?((0,l.uX)(),(0,l.Wv)(g,{key:4,prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_P")?((0,l.uX)(),(0,l.Wv)(g,{key:5,prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_P_multi")?((0,l.uX)(),(0,l.Wv)(g,{key:6,prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_FDR")?((0,l.uX)(),(0,l.Wv)(g,{key:7,prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("HEIDI_P")?((0,l.uX)(),(0,l.Wv)(g,{key:8,prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("HEIDI_nsnp")?((0,l.uX)(),(0,l.Wv)(g,{key:9,prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Top SNP")?((0,l.uX)(),(0,l.Wv)(g,{key:10,prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,xt)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("SNP position")?((0,l.uX)(),(0,l.Wv)(g,{key:11,prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("EA/OA")?((0,l.uX)(),(0,l.Wv)(g,{key:12,prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[17]||(t[17]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(y,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("EAF")?((0,l.uX)(),(0,l.Wv)(g,{key:13,prop:"Freq","min-width":"120px",align:"center"},{header:(0,l.k6)(()=>[t[18]||(t[18]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(y,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("eQTL_beta")?((0,l.uX)(),(0,l.Wv)(g,{key:14,prop:"b_eQTL",label:"eQTL_beta","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("eQTL_SE")?((0,l.uX)(),(0,l.Wv)(g,{key:15,prop:"se_eQTL",label:"eQTL_SE","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("eQTL_P")?((0,l.uX)(),(0,l.Wv)(g,{key:16,prop:"p_eQTL",label:"eQTL_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("GWAS_beta")?((0,l.uX)(),(0,l.Wv)(g,{key:17,prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("GWAS_SE")?((0,l.uX)(),(0,l.Wv)(g,{key:18,prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("GWAS_P")?((0,l.uX)(),(0,l.Wv)(g,{key:19,prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0)]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),(0,l.Lk)("div",Pt,[(0,l.Lk)("span",wt,[t[19]||(t[19]=(0,l.eW)(" SMR/eQTL/GWAS figures in gene and its Â± 1Mb flanking region based on the selected gene ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedGene?"#ffd04b":"white"})},(0,D.v_)(r.selectedGene),5),t[20]||(t[20]=(0,l.eW)(" and cancer ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedCancer?"#ffd04b":"white"})},(0,D.v_)(r.selectedCancer),5)])]),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",Lt,[(0,l.Lk)("div",Ft,null,512),(0,l.Lk)("div",Ct,null,512)])),[[x,r.loading_echart]])],64)}a(8237);ne.A.interceptors.request.use(e=>(console.log(e),re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(console.log(e),re().done(),e));const vt=["Gene","Gene position","Cancer","SMR_beta","SMR_SE","SMR_P","SMR_P_multi","SMR_FDR","HEIDI_P","HEIDI_nsnp","Top SNP","SNP position","EA/OA","EAF","eQTL_beta","eQTL_SE","eQTL_P","GWAS_beta","GWAS_SE","GWAS_P"];var Qt={name:"eQTL_SMR",data(){const e=["Basal cell carcinoma","Brain meningioma","Breast cancer","Cervical cancer","Colorectal cancer","Endometrial cancer","Hepatocellular carcinoma","Kidney cancer, except renal pelvis","Lung cancer","Lymphocytic leukemia","Malignant neoplasm of intrahepatic ducts, biliary tract and gallbladder","Ovarian cancer","Prostate cancer","Skin melanoma","Squamous cell carcinoma","Stomach cancer","Thyroid cancer"],t=e.map(e=>({value:e,label:e}));return{Search:w.Search,RefreshRight:w.RefreshRight,options:t,cancerType:"",searchRegion:"",searchGene:"",pagesize:10,currpage:1,myResults:[],loading:!1,checkAll:!0,columns:vt,checkedColumns:vt,isIndeterminate:!1,currentSelectedRow:null,selectedGene:"",selectedCancer:"",plot_data:[],chart_eQTL:null,chart_GWAS:null,loading_echart:!1,chart_heatmap:null,query:!1}},mounted(){this.query=this.$route.query.query,this.cancerType=[this.$route.query.cancer],this.query?this.queryData():(this.cancerType="",this.loading=!0,ne.A.get("/api/cancerdb/SMR_eQTL").then(e=>{this.myResults=e.data,this.loading=!1,this.$nextTick(()=>{this.plot_heatmap(this.myResults)}),this.myResults.length>0&&this.selectRow(this.myResults[0],!0)}))},methods:{handleSelectChange(){this.$nextTick(()=>{const e=this.$refs.select&&this.$refs.select.$el.querySelector("input");e?e.value="":console.error("Input element not found")})},searchregion_eg(){const e=event.target.textContent.trim();this.searchRegion=e,this.searchGene=""},searchgene_eg(){const e=event.target.textContent.trim();this.searchGene=e,this.searchRegion=""},handleCurrentChange(e){this.currpage=e},handleSizeChange(e){this.pagesize=e},handleSort(e){"descending"===e.order?this.myResults.sort((t,a)=>a[e.prop]-t[e.prop]):"ascending"===e.order&&this.myResults.sort((t,a)=>t[e.prop]-a[e.prop])},rounding(e,t,a){return a.toFixed(3)},toggleDialog(){this.showDialog=!this.showDialog},handleCheckAllChange(e){this.checkedColumns=e?vt:[],this.isIndeterminate=!1},handleCheckedColumnChange(e){let t=e.length;this.checkAll=t===this.columns.length,this.isIndeterminate=t>0&&t<this.columns.length},selectRow(e,t){this.currentSelectedRow===e?(this.currentSelectedRow=null,e.checked=!1):(this.myResults.forEach(e=>{e.check=!1}),this.currentSelectedRow=e,e.check=t,this.selectedGene=e.symbol,this.selectedCancer=e.cancer,this.sendFigData())},rowClassName({row:e}){return e.check?"row-selected":""},exportToExcel(){const e={Gene:"symbol","Gene position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",eQTL_beta:"b_eQTL",eQTL_SE:"se_eQTL",eQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"},t=this.myResults,a=this.checkedColumns.map(t=>e[t]),n=t.map(e=>a.map(t=>"function"===typeof t?t(e):e[t]));let l="";l+=this.checkedColumns.join(",")+"\n",n.forEach(e=>{l+=e.join(",")+"\n"});const r=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download","SMR_eQTL_FDR0.05.csv"),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},sendFigData(){this.loading_echart=!0,ne.A.post("/api/cancerdb/SMR_eQTL_fig",{gene:this.selectedGene,cancer:this.selectedCancer}).then(e=>{this.plot_data=e.data,this.plotManhattanWithChartJS(this.plot_data),this.plotZscore(this.plot_data),this.loading_echart=!1}).catch(e=>{console.error("Error sending data to the backend:",e)})},plotManhattanWithChartJS(e){this.chart_eQTL=(0,v.IG)(T.Ts(this.$refs.chart_eQTL,null,{renderer:"svg"}));const t=e.eQTL_result_sig.map(e=>[e.SNPPos,e.log10P]),a=e.eQTL_result_notsig.map(e=>[e.SNPPos,e.log10P]),n=e.GWAS_result_sig.map(e=>[e.bp,e.log10P]),l=e.GWAS_result_notsig.map(e=>[e.bp,e.log10P]),r=e.SMR_result_sig.map(e=>[e.Probe_bp,e.log10FDR]),o=e.SMR_result_notsig.map(e=>[e.Probe_bp,e.log10FDR]),i={type:"value",min:e.gene_start,max:e.gene_end,splitNumber:10,splitLine:{show:!1},axisLabel:{show:!0,formatter:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},s={type:"value",min:0,splitNumber:10,splitLine:{show:!1},minInterval:1},c={name:"threshSMR",type:"line",markLine:{symbol:"none",data:[{yAxis:1.30103}],label:{show:!0,position:"end",formatter:"-log10(0.05)"},lineStyle:{type:"dashed",color:"red"}}},p={name:"threshQTLGWAS",type:"line",markLine:{symbol:"none",data:[{yAxis:7.30103}],label:{show:!0,position:"end",formatter:"-log10(5e-8)"},lineStyle:{type:"dashed",color:"red"}}},d={tooltip:{trigger:"item",formatter:function(t){const a=t.seriesIndex;let n="";if(0===a){const a=e.SMR_result_sig[t.dataIndex];n=`<b>Gene:</b> ${a.symbol}<br/>\n                                <b>Gene position:</b> ${a.ProbeChr}:${a.Probe_bp}<br/>\n                                <b>Beta:</b> ${a.b_SMR}<br/>\n                                <b>SE:</b> ${a.se_SMR}<br/>\n                                <b>P:</b> ${a.p_SMR}<br/>\n                                <b>P_multi:</b> ${a.p_SMR_multi}<br/>                                \n                                <b>FDR:</b> ${a.fdr}<br/>\n                                <b>HEIDI_P:</b> ${a.p_HEIDI}<br/>\n                                <b>HEIDI_nsnp:</b> ${a.nsnp_HEIDI}<br/>`}else if(1===a){const a=e.SMR_result_notsig[t.dataIndex];n=`<b>Gene:</b> ${a.symbol}<br/>\n                                <b>Gene position:</b> ${a.ProbeChr}:${a.Probe_bp}<br/>\n                                <b>Beta:</b> ${a.b_SMR}<br/>\n                                <b>SE:</b> ${a.se_SMR}<br/>\n                                <b>P:</b> ${a.p_SMR}<br/>\n                                <b>P_multi:</b> ${a.p_SMR_multi}<br/>                                \n                                <b>FDR:</b> ${a.fdr}<br/>\n                                <b>HEIDI_P:</b> ${a.p_HEIDI}<br/>\n                                <b>HEIDI_nsnp:</b> ${a.nsnp_HEIDI}<br/>`}else if(2===a){const a=e.eQTL_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.SNP}<br/>\n                                <b>SNP position:</b> ${a.SNPChr}:${a.SNPPos}<br/>\n                                <b>EA/OA:</b> ${a.AssessedAllele}/${a.OtherAllele}<br/>\n                                <b>Z-score:</b> ${a.Zscore}<br/>\n                                <b>P:</b> ${a.Pvalue}<br/>\n                                <b>FDR:</b> ${a.FDR}`}else if(3===a){const a=e.eQTL_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.SNP}<br/>\n                                <b>SNP position:</b> ${a.SNPChr}:${a.SNPPos}<br/>\n                                <b>EA/OA:</b> ${a.AssessedAllele}/${a.OtherAllele}<br/>\n                                <b>Z-score:</b> ${a.Zscore}<br/>\n                                <b>P:</b> ${a.Pvalue}<br/>\n                                <b>FDR:</b> ${a.FDR}`}else if(4===a){const a=e.GWAS_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}else if(5===a){const a=e.GWAS_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}return n}},dataZoom:[{show:!0,realtime:!0,xAxisIndex:[0,1,2],top:"90%"},{type:"inside",realtime:!0,xAxisIndex:[0,1,2],top:"90%"}],grid:[{height:"20%"},{top:"35%",height:"20%"},{top:"65%",height:"20%"}],xAxis:[{...i},{...i,gridIndex:1},{...i,gridIndex:2}],yAxis:[{...s,name:"-log10(SMR_FDR)"},{...s,name:"-log10(eQTL_P)",gridIndex:1},{...s,name:"-log10(GWAS_P)",gridIndex:2}],series:[{name:"Significant",type:"scatter",data:r,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:o,symbolSize:5,itemStyle:{color:"#79bbff"}},{name:"Significant",type:"scatter",data:t,xAxisIndex:1,yAxisIndex:1,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:a,xAxisIndex:1,yAxisIndex:1,symbolSize:5,itemStyle:{color:"#79bbff"}},{name:"Significant",type:"scatter",data:n,xAxisIndex:2,yAxisIndex:2,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:l,xAxisIndex:2,yAxisIndex:2,symbolSize:5,itemStyle:{color:"#79bbff"}},{...c,xAxisIndex:0,yAxisIndex:0},{...p,xAxisIndex:1,yAxisIndex:1},{...p,xAxisIndex:2,yAxisIndex:2}],legend:{data:[{name:"Significant",icon:"circle",itemStyle:{color:"red"}},{name:"Insignificant",icon:"circle",itemStyle:{color:"#79bbff"}}]}};this.chart_eQTL.setOption(d)},plotZscore(e){this.chart_zscore=T.Ts(this.$refs.chart_zscore);const t=e.merged_result.map(e=>[e.qtl_zscore,e.gwas_zscore]),a={title:{text:"eQTL vs GWAS Z-scores",left:"center"},tooltip:[{trigger:"item",formatter:function(t){const a=e.merged_result[t.dataIndex];return`\n                    <b>SNP:</b> ${a.SNP}<br>\n                    <b>SNP position:</b> ${a.Chr}:${a.BP}<br>\n                    <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                    <table style="width: 100%; text-align: left; font-size: 12px;">\n                      <tr>\n                        <td></td>\n                        <td><b>QTL</b></td>\n                        <td><b>GWAS</b></td>\n                      </tr>\n                      <tr>\n                        <td><b>EAF:</b></td>\n                        <td></td>\n                        <td>${a.gwas_EAF}</td>\n                      </tr>\n                      <tr>\n                        <td><b>Z-score:</b></td>\n                        <td>${a.qtl_zscore}</td>\n                        <td>${a.gwas_zscore}</td>\n                      </tr>\n                      <tr>\n                        <td><b>P:</b></td>\n                        <td>${a.qtl_p}</td>\n                        <td>${a.gwas_p}</td>\n                      </tr>\n                    </table>\n                `}}],xAxis:{name:"eQTL Z-score",type:"value"},yAxis:{name:"GWAS Z-score",type:"value"},series:[{type:"scatter",data:t,symbolSize:10,itemStyle:{color:"#5470C6"}}]};this.chart_zscore.setOption(a)},queryData(){this.currpage=1,this.loading=!0,ne.A.post("/api/cancerdb/SMR_eQTL",{cancerType:this.cancerType,searchRegion:this.searchRegion,searchGene:this.searchGene}).then(e=>{0===e.data.length?this.$alert("Sorry, the input content is not existed or not significant in our results.","No results",{confirmButtonText:"OK"}):"errorID"===e.data?this.$alert("Invalid genomic region search!","Error",{confirmButtonText:"OK"}):(this.myResults=e.data,this.plot_heatmap(this.myResults),this.selectRow(this.myResults[0],!0)),this.loading=!1}).catch(e=>{console.log(e)})},clearData(){this.cancerType="",this.searchRegion="",this.searchGene=""},plot_heatmap(e){const t=[...new Set(e.map(e=>e.symbol))],a=[...new Set(e.map(e=>e.cancer))],n=[],l=e.reduce((e,t)=>{const a=`${t.symbol}-${t.cancer}`;return e[a]=t.b_SMR,e},{});t.forEach(e=>{const t=[];a.forEach(a=>{const n=l[`${e}-${a}`]||null;t.push(n)}),n.push(t)}),this.chart_heatmap=(0,v.IG)(T.Ts(this.$refs.chart_heatmap,null,{renderer:"svg"}));const r=Math.max(...n.flat()),o={title:{text:"Causal effect (beta) between gene (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(e){return`<b>Gene:</b> ${t[e.data[0]]}<br/>\n                    <b>Cancer:</b> ${a[e.data[1]]}<br/>\n                    <b>SMR_beta:</b> ${e.data[2]}<br/>`}},dataZoom:[{show:!0,realtime:!0,start:0,end:20,top:"90%"},{type:"inside",realtime:!0,start:0,end:20,top:"90%"}],grid:{left:"30%",right:"10%",bottom:"10%",top:"10%",height:"70%"},xAxis:{type:"category",data:t,name:"Gene",splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer",nameGap:5,splitArea:{show:!1}},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"1250",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"SMR_beta",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},i=[];for(let s=0;s<n.length;s++)for(let e=0;e<n[s].length;e++)i.push([s,e,n[s][e]]);o.series[0].data=i,this.chart_heatmap.setOption(o)}}};const At=(0,o.A)(Qt,[["render",Tt],["__scopeId","data-v-28aefa7e"]]);var Rt=At;const $t={class:"search"},Et={class:"searchButton"},Nt={class:"clearButton"},It={class:"table_display"},Gt={id:"chart_heatmap",ref:"chart_heatmap",style:{width:"80%",height:"400px",margin:"0 auto"}},Mt={class:"columns_display",style:{float:"left"}},Wt={class:"bg_table_3"},zt=["href"],Dt={class:"fig_description"},Ot={style:{"font-size":"20px","font-weight":"bold",color:"white"}},Ht={class:"plot"},qt={id:"chart_meQTL",ref:"chart_meQTL",style:{width:"100%",height:"800px"}},Bt={id:"chart_zscore",ref:"chart_zscore",style:{width:"100%",height:"800px"}};function Vt(e,t,a,n,r,o){const i=(0,l.g2)("el-option"),s=(0,l.g2)("el-select"),c=(0,l.g2)("el-col"),p=(0,l.g2)("el-input"),d=(0,l.g2)("el-button"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-checkbox"),m=(0,l.g2)("el-checkbox-group"),u=(0,l.g2)("el-popover"),_=(0,l.g2)("el-pagination"),g=(0,l.g2)("el-table-column"),f=(0,l.g2)("QuestionFilled"),S=(0,l.g2)("el-icon"),y=(0,l.g2)("el-tooltip"),k=(0,l.g2)("el-table"),x=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",$t,[(0,l.bF)(h,{class:"searchContent",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[5]||(t[5]=(0,l.Lk)("span",{class:"cancerTypeSelect"},"Cancer type",-1)),(0,l.bF)(s,{ref:"select",modelValue:r.cancerType,"onUpdate:modelValue":t[0]||(t[0]=e=>r.cancerType=e),filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1,placeholder:"Select",style:{position:"relative",top:"5px"},onChange:o.handleSelectChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.options,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[5]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[6]||(t[6]=(0,l.Lk)("span",{class:"geneInputBox"},"Probe methylation",-1)),(0,l.bF)(p,{modelValue:r.searchMethy,"onUpdate:modelValue":t[1]||(t[1]=e=>r.searchMethy=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[6]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[7]||(t[7]=(0,l.Lk)("span",{class:"rsIDinputBox"},"Genomic region",-1)),(0,l.bF)(p,{modelValue:r.searchRegion,"onUpdate:modelValue":t[2]||(t[2]=e=>r.searchRegion=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[7]}),(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Et,[(0,l.bF)(d,{type:"primary",icon:r.Search,onClick:o.queryData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[8]||(t[8]=[(0,l.eW)("Search")])),_:1,__:[8]},8,["icon","onClick"])]),(0,l.Lk)("div",Nt,[(0,l.bF)(d,{type:"danger",icon:r.RefreshRight,onClick:o.clearData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Reset")])),_:1,__:[9]},8,["icon","onClick"])])]),_:1})]),_:1}),(0,l.bF)(h,{class:"searchExample",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.Lk)("span",{style:{position:"relative","font-size":"16px","font-weight":"bold",color:"#409EFF"}},"Search examples:",-1)])),_:1,__:[10]}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchmethy_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("cg00025357")])),_:1,__:[11]},8,["type","onClick"])]),_:1}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchregion_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("1:17577455-17677455")])),_:1,__:[12]},8,["type","onClick"])]),_:1})]),_:1})]),t[21]||(t[21]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",It,[(0,l.Lk)("div",null,[(0,l.Lk)("div",Gt,null,512)]),(0,l.bF)(h,{gutter:20,style:{"padding-left":"80px","padding-right":"80px"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Mt,[(0,l.bF)(u,{placement:"bottom",width:200,trigger:"hover"},{reference:(0,l.k6)(()=>[(0,l.bF)(d,{type:"primary",plain:""},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)("Display columns")])),_:1,__:[14]})]),default:(0,l.k6)(()=>[(0,l.bF)(b,{indeterminate:r.isIndeterminate,modelValue:r.checkAll,"onUpdate:modelValue":t[3]||(t[3]=e=>r.checkAll=e),onChange:o.handleCheckAllChange},{default:(0,l.k6)(()=>t[13]||(t[13]=[(0,l.eW)("Select all")])),_:1,__:[13]},8,["indeterminate","modelValue","onChange"]),t[15]||(t[15]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.bF)(m,{modelValue:r.checkedColumns,"onUpdate:modelValue":t[4]||(t[4]=e=>r.checkedColumns=e),onChange:o.handleCheckedColumnChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.columns,e=>((0,l.uX)(),(0,l.Wv)(b,{value:e,key:e},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[15]})])]),_:1}),(0,l.bF)(c,{span:18,style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(_,{center:"",background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[10,20,50,100],"page-size":r.pagesize,total:r.myResults.length,"current-page":r.currpage,onCurrentChange:o.handleCurrentChange,onSizeChange:o.handleSizeChange},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(c,{span:3,style:{margin:"0 auto"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.exportToExcel,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[16]||(t[16]=[(0,l.eW)("Download")])),_:1,__:[16]},8,["onClick"])]),_:1})]),_:1})]),(0,l.Lk)("div",Wt,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(k,{class:"tableResults",data:r.myResults.slice((r.currpage-1)*r.pagesize,r.currpage*r.pagesize),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort,"row-class-name":o.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(g,{label:"Selector","min-width":"100px",align:"center"},{default:(0,l.k6)(e=>[(0,l.bF)(b,{onChange:t=>o.selectRow(e.row,t),modelValue:e.row.check,"onUpdate:modelValue":t=>e.row.check=t},null,8,["onChange","modelValue","onUpdate:modelValue"])]),_:1}),r.checkedColumns.includes("Methylation")?((0,l.uX)(),(0,l.Wv)(g,{key:0,prop:"probeID",label:"Methylation","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Methylation position")?((0,l.uX)(),(0,l.Wv)(g,{key:1,label:"Methylation position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("Cancer")?((0,l.uX)(),(0,l.Wv)(g,{key:2,prop:"cancer",label:"Cancer","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_beta")?((0,l.uX)(),(0,l.Wv)(g,{key:3,prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_SE")?((0,l.uX)(),(0,l.Wv)(g,{key:4,prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_P")?((0,l.uX)(),(0,l.Wv)(g,{key:5,prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_P_multi")?((0,l.uX)(),(0,l.Wv)(g,{key:6,prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_FDR")?((0,l.uX)(),(0,l.Wv)(g,{key:7,prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("HEIDI_P")?((0,l.uX)(),(0,l.Wv)(g,{key:8,prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("HEIDI_nsnp")?((0,l.uX)(),(0,l.Wv)(g,{key:9,prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Gene")?((0,l.uX)(),(0,l.Wv)(g,{key:10,prop:"Gene",label:"Gene","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Top SNP")?((0,l.uX)(),(0,l.Wv)(g,{key:11,prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,zt)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("SNP position")?((0,l.uX)(),(0,l.Wv)(g,{key:12,prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("EA/OA")?((0,l.uX)(),(0,l.Wv)(g,{key:13,prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[17]||(t[17]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(y,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("EAF")?((0,l.uX)(),(0,l.Wv)(g,{key:14,prop:"Freq","min-width":"120px",align:"center"},{header:(0,l.k6)(()=>[t[18]||(t[18]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(y,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("meQTL_beta")?((0,l.uX)(),(0,l.Wv)(g,{key:15,prop:"b_eQTL",label:"meQTL_beta","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("meQTL_SE")?((0,l.uX)(),(0,l.Wv)(g,{key:16,prop:"se_eQTL",label:"meQTL_SE","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("meQTL_P")?((0,l.uX)(),(0,l.Wv)(g,{key:17,prop:"p_eQTL",label:"meQTL_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("GWAS_beta")?((0,l.uX)(),(0,l.Wv)(g,{key:18,prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("GWAS_SE")?((0,l.uX)(),(0,l.Wv)(g,{key:19,prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("GWAS_P")?((0,l.uX)(),(0,l.Wv)(g,{key:20,prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0)]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),(0,l.Lk)("div",Dt,[(0,l.Lk)("span",Ot,[t[19]||(t[19]=(0,l.eW)(" SMR/meQTL/GWAS figures in methylation and its Â± 1Mb flanking region based on the selected methylation ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedMethy?"#ffd04b":"white"})},(0,D.v_)(r.selectedMethy),5),t[20]||(t[20]=(0,l.eW)(" and cancer ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedCancer?"#ffd04b":"white"})},(0,D.v_)(r.selectedCancer),5)])]),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",Ht,[(0,l.Lk)("div",qt,null,512),(0,l.Lk)("div",Bt,null,512)])),[[x,r.loading_echart]])],64)}ne.A.interceptors.request.use(e=>(console.log(e),re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(console.log(e),re().done(),e));const Xt=["Methylation","Methylation position","Cancer","SMR_beta","SMR_SE","SMR_P","SMR_P_multi","SMR_FDR","HEIDI_P","HEIDI_nsnp","Gene","Top SNP","SNP position","EA/OA","EAF","meQTL_beta","meQTL_SE","meQTL_P","GWAS_beta","GWAS_SE","GWAS_P"];var jt={name:"meQTL_SMR",data(){const e=["Basal cell carcinoma","Breast cancer","Kidney cancer, except renal pelvis","Cervical cancer","Colorectal cancer","Endometrial cancer","Esophageal cancer","Head and neck cancer","Lymphocytic leukemia","Lung cancer","Ovarian cancer","Pancreatic cancer","Prostate cancer","Skin melanoma","Stomach cancer","Squamous cell carcinoma","Thyroid cancer"],t=e.map(e=>({value:e,label:e}));return{Search:w.Search,RefreshRight:w.RefreshRight,options:t,cancerType:"",searchRegion:"",searchMethy:"",pagesize:10,currpage:1,myResults:[],loading:!1,checkAll:!0,columns:Xt,checkedColumns:Xt,isIndeterminate:!1,currentSelectedRow:null,selectedMethy:"",selectedCancer:"",plot_data:[],chart_meQTL:null,chart_zscore:null,chart_GWAS:null,loading_echart:!1,chart_heatmap:null,query:!1}},mounted(){this.query=this.$route.query.query,this.cancerType=[this.$route.query.cancer],this.query?this.queryData():(this.cancerType="",this.loading=!0,ne.A.get("/api/cancerdb/SMR_meQTL").then(e=>{this.myResults=e.data,this.loading=!1,this.$nextTick(()=>{this.plot_heatmap(this.myResults)}),this.myResults.length>0&&this.selectRow(this.myResults[0],!0)}))},methods:{handleSelectChange(){this.$nextTick(()=>{const e=this.$refs.select&&this.$refs.select.$el.querySelector("input");e?e.value="":console.error("Input element not found")})},searchregion_eg(){const e=event.target.textContent.trim();this.searchRegion=e,this.searchMethy=""},searchmethy_eg(){const e=event.target.textContent.trim();this.searchMethy=e,this.searchRegion=""},handleCurrentChange(e){this.currpage=e},handleSizeChange(e){this.pagesize=e},handleSort(e){"descending"===e.order?this.myResults.sort((t,a)=>a[e.prop]-t[e.prop]):"ascending"===e.order&&this.myResults.sort((t,a)=>t[e.prop]-a[e.prop])},rounding(e,t,a){return a.toFixed(3)},toggleDialog(){this.showDialog=!this.showDialog},handleCheckAllChange(e){this.checkedColumns=e?Xt:[],this.isIndeterminate=!1},handleCheckedColumnChange(e){let t=e.length;this.checkAll=t===this.columns.length,this.isIndeterminate=t>0&&t<this.columns.length},selectRow(e,t){this.currentSelectedRow===e?(this.currentSelectedRow=null,e.checked=!1):(this.myResults.forEach(e=>{e.check=!1}),this.currentSelectedRow=e,e.check=t,this.selectedMethy=e.probeID,this.selectedCancer=e.cancer,this.sendFigData())},rowClassName({row:e}){return e.check?"row-selected":""},exportToExcel(){const e={Methylation:"probeID","Methylation position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI",Gene:"Gene","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",meQTL_beta:"b_eQTL",meQTL_SE:"se_eQTL",meQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"},t=this.myResults,a=this.checkedColumns.map(t=>e[t]),n=t.map(e=>a.map(t=>"function"===typeof t?t(e):e[t]));let l="";l+=this.checkedColumns.join(",")+"\n",n.forEach(e=>{l+=e.join(",")+"\n"});const r=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download","SMR_meQTL_FDR0.05.csv"),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},sendFigData(){this.loading_echart=!0,ne.A.post("/api/cancerdb/SMR_meQTL_fig",{methy:this.selectedMethy,cancer:this.selectedCancer}).then(e=>{this.plot_data=e.data,this.$nextTick(()=>{this.plotManhattanWithChartJS(this.plot_data),this.plotZscore(this.plot_data),this.loading_echart=!1})}).catch(e=>{console.error("Error sending data to the backend:",e)})},plotManhattanWithChartJS(e){this.chart_meQTL=(0,v.IG)(T.Ts(this.$refs.chart_meQTL,null,{renderer:"svg"}));const t=e.meQTL_result_sig.map(e=>[e.BP,e.log10P]),a=e.meQTL_result_notsig.map(e=>[e.BP,e.log10P]),n=e.GWAS_result_sig.map(e=>[e.bp,e.log10P]),l=e.GWAS_result_notsig.map(e=>[e.bp,e.log10P]),r=e.SMR_result_sig.map(e=>[e.Probe_bp,e.log10FDR]),o=e.SMR_result_notsig.map(e=>[e.Probe_bp,e.log10FDR]),i={type:"value",min:e.methy_start,max:e.methy_end,splitNumber:10,splitLine:{show:!1},axisLabel:{show:!0,formatter:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},s={type:"value",min:0,splitNumber:10,splitLine:{show:!1},minInterval:1},c={name:"threshSMR",type:"line",markLine:{symbol:"none",data:[{yAxis:1.30103}],label:{show:!0,position:"end",formatter:"-log10(0.05)"},lineStyle:{type:"dashed",color:"red"}}},p={name:"threshQTLGWAS",type:"line",markLine:{symbol:"none",data:[{yAxis:7.30103}],label:{show:!0,position:"end",formatter:"-log10(5e-8)"},lineStyle:{type:"dashed",color:"red"}}},d={tooltip:{trigger:"item",formatter:function(t){const a=t.seriesIndex;let n="";if(0===a){const a=e.SMR_result_sig[t.dataIndex];n=`<b>Methylation:</b> ${a.probeID}<br/>\n                                <b>Methylation position:</b> ${a.ProbeChr}:${a.Probe_bp}<br/>\n                                <b>Gene:</b> ${a.Gene}<br/>\n                                <b>Beta:</b> ${a.b_SMR}<br/>\n                                <b>SE:</b> ${a.se_SMR}<br/>\n                                <b>P:</b> ${a.p_SMR}<br/>\n                                <b>P_multi:</b> ${a.p_SMR_multi}<br/>                                \n                                <b>FDR:</b> ${a.fdr}<br/>\n                                <b>HEIDI_P:</b> ${a.p_HEIDI}<br/>\n                                <b>HEIDI_nsnp:</b> ${a.nsnp_HEIDI}<br/>`}else if(1===a){const a=e.SMR_result_notsig[t.dataIndex];n=`<b>Methylation:</b> ${a.probeID}<br/>\n                                <b>Methylation position:</b> ${a.ProbeChr}:${a.Probe_bp}<br/>\n                                <b>Gene:</b> ${a.Gene}<br/>\n                                <b>Beta:</b> ${a.b_SMR}<br/>\n                                <b>SE:</b> ${a.se_SMR}<br/>\n                                <b>P:</b> ${a.p_SMR}<br/>\n                                <b>P_multi:</b> ${a.p_SMR_multi}<br/>                                \n                                <b>FDR:</b> ${a.fdr}<br/>\n                                <b>HEIDI_P:</b> ${a.p_HEIDI}<br/>\n                                <b>HEIDI_nsnp:</b> ${a.nsnp_HEIDI}<br/>`}else if(2===a){const a=e.meQTL_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.SNP}<br/>\n                                <b>SNP position:</b> ${a.Chr}:${a.BP}<br/>\n                                <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                                <b>EAF:</b> ${a.Freq}<br/>\n                                <b>Beta:</b> ${a.b}<br/>\n                                <b>SE:</b> ${a.SE}<br/>\n                                <b>P:</b> ${a.p}`}else if(3===a){const a=e.meQTL_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.SNP}<br/>\n                                <b>SNP position:</b> ${a.Chr}:${a.BP}<br/>\n                                <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                                <b>EAF:</b> ${a.Freq}<br/>\n                                <b>Beta:</b> ${a.b}<br/>\n                                <b>SE:</b> ${a.SE}<br/>\n                                <b>P:</b> ${a.p}`}else if(4===a){const a=e.GWAS_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}else if(5===a){const a=e.GWAS_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}return n}},dataZoom:[{show:!0,realtime:!0,xAxisIndex:[0,1,2],top:"90%"},{type:"inside",realtime:!0,xAxisIndex:[0,1,2],top:"90%"}],grid:[{height:"20%"},{top:"35%",height:"20%"},{top:"65%",height:"20%"}],xAxis:[{...i,gridIndex:0},{...i,gridIndex:1},{...i,gridIndex:2}],yAxis:[{...s,name:"-log10(SMR_FDR)",gridIndex:0},{...s,name:"-log10(meQTL_P)",gridIndex:1},{...s,name:"-log10(GWAS_P)",gridIndex:2}],series:[{name:"Significant",type:"scatter",data:r,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:o,symbolSize:5,itemStyle:{color:"#79bbff"}},{name:"Significant",type:"scatter",data:t,xAxisIndex:1,yAxisIndex:1,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:a,xAxisIndex:1,yAxisIndex:1,symbolSize:5,itemStyle:{color:"#79bbff"}},{name:"Significant",type:"scatter",data:n,xAxisIndex:2,yAxisIndex:2,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:l,xAxisIndex:2,yAxisIndex:2,symbolSize:5,itemStyle:{color:"#79bbff"}},{...c,xAxisIndex:0,yAxisIndex:0},{...p,xAxisIndex:1,yAxisIndex:1},{...p,xAxisIndex:2,yAxisIndex:2}],legend:{data:[{name:"Significant",icon:"circle",itemStyle:{color:"red"}},{name:"Insignificant",icon:"circle",itemStyle:{color:"#79bbff"}}]}};this.chart_meQTL.setOption(d)},plotZscore(e){this.chart_zscore=T.Ts(this.$refs.chart_zscore);const t=e.merged_result.map(e=>[e.qtl_zscore,e.gwas_zscore]),a={title:{text:"meQTL vs GWAS Z-scores",left:"center"},tooltip:[{trigger:"item",formatter:function(t){const a=e.merged_result[t.dataIndex];return`\n                    <b>SNP:</b> ${a.SNP}<br>\n                    <b>SNP position:</b> ${a.Chr}:${a.BP}<br>\n                    <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                    <table style="width: 100%; text-align: left; font-size: 12px;">\n                      <tr>\n                        <td></td>\n                        <td><b>QTL</b></td>\n                        <td><b>GWAS</b></td>\n                      </tr>\n                      <tr>\n                        <td><b>EAF:</b></td>\n                        <td>${a.qtl_EAF}</td>\n                        <td>${a.gwas_EAF}</td>\n                      </tr>\n                      <tr>\n                        <td><b>Beta:</b></td>\n                        <td>${a.qtl_b}</td>\n                        <td>${a.gwas_b}</td>\n                      </tr>\n                      <tr>\n                        <td><b>SE:</b></td>\n                        <td>${a.qtl_se}</td>\n                        <td>${a.gwas_se}</td>\n                      </tr>\n                      <tr>\n                        <td><b>P:</b></td>\n                        <td>${a.qtl_p}</td>\n                        <td>${a.gwas_p}</td>\n                      </tr>\n                    </table>\n                `}}],xAxis:{name:"meQTL Z-score",type:"value"},yAxis:{name:"GWAS Z-score",type:"value"},series:[{type:"scatter",data:t,symbolSize:10,itemStyle:{color:"#5470C6"}}]};this.chart_zscore.setOption(a)},queryData(){this.currpage=1,this.loading=!0,ne.A.post("/api/cancerdb/SMR_meQTL",{cancerType:this.cancerType,searchRegion:this.searchRegion,searchMethy:this.searchMethy}).then(e=>{0===e.data.length?this.$alert("Sorry, the input content is not existed or not significant in our results.","No results",{confirmButtonText:"OK"}):"errorID"===e.data?this.$alert("Invalid genomic region search!","Error",{confirmButtonText:"OK"}):(this.myResults=e.data,this.plot_heatmap(this.myResults),this.selectRow(this.myResults[0],!0)),this.loading=!1}).catch(e=>{console.log(e)})},clearData(){this.cancerType="",this.searchRegion="",this.searchMethy=""},plot_heatmap(e){const t=[...new Set(e.map(e=>e.probeID))],a=[...new Set(e.map(e=>e.cancer))],n=[],l=e.reduce((e,t)=>{const a=`${t.probeID}-${t.cancer}`;return e[a]=t.b_SMR,e},{});t.forEach(e=>{const t=[];a.forEach(a=>{const n=l[`${e}-${a}`]||null;t.push(n)}),n.push(t)}),this.chart_heatmap=(0,v.IG)(T.Ts(this.$refs.chart_heatmap,null,{renderer:"svg"}));const r=Math.max(...n.flat()),o={title:{text:"Causal effect (beta) between methylation (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(e){return`<b>Methylation:</b> ${t[e.data[0]]}<br/>\n                    <b>Cancer:</b> ${a[e.data[1]]}<br/>\n                    <b>SMR_beta:</b> ${e.data[2]}<br/>`}},grid:{left:"15%",right:"10%",bottom:"10%",top:"10%",height:"70%"},dataZoom:[{show:!0,realtime:!0,start:0,end:20,top:"90%"},{type:"inside",realtime:!0,start:0,end:20,top:"90%"}],xAxis:{type:"category",data:t,name:"Methylation",splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer",splitArea:{show:!1}},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"1250",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"SMR_beta",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},i=[];for(let s=0;s<n.length;s++)for(let e=0;e<n[s].length;e++)i.push([s,e,n[s][e]]);o.series[0].data=i,this.chart_heatmap.setOption(o)}}};const Ut=(0,o.A)(jt,[["render",Vt],["__scopeId","data-v-793237dd"]]);var Kt=Ut;const Zt={class:"search"},Jt={class:"searchButton"},Yt={class:"clearButton"},ea={class:"table_display"},ta={class:"columns_display",style:{float:"left"}},aa={class:"bg_table_3"},na=["href"],la=["href"],ra={class:"fig_description"},oa={style:{"font-size":"20px","font-weight":"bold",color:"white"}},ia={class:"plot"},sa={id:"chart_pQTL",ref:"chart_pQTL",style:{width:"100%",height:"800px"}},ca={id:"chart_zscore",ref:"chart_zscore",style:{width:"100%",height:"800px"}};function pa(e,t,a,n,r,o){const i=(0,l.g2)("el-option"),s=(0,l.g2)("el-select"),c=(0,l.g2)("el-col"),p=(0,l.g2)("el-input"),d=(0,l.g2)("el-button"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-checkbox"),m=(0,l.g2)("el-checkbox-group"),u=(0,l.g2)("el-popover"),_=(0,l.g2)("el-pagination"),g=(0,l.g2)("el-table-column"),f=(0,l.g2)("QuestionFilled"),S=(0,l.g2)("el-icon"),y=(0,l.g2)("el-tooltip"),k=(0,l.g2)("el-table"),x=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",Zt,[(0,l.bF)(h,{class:"searchContent",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[5]||(t[5]=(0,l.Lk)("span",{class:"cancerTypeSelect"},"Cancer type",-1)),(0,l.bF)(s,{ref:"select",modelValue:r.cancerType,"onUpdate:modelValue":t[0]||(t[0]=e=>r.cancerType=e),filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1,placeholder:"Select",style:{position:"relative",top:"5px"},onChange:o.handleSelectChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.options,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[5]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[6]||(t[6]=(0,l.Lk)("span",{class:"geneInputBox"},"Protein (Gene symbol)",-1)),(0,l.bF)(p,{modelValue:r.searchProtein,"onUpdate:modelValue":t[1]||(t[1]=e=>r.searchProtein=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[6]}),(0,l.bF)(c,{span:7},{default:(0,l.k6)(()=>[t[7]||(t[7]=(0,l.Lk)("span",{class:"rsIDinputBox"},"Genomic region",-1)),(0,l.bF)(p,{modelValue:r.searchRegion,"onUpdate:modelValue":t[2]||(t[2]=e=>r.searchRegion=e),clearable:"",style:{position:"relative",top:"5px"}},null,8,["modelValue"])]),_:1,__:[7]}),(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Jt,[(0,l.bF)(d,{type:"primary",icon:r.Search,onClick:o.queryData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[8]||(t[8]=[(0,l.eW)("Search")])),_:1,__:[8]},8,["icon","onClick"])]),(0,l.Lk)("div",Yt,[(0,l.bF)(d,{type:"danger",icon:r.RefreshRight,onClick:o.clearData,style:{width:"100px"}},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Reset")])),_:1,__:[9]},8,["icon","onClick"])])]),_:1})]),_:1}),(0,l.bF)(h,{class:"searchExample",gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.Lk)("span",{style:{position:"relative","font-size":"16px","font-weight":"bold",color:"#409EFF"}},"Search examples:",-1)])),_:1,__:[10]}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchprotein_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("SF3B4")])),_:1,__:[11]},8,["type","onClick"])]),_:1}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:e.info,link:"",onClick:o.searchregion_eg,style:{"font-size":"16px"}},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("1:149895209-159895209")])),_:1,__:[12]},8,["type","onClick"])]),_:1})]),_:1})]),t[21]||(t[21]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",ea,[(0,l.Lk)("div",null,[(0,l.Lk)("div",{id:"chart_heatmap",ref:"chart_heatmap",style:(0,D.Tr)([o.chartStyle,{transition:"all 0.3s ease-in-out"}])},null,4)]),(0,l.bF)(h,{gutter:20,style:{"padding-left":"80px","padding-right":"80px"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:3},{default:(0,l.k6)(()=>[(0,l.Lk)("div",ta,[(0,l.bF)(u,{placement:"bottom",width:200,trigger:"hover"},{reference:(0,l.k6)(()=>[(0,l.bF)(d,{type:"primary",plain:""},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)("Display columns")])),_:1,__:[14]})]),default:(0,l.k6)(()=>[(0,l.bF)(b,{indeterminate:r.isIndeterminate,modelValue:r.checkAll,"onUpdate:modelValue":t[3]||(t[3]=e=>r.checkAll=e),onChange:o.handleCheckAllChange},{default:(0,l.k6)(()=>t[13]||(t[13]=[(0,l.eW)("Select all")])),_:1,__:[13]},8,["indeterminate","modelValue","onChange"]),t[15]||(t[15]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.bF)(m,{modelValue:r.checkedColumns,"onUpdate:modelValue":t[4]||(t[4]=e=>r.checkedColumns=e),onChange:o.handleCheckedColumnChange},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.columns,e=>((0,l.uX)(),(0,l.Wv)(b,{value:e,key:e},{default:(0,l.k6)(()=>[(0,l.eW)((0,D.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1,__:[15]})])]),_:1}),(0,l.bF)(c,{span:18,style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(_,{center:"",background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[10,20,50,100],"page-size":r.pagesize,total:r.myResults.length,"current-page":r.currpage,onCurrentChange:o.handleCurrentChange,onSizeChange:o.handleSizeChange},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(c,{span:3,style:{margin:"0 auto"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.exportToExcel,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[16]||(t[16]=[(0,l.eW)("Download")])),_:1,__:[16]},8,["onClick"])]),_:1})]),_:1})]),(0,l.Lk)("div",aa,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(k,{class:"tableResults",data:r.myResults.slice((r.currpage-1)*r.pagesize,r.currpage*r.pagesize),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort,"row-class-name":o.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(g,{label:"Selector","min-width":"100px",align:"center"},{default:(0,l.k6)(e=>[(0,l.bF)(b,{onChange:t=>o.selectRow(e.row,t),modelValue:e.row.check,"onUpdate:modelValue":t=>e.row.check=t},null,8,["onChange","modelValue","onUpdate:modelValue"])]),_:1}),r.checkedColumns.includes("Protein")?((0,l.uX)(),(0,l.Wv)(g,{key:0,prop:"Gene",label:"Protein","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_gene?gene="+e.row.Gene,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.Gene),9,na)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("Protein position")?((0,l.uX)(),(0,l.Wv)(g,{key:1,label:"Protein position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("Cancer")?((0,l.uX)(),(0,l.Wv)(g,{key:2,prop:"cancer",label:"Cancer","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_beta")?((0,l.uX)(),(0,l.Wv)(g,{key:3,prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_SE")?((0,l.uX)(),(0,l.Wv)(g,{key:4,prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_P")?((0,l.uX)(),(0,l.Wv)(g,{key:5,prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_P_multi")?((0,l.uX)(),(0,l.Wv)(g,{key:6,prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("SMR_FDR")?((0,l.uX)(),(0,l.Wv)(g,{key:7,prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("HEIDI_P")?((0,l.uX)(),(0,l.Wv)(g,{key:8,prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("HEIDI_nsnp")?((0,l.uX)(),(0,l.Wv)(g,{key:9,prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("Top SNP")?((0,l.uX)(),(0,l.Wv)(g,{key:10,prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,la)]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("SNP position")?((0,l.uX)(),(0,l.Wv)(g,{key:11,prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center"})):(0,l.Q3)("",!0),r.checkedColumns.includes("EA/OA")?((0,l.uX)(),(0,l.Wv)(g,{key:12,prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[17]||(t[17]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(y,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("EAF")?((0,l.uX)(),(0,l.Wv)(g,{key:13,prop:"Freq","min-width":"120px",align:"center"},{header:(0,l.k6)(()=>[t[18]||(t[18]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(y,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0),r.checkedColumns.includes("pQTL_beta")?((0,l.uX)(),(0,l.Wv)(g,{key:14,prop:"b_eQTL",label:"pQTL_beta","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("pQTL_SE")?((0,l.uX)(),(0,l.Wv)(g,{key:15,prop:"se_eQTL",label:"pQTL_SE","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("pQTL_P")?((0,l.uX)(),(0,l.Wv)(g,{key:16,prop:"p_eQTL",label:"pQTL_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("GWAS_beta")?((0,l.uX)(),(0,l.Wv)(g,{key:17,prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("GWAS_SE")?((0,l.uX)(),(0,l.Wv)(g,{key:18,prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0),r.checkedColumns.includes("GWAS_P")?((0,l.uX)(),(0,l.Wv)(g,{key:19,prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})):(0,l.Q3)("",!0)]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),(0,l.Lk)("div",ra,[(0,l.Lk)("span",oa,[t[19]||(t[19]=(0,l.eW)(" SMR/pQTL/GWAS figures in protein and its Â± 1Mb flanking region based on the selected protein ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedProtein_symbol?"#ffd04b":"white"})},(0,D.v_)(r.selectedProtein_symbol),5),t[20]||(t[20]=(0,l.eW)(" and cancer ")),(0,l.Lk)("span",{style:(0,D.Tr)({color:r.selectedCancer?"#ffd04b":"white"})},(0,D.v_)(r.selectedCancer),5)])]),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",ia,[(0,l.Lk)("div",sa,null,512),(0,l.Lk)("div",ca,null,512)])),[[x,r.loading_echart]])],64)}a(116);ne.A.interceptors.request.use(e=>(console.log(e),re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(console.log(e),re().done(),e));const da=["Protein","Protein position","Cancer","SMR_beta","SMR_SE","SMR_P","SMR_P_multi","SMR_FDR","HEIDI_P","HEIDI_nsnp","Top SNP","SNP position","EA/OA","EAF","pQTL_beta","pQTL_SE","pQTL_P","GWAS_beta","GWAS_SE","GWAS_P"];var ha={name:"pQTL_SMR",data(){const e=["Basal cell carcinoma","Breast cancer","Colorectal cancer","Kidney cancer, except renal pelvis","Ovarian cancer","Prostate cancer","Skin melanoma","Squamous cell carcinoma","Thyroid cancer"],t=e.map(e=>({value:e,label:e}));return{Search:w.Search,RefreshRight:w.RefreshRight,options:t,cancerType:"",searchRegion:"",searchProtein:"",pagesize:10,currpage:1,myResults:[],loading:!1,checkAll:!0,columns:da,checkedColumns:da,isIndeterminate:!1,currentSelectedRow:null,selectedProtein:"",selectedProtein_symbol:"",selectedCancer:"",plot_data:[],chart_pQTL:null,chart_zscore:null,chart_heatmap:null,isFullscreen:!1,loading_echart:!1,query:!1}},mounted(){this.query=this.$route.query.query,this.cancerType=[this.$route.query.cancer],this.query?this.queryData():(this.cancerType="",this.loading=!0,ne.A.get("/api/cancerdb/SMR_pQTL").then(e=>{this.myResults=e.data,this.loading=!1,this.$nextTick(()=>{this.plot_heatmap(this.myResults)}),this.myResults.length>0&&this.selectRow(this.myResults[0],!0)}))},computed:{chartStyle(){return this.isFullscreen?{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",zIndex:"9999",backgroundColor:"#fff"}:{width:"80%",height:"400px",margin:"0 auto"}}},methods:{handleSelectChange(){this.$nextTick(()=>{const e=this.$refs.select&&this.$refs.select.$el.querySelector("input");e?e.value="":console.error("Input element not found")})},searchregion_eg(){const e=event.target.textContent.trim();this.searchRegion=e,this.searchProtein=""},searchprotein_eg(){const e=event.target.textContent.trim();this.searchProtein=e,this.searchRegion=""},handleCurrentChange(e){this.currpage=e},handleSizeChange(e){this.pagesize=e},handleSort(e){"descending"===e.order?this.myResults.sort((t,a)=>a[e.prop]-t[e.prop]):"ascending"===e.order&&this.myResults.sort((t,a)=>t[e.prop]-a[e.prop])},rounding(e,t,a){return a.toFixed(3)},handleCheckAllChange(e){this.checkedColumns=e?da:[],this.isIndeterminate=!1},handleCheckedColumnChange(e){let t=e.length;this.checkAll=t===this.columns.length,this.isIndeterminate=t>0&&t<this.columns.length},selectRow(e,t){this.currentSelectedRow===e?(this.currentSelectedRow=null,e.checked=!1):(this.myResults.forEach(e=>{e.check=!1}),this.currentSelectedRow=e,e.check=t,this.selectedProtein=e.probeID,this.selectedProtein_symbol=e.Gene,this.selectedCancer=e.cancer,this.sendFigData())},rowClassName({row:e}){return e.check?"row-selected":""},exportToExcel(){const e={Protein:"Gene","Protein position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",pQTL_beta:"b_eQTL",pQTL_SE:"se_eQTL",pQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"},t=this.myResults,a=this.checkedColumns.map(t=>e[t]),n=t.map(e=>a.map(t=>"function"===typeof t?t(e):e[t]));let l="";l+=this.checkedColumns.join(",")+"\n",n.forEach(e=>{l+=e.join(",")+"\n"});const r=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download","SMR_pQTL_FDR0.05.csv"),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},sendFigData(){this.loading_echart=!0,ne.A.post("/api/cancerdb/SMR_pQTL_fig",{protein:this.selectedProtein,cancer:this.selectedCancer}).then(e=>{this.plot_data=e.data,this.plotManhattanWithChartJS(this.plot_data),this.plotZscore(this.plot_data),this.loading_echart=!1}).catch(e=>{console.error("Error sending data to the backend:",e)})},plotManhattanWithChartJS(e){this.chart_pQTL=(0,v.IG)(T.Ts(this.$refs.chart_pQTL,null,{renderer:"svg"}));const t=e.pQTL_result_sig.map(e=>[e.BP,e.log10P]),a=e.pQTL_result_notsig.map(e=>[e.BP,e.log10P]),n=e.GWAS_result_sig.map(e=>[e.bp,e.log10P]),l=e.GWAS_result_notsig.map(e=>[e.bp,e.log10P]),r=e.SMR_result_sig.map(e=>[e.Probe_bp,e.log10FDR]),o=e.SMR_result_notsig.map(e=>[e.Probe_bp,e.log10FDR]),i={type:"value",min:e.protein_start,max:e.protein_end,splitNumber:10,splitLine:{show:!1},axisLabel:{show:!0,formatter:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},s={type:"value",min:0,splitNumber:10,splitLine:{show:!1},minInterval:1},c={name:"threshSMR",type:"line",markLine:{symbol:"none",data:[{yAxis:1.30103}],label:{show:!0,position:"end",formatter:"-log10(0.05)"},lineStyle:{type:"dashed",color:"red"}}},p={name:"threshQTLGWAS",type:"line",markLine:{symbol:"none",data:[{yAxis:7.30103}],label:{show:!0,position:"end",formatter:"-log10(5e-8)"},lineStyle:{type:"dashed",color:"red"}}},d={tooltip:{trigger:"item",formatter:function(t){const a=t.seriesIndex;let n="";if(0===a){const a=e.SMR_result_sig[t.dataIndex];n=`<b>Protein:</b> ${a.Gene}<br/>\n                                <b>Protein position:</b> ${a.ProbeChr}:${a.Probe_bp}<br/>\n                                <b>Beta:</b> ${a.b_SMR}<br/>\n                                <b>SE:</b> ${a.se_SMR}<br/>\n                                <b>P:</b> ${a.p_SMR}<br/>\n                                <b>P_multi:</b> ${a.p_SMR_multi}<br/>    \n                                <b>FDR:</b> ${a.fdr}<br/>\n                                <b>HEIDI_P:</b> ${a.p_HEIDI}<br/>\n                                <b>HEIDI_nsnp:</b> ${a.nsnp_HEIDI}<br/>`}else if(1===a){const a=e.SMR_result_notsig[t.dataIndex];n=`<b>Protein:</b> ${a.Gene}<br/>\n                                <b>Protein position:</b> ${a.ProbeChr}:${a.Probe_bp}<br/>\n                                <b>Beta:</b> ${a.b_SMR}<br/>\n                                <b>SE:</b> ${a.se_SMR}<br/>\n                                <b>P:</b> ${a.p_SMR}<br/>\n                                <b>P_multi:</b> ${a.p_SMR_multi}<br/>    \n                                <b>FDR:</b> ${a.fdr}<br/>\n                                <b>HEIDI_P:</b> ${a.p_HEIDI}<br/>\n                                <b>HEIDI_nsnp:</b> ${a.nsnp_HEIDI}<br/>`}else if(2===a){const a=e.pQTL_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.SNP}<br/>\n                                <b>SNP position:</b> ${a.Chr}:${a.BP}<br/>\n                                <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                                <b>EAF:</b> ${a.Freq}<br/>\n                                <b>Beta:</b> ${a.b}<br/>\n                                <b>SE:</b> ${a.SE}<br/>\n                                <b>P:</b> ${a.p}`}else if(3===a){const a=e.pQTL_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.SNP}<br/>\n                                <b>SNP position:</b> ${a.Chr}:${a.BP}<br/>\n                                <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                                <b>EAF:</b> ${a.Freq}<br/>\n                                <b>Beta:</b> ${a.b}<br/>\n                                <b>SE:</b> ${a.SE}<br/>\n                                <b>P:</b> ${a.p}`}else if(4===a){const a=e.GWAS_result_sig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}else if(5===a){const a=e.GWAS_result_notsig[t.dataIndex];n=`<b>SNP:</b> ${a.snpid}<br/>\n                                <b>SNP position:</b> ${a.hg19chr}:${a.bp}<br/>\n                                <b>EA/OA:</b> ${a.a1}/${a.a2}<br/>\n                                <b>EAF:</b> ${a.EURaf}<br/>\n                                <b>Beta:</b> ${a.beta}<br/>\n                                <b>SE:</b> ${a.se}<br/>\n                                <b>P:</b> ${a.pval}`}return n}},dataZoom:[{show:!0,realtime:!0,xAxisIndex:[0,1,2],top:"90%"},{type:"inside",realtime:!0,xAxisIndex:[0,1,2],top:"90%"}],grid:[{height:"20%"},{top:"35%",height:"20%"},{top:"65%",height:"20%"}],xAxis:[{...i},{...i,gridIndex:1},{...i,gridIndex:2}],yAxis:[{...s,name:"-log10(SMR_FDR)"},{...s,name:"-log10(pQTL_P)",gridIndex:1},{...s,name:"-log10(GWAS_P)",gridIndex:2}],series:[{name:"Significant",type:"scatter",data:r,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:o,symbolSize:5,itemStyle:{color:"#79bbff"}},{name:"Significant",type:"scatter",data:t,xAxisIndex:1,yAxisIndex:1,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:a,xAxisIndex:1,yAxisIndex:1,symbolSize:5,itemStyle:{color:"#79bbff"}},{name:"Significant",type:"scatter",data:n,xAxisIndex:2,yAxisIndex:2,symbolSize:5,itemStyle:{color:"red"}},{name:"Insignificant",type:"scatter",data:l,xAxisIndex:2,yAxisIndex:2,symbolSize:5,itemStyle:{color:"#79bbff"}},{...c,xAxisIndex:0,yAxisIndex:0},{...p,xAxisIndex:1,yAxisIndex:1},{...p,xAxisIndex:2,yAxisIndex:2}],legend:{data:[{name:"Significant",icon:"circle",itemStyle:{color:"red"}},{name:"Insignificant",icon:"circle",itemStyle:{color:"#79bbff"}}]}};this.chart_pQTL.setOption(d)},plotZscore(e){this.chart_zscore=T.Ts(this.$refs.chart_zscore);const t=e.merged_result.map(e=>[e.qtl_zscore,e.gwas_zscore]),a={title:{text:"pQTL vs GWAS Z-scores",left:"center"},tooltip:[{trigger:"item",formatter:function(t){const a=e.merged_result[t.dataIndex];return`\n                    <b>SNP:</b> ${a.SNP}<br>\n                    <b>SNP position:</b> ${a.Chr}:${a.BP}<br>\n                    <b>EA/OA:</b> ${a.A1}/${a.A2}<br/>\n                    <table style="width: 100%; text-align: left; font-size: 12px;">\n                      <tr>\n                        <td></td>\n                        <td><b>QTL</b></td>\n                        <td><b>GWAS</b></td>\n                      </tr>\n                      <tr>\n                        <td><b>EAF:</b></td>\n                        <td>${a.qtl_EAF}</td>\n                        <td>${a.gwas_EAF}</td>\n                      </tr>\n                      <tr>\n                        <td><b>Beta:</b></td>\n                        <td>${a.qtl_b}</td>\n                        <td>${a.gwas_b}</td>\n                      </tr>\n                      <tr>\n                        <td><b>SE:</b></td>\n                        <td>${a.qtl_se}</td>\n                        <td>${a.gwas_se}</td>\n                      </tr>\n                      <tr>\n                        <td><b>P:</b></td>\n                        <td>${a.qtl_p}</td>\n                        <td>${a.gwas_p}</td>\n                      </tr>\n                    </table>\n                `}}],xAxis:{name:"pQTL Z-score",type:"value"},yAxis:{name:"GWAS Z-score",type:"value"},series:[{type:"scatter",data:t,symbolSize:10,itemStyle:{color:"#5470C6"}}]};this.chart_zscore.setOption(a)},queryData(){this.currpage=1,this.loading=!0,ne.A.post("/api/cancerdb/SMR_pQTL",{cancerType:this.cancerType,searchRegion:this.searchRegion,searchProtein:this.searchProtein}).then(e=>{0===e.data.length?this.$alert("Sorry, the input content is not existed or not significant in our results.","No results",{confirmButtonText:"OK"}):"errorID"===e.data?this.$alert("Invalid genomic region search!","Error",{confirmButtonText:"OK"}):(this.myResults=e.data,this.plot_heatmap(this.myResults),this.selectRow(this.myResults[0],!0)),this.loading=!1}).catch(e=>{console.log(e)})},clearData(){this.cancerType="",this.searchRegion="",this.searchProtein=""},toggleFullscreen(){this.isFullscreen=!this.isFullscreen},plot_heatmap(e){const t=[...new Set(e.map(e=>e.probeID))],a=[...new Set(e.map(e=>e.cancer))],n=[],l=e.reduce((e,t)=>{const a=`${t.probeID}-${t.cancer}`;return e[a]=t.b_SMR,e},{});t.forEach(e=>{const t=[];a.forEach(a=>{const n=l[`${e}-${a}`]||null;t.push(n)}),n.push(t)}),this.chart_heatmap=(0,v.IG)(T.Ts(this.$refs.chart_heatmap,null,{renderer:"svg"}));const r=Math.max(...n.flat()),o={title:{text:"Causal effect (beta) between protein (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(n){const l=n.data[0],r=n.data[1],o=t[l],i=a[r],s=e.find(e=>e.probeID===o&&e.cancer===i);return`<b>Protein:</b> ${s.Gene}<br/>\n                    <b>Cancer:</b> ${i}<br/>\n                    <b>SMR_beta:</b> ${n.data[2]}<br/>`}},dataZoom:[{show:!0,realtime:!0,start:0,end:20,top:"90%"},{type:"inside",realtime:!0,start:0,end:20,top:"90%"}],grid:{left:"15%",right:"10%",bottom:"10%",top:"10%",height:"70%"},xAxis:{type:"category",data:t,name:"Protein",axisLabel:{formatter:function(t){const a=e.find(e=>e.probeID===t);return a.Gene}},splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer",splitArea:{show:!1}},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"1250",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"SMR_beta",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},i=[];for(let s=0;s<n.length;s++)for(let e=0;e<n[s].length;e++)i.push([s,e,n[s][e]]);o.series[0].data=i,this.chart_heatmap.setOption(o)}}};const ba=(0,o.A)(ha,[["render",pa],["__scopeId","data-v-68cc7ed0"]]);var ma=ba;const ua={class:"container"},_a={class:"container-menu"},ga={class:"container-content"},fa={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Sa={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"750px"}},ya={id:"chart_pleioSNP",ref:"chart_pleioSNP",style:{width:"750px",height:"750px"}},ka={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},xa={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},Pa={id:"chart_meqtl",ref:"chart_meqtl",style:{width:"750px",height:"300px"}},wa={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},La={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},Fa={id:"chart_eqtl",ref:"chart_eqtl",style:{width:"750px",height:"300px"}},Ca={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Ta={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},va={id:"chart_pqtl",ref:"chart_pqtl",style:{width:"750px",height:"300px"}};function Qa(e,t,a,n,r,o){const i=(0,l.g2)("el-menu-item"),s=(0,l.g2)("el-button"),c=(0,l.g2)("el-menu"),p=(0,l.g2)("el-pagination"),d=(0,l.g2)("el-col"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-table-column"),m=(0,l.g2)("QuestionFilled"),u=(0,l.g2)("el-icon"),_=(0,l.g2)("el-tooltip"),g=(0,l.g2)("el-table"),f=(0,l.g2)("el-tab-pane"),S=(0,l.g2)("el-tabs"),y=(0,l.g2)("el-collapse-item"),k=(0,l.g2)("el-collapse"),x=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[t[26]||(t[26]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",ua,[(0,l.Lk)("div",_a,[(0,l.bF)(c,{"default-active":r.activeMenu},{default:(0,l.k6)(()=>[(0,l.bF)(i,{index:"1",onClick:t[0]||(t[0]=e=>o.scrollTo("menu_pleioSNP"))},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Pleiotropic SNP")])),_:1,__:[9]}),(0,l.bF)(i,{index:"2",onClick:t[1]||(t[1]=e=>o.scrollTo("menu_meQTL"))},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.eW)("meQTL")])),_:1,__:[10]}),(0,l.bF)(i,{index:"3",onClick:t[2]||(t[2]=e=>o.scrollTo("menu_eQTL"))},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("eQTL")])),_:1,__:[11]}),(0,l.bF)(i,{index:"4",onClick:t[3]||(t[3]=e=>o.scrollTo("menu_pQTL"))},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("pQTL")])),_:1,__:[12]}),(0,l.bF)(s,{type:"primary",style:{"margin-left":"20px","margin-top":"50px"},onClick:o.plotNetwork},{default:(0,l.k6)(()=>t[13]||(t[13]=[(0,l.eW)(" Plot network ")])),_:1,__:[13]},8,["onClick"])]),_:1},8,["default-active"])]),(0,l.Lk)("div",ga,[(0,l.bF)(k,{modelValue:r.activeNames,"onUpdate:modelValue":t[8]||(t[8]=e=>r.activeNames=e)},{default:(0,l.k6)(()=>[(0,l.bF)(y,{id:"menu_pleioSNP",title:"Pleiotropic SNP",name:"1"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",fa,[(0,l.bF)(S,{modelValue:r.active_tabs_pleioSNP,"onUpdate:modelValue":t[4]||(t[4]=e=>r.active_tabs_pleioSNP=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_pleioSNP,total:r.pleioSNP.length,"current-page":r.currpage_pleioSNP,onCurrentChange:o.handleCurrentChange_pleioSNP,onSizeChange:o.handleSizeChange_pleioSNP},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_pleioSNP,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)("Download")])),_:1,__:[14]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.pleioSNP.slice((r.currpage_pleioSNP-1)*r.pagesize_pleioSNP,r.currpage_pleioSNP*r.pagesize_pleioSNP),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_pleioSNP,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"cancer1",label:"Cancer 1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"cancer2",label:"Cancer 2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"snpid",label:"SNP","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.hg19chr)+":"+(0,D.v_)(e.row.bp),1)]),_:1}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[15]||(t[15]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"T.placo",label:"PLACO_T","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p.placo",label:"PLACO_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"or.trait1",label:"OR_cancer1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se.trait1",label:"SE_cancer1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"pval.trait1",label:"P_cancer1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"EURaf.trait1","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[16]||(t[16]=(0,l.Lk)("span",null,"EAF_cancer1",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"or.trait2",label:"OR_cancer2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se.trait2",label:"SE_cancer2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"pval.trait2",label:"P_cancer2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"EURaf.trait2","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[17]||(t[17]=(0,l.Lk)("span",null,"EAF_cancer2",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Sa,[(0,l.Lk)("div",ya,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_meQTL",title:"meQTL",name:"2"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",ka,[(0,l.bF)(S,{modelValue:r.active_tabs_meQTL,"onUpdate:modelValue":t[5]||(t[5]=e=>r.active_tabs_meQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_meQTL,total:r.meQTL.length,"current-page":r.currpage_meQTL,onCurrentChange:o.handleCurrentChange_meQTL,onSizeChange:o.handleSizeChange_meQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_meqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[18]||(t[18]=[(0,l.eW)("Download")])),_:1,__:[18]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.meQTL.slice((r.currpage_meQTL-1)*r.pagesize_meQTL,r.currpage_meQTL*r.pagesize_meQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_meQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"SNP",label:"SNP","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.Chr)+":"+(0,D.v_)(e.row.BP),1)]),_:1}),(0,l.bF)(b,{align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[19]||(t[19]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.A1)+"/"+(0,D.v_)(e.row.A2),1)]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center"},{header:(0,l.k6)(()=>[t[20]||(t[20]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Probe",label:"Methylation","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{label:"Methylation position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.Probe_Chr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"b",label:"Beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"SE",label:"SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p",label:"P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",xa,[(0,l.Lk)("div",Pa,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_eQTL",title:"eQTL",name:"3"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",wa,[(0,l.bF)(S,{modelValue:r.active_tabs_eQTL,"onUpdate:modelValue":t[6]||(t[6]=e=>r.active_tabs_eQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_eQTL,total:r.eQTL.length,"current-page":r.currpage_eQTL,onCurrentChange:o.handleCurrentChange_eQTL,onSizeChange:o.handleSizeChange_eQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_eqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[21]||(t[21]=[(0,l.eW)("Download")])),_:1,__:[21]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.eQTL.slice((r.currpage_eQTL-1)*r.pagesize_eQTL,r.currpage_eQTL*r.pagesize_eQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_eQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"SNP",label:"SNP","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.SNPChr)+":"+(0,D.v_)(e.row.SNPPos),1)]),_:1}),(0,l.bF)(b,{align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[22]||(t[22]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.AssessedAllele)+"/"+(0,D.v_)(e.row.OtherAllele),1)]),_:1}),(0,l.bF)(b,{prop:"GeneSymbol",label:"Gene","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{label:"Gene position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.GeneChr)+":"+(0,D.v_)(e.row.GenePos),1)]),_:1}),(0,l.bF)(b,{prop:"Zscore",label:"Z-score","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"Pvalue",label:"P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"FDR",label:"FDR","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",La,[(0,l.Lk)("div",Fa,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_pQTL",title:"pQTL",name:"4"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Ca,[(0,l.bF)(S,{modelValue:r.active_tabs_pQTL,"onUpdate:modelValue":t[7]||(t[7]=e=>r.active_tabs_pQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_pQTL,total:r.pQTL.length,"current-page":r.currpage_pQTL,onCurrentChange:o.handleCurrentChange_pQTL,onSizeChange:o.handleSizeChange_pQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_pqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[23]||(t[23]=[(0,l.eW)("Download")])),_:1,__:[23]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.pQTL.slice((r.currpage_pQTL-1)*r.pagesize_pQTL,r.currpage_pQTL*r.pagesize_pQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_pQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"SNP",label:"SNP","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.Chr)+":"+(0,D.v_)(e.row.BP),1)]),_:1}),(0,l.bF)(b,{align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[24]||(t[24]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.A1)+"/"+(0,D.v_)(e.row.A2),1)]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center"},{header:(0,l.k6)(()=>[t[25]||(t[25]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Gene",label:"Protein","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{label:"Protein position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.Probe_Chr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"b",label:"Beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"SE",label:"SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p",label:"P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Ta,[(0,l.Lk)("div",va,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])])],64)}ne.A.interceptors.request.use(e=>(re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(re().done(),e));var Aa={name:"SearchPleiotropySNP",data(){return{pleioSNP:[],meQTL:[],eQTL:[],pQTL:[],snp:this.$route.query.snp,error:null,pagesize_pleioSNP:10,currpage_pleioSNP:1,pagesize_meQTL:10,currpage_meQTL:1,pagesize_eQTL:10,currpage_eQTL:1,pagesize_pQTL:10,currpage_pQTL:1,loading:!1,activeMenu:"1",activeTab:1,activeNames:["1","2","3","4"],active_tabs_pleioSNP:"first",active_tabs_meQTL:"first",active_tabs_eQTL:"first",active_tabs_pQTL:"first",chart_meqtl:null,chart_pleioSNP:null,chart_eqtl:null,chart_pqtl:null}},created(){this.fetchData(this.snp)},methods:{scrollTo(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},handleCurrentChange_pleioSNP(e){this.currpage_pleioSNP=e},handleSizeChange_pleioSNP(e){this.pagesize_pleioSNP=e},handleCurrentChange_eQTL(e){this.currpage_eQTL=e},handleSizeChange_eQTL(e){this.pagesize_eQTL=e},handleCurrentChange_meQTL(e){this.currpage_meQTL=e},handleSizeChange_meQTL(e){this.pagesize_meQTL=e},handleCurrentChange_pQTL(e){this.currpage_pQTL=e},handleSizeChange_pQTL(e){this.pagesize_pQTL=e},handleSort(e,t){const a=(e,a)=>{const n=e[t.prop],l=a[t.prop];return"number"===typeof n&&"number"===typeof l?"ascending"===t.order?n-l:l-n:"ascending"===t.order?n.toString().localeCompare(l.toString()):l.toString().localeCompare(n.toString())};return e.sort(a)},handleSort_pleioSNP(e){this.pleioSNP=this.handleSort(this.pleioSNP,e)},handleSort_eQTL(e){this.eQTL=this.handleSort(this.eQTL,e)},handleSort_meQTL(e){this.meQTL=this.handleSort(this.meQTL,e)},handleSort_pQTL(e){this.pQTL=this.handleSort(this.pQTL,e)},downloadTable(e,t,a){const n=Object.keys(t),l=e.map(e=>n.map(a=>{const n=t[a];return"function"===typeof n?n(e):e[n]}));let r="";r+=n.join(",")+"\n",l.forEach(e=>{r+=e.join(",")+"\n"});const o=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",a),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},download_pleioSNP(){const e={"Cancer 1":"cancer1","Cancer 2":"cancer2",SNP:"snpid","SNP position":e=>`${e.hg19chr}:${e.bp}`,"EA/OA":"alleles",PLACO_T:"T.placo",PLACO_P:"p.placo",OR_cancer1:"or.trait1",SE_cancer1:"se.trait1",P_cancer1:"pval.trait1",EAF_cancer1:"EURaf.trait1",OR_cancer2:"or.trait2",SE_cancer2:"se.trait2",P_cancer2:"pval.trait2",EAF_cancer2:"EURaf.trait2"};this.downloadTable(this.pleioSNP,e,"Pleiotropic_SNP_FDR0.05.csv")},download_meqtl(){const e={SNP:"SNP","SNP position":e=>`${e.Chr}:${e.BP}`,"EA/OA":e=>`${e.A1}:${e.A2}`,EAF:"Freq",Methylation:"Probe","Methylation position":e=>`${e.Probe_Chr}:${e.Probe_bp}`,Beta:"b",SE:"SE",P:"p"};this.downloadTable(this.meQTL,e,"meQTL_P5e-8.csv")},download_eqtl(){const e={SNP:"SNP","SNP position":e=>`${e.SNPChr}:${e.SNPPos}`,"EA/OA":e=>`${e.AssessedAllele}/${e.OtherAllele}`,Gene:"GeneSymbol","Gene position":e=>`${e.GeneChr}:${e.GenePos}`,"Z-score":"Zscore",P:"Pvalue",FDR:"FDR"};this.downloadTable(this.eQTL,e,"eQTL_P5e-8.csv")},download_pqtl(){const e={SNP:"SNP","SNP position":e=>`${e.Chr}:${e.BP}`,"EA/OA":e=>`${e.A1}:${e.A2}`,EAF:"Freq",Protein:"Gene","Protein position":e=>`${e.Probe_Chr}:${e.Probe_bp}`,Beta:"b",SE:"SE",P:"p"};this.downloadTable(this.pQTL,e,"pQTL_P5e-8.csv")},fetchData(){this.snp&&(this.loading=!0,this.error=null,ne.A.get("/api/cancerdb/pleio_snp",{params:{searchSNPs:this.snp}}).then(e=>{this.pleioSNP=e.data.pleioSNP,this.eQTL=e.data.eQTL,this.meQTL=e.data.meQTL,this.pQTL=e.data.pQTL,this.loading=!1;const t=[this.pleioSNP,this.eQTL,this.meQTL,this.pQTL].every(e=>Array.isArray(e)&&0===e.length);t?this.$alert("Sorry, this SNP is not a pleiotropic SNP related to any cancers in our results.","No results",{confirmButtonText:"OK"}):(this.pleioSNP.length>0&&this.plot_pleioSNP(this.pleioSNP),this.meQTL.length>0&&this.plot_meqtl(this.meQTL),this.eQTL.length>0&&this.plot_eqtl(this.eQTL),this.pQTL.length>0&&this.plot_pqtl(this.pQTL))}).catch(e=>{console.log(e)}))},plot_pleioSNP(e){const t=[...new Set(e.map(e=>e.cancer1))],a=[...new Set(e.map(e=>e.cancer2))],n=[];t.forEach(t=>{const l=[];a.forEach(a=>{const n=e.find(e=>e.cancer1===t&&e.cancer2===a);l.push(n?n.log10P:null)}),n.push(l)}),this.chart_pleioSNP=(0,v.IG)(T.Ts(this.$refs.chart_pleioSNP,null,{renderer:"svg"}));const l={title:{text:"P value based on pleiotropy analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(e){return`<b>Cancer1:</b> ${t[e.data[0]]}<br/>\n                    <b>Cancer2:</b> ${a[e.data[1]]}<br/>\n                    <b>-log10P:</b> ${e.data[2]}<br/>`}},grid:{left:200,height:"50%"},xAxis:{type:"category",data:t,name:"Cancer1",nameGap:5,axisLabel:{rotate:45,interval:0},splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer2",nameGap:5,axisLabel:{interval:0},splitArea:{show:!1}},visualMap:{min:0,max:Math.max(...e.map(e=>e.log10P)),calculable:!0,orient:"vertical",left:"680",top:"0",inRange:{color:["#FFFFFF","rgb(191,68,76)"]}},series:[{name:"log10P",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},r=[];for(let o=0;o<n.length;o++)for(let e=0;e<n[o].length;e++)r.push([o,e,n[o][e]]);l.series[0].data=r,this.chart_pleioSNP.setOption(l)},plot_meqtl(e){this.chart_meqtl=(0,v.IG)(T.Ts(this.$refs.chart_meqtl,null,{renderer:"svg"})),e.sort((e,t)=>e.b-t.b);const t=e.map(e=>e.b),a=e.map(e=>e.Probe),n=e[0].SNP,l=a.map((e,a)=>[e,0,t[a]]),r=Math.max(...t.map(e=>Math.abs(e))),o={title:{text:"Association (beta) between SNP and methylation based on meQTL data",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{position:"right",formatter:function(t){const a=e[t.dataIndex];return`<b>SNP:</b> ${n}<br/>\n                    <b>Methylation:</b> ${a.Probe}<br/>\n                    <b>Beta:</b> ${t.data[2]}<br/>`}},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%"},xAxis:{type:"category",data:a},yAxis:{type:"category",data:[n]},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"680",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"Heatmap",type:"heatmap",data:l,label:{show:!1,color:"#fff",fontSize:12},emphasis:{itemStyle:{borderColor:"white",borderWidth:1}}}]};this.chart_meqtl.setOption(o)},plot_eqtl(e){this.chart_eqtl=(0,v.IG)(T.Ts(this.$refs.chart_eqtl,null,{renderer:"svg"})),e.sort((e,t)=>e.Zscore-t.Zscore);const t=e.map(e=>e.Zscore),a=e.map(e=>e.GeneSymbol),n=e[0].SNP,l=a.map((e,a)=>[e,0,t[a]]),r=Math.max(...t.map(e=>Math.abs(e))),o={title:{text:"Association (z-score) between SNP and gene based on eQTL data",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{position:"right",formatter:function(t){const a=e[t.dataIndex];return`<b>SNP:</b> ${n}<br/>\n                    <b>Gene:</b> ${a.GeneSymbol}<br/>\n                    <b>Z-score:</b> ${t.data[2]}<br/>`}},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%"},xAxis:{type:"category",data:a},yAxis:{type:"category",data:[n]},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"680",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"Heatmap",type:"heatmap",data:l,label:{show:!1,color:"#fff",fontSize:12},emphasis:{itemStyle:{borderColor:"white",borderWidth:1}}}]};this.chart_eqtl.setOption(o)},plot_pqtl(e){this.chart_pqtl=(0,v.IG)(T.Ts(this.$refs.chart_pqtl,null,{renderer:"svg"})),e.sort((e,t)=>e.b-t.b);const t=e.map(e=>e.b),a=e.map(e=>e.Probe),n=e[0].SNP,l=a.map((e,a)=>[e,0,t[a]]),r=Math.max(...t.map(e=>Math.abs(e))),o={title:{text:"Association (beta) between SNP and protein based on pQTL data",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{position:"right",formatter:function(t){const a=e[t.dataIndex];return`<b>SNP:</b> ${n}<br/>\n                    <b>Protein:</b> ${a.Gene}<br/>\n                    <b>Beta:</b> ${t.data[2]}<br/>`}},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%"},xAxis:{type:"category",data:a,axisLabel:{formatter:function(t){const a=e.find(e=>e.Probe===t);return a.Gene}}},yAxis:{type:"category",data:[n]},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"680",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"Heatmap",type:"heatmap",data:l,label:{show:!1,color:"#fff",fontSize:12},emphasis:{itemStyle:{borderColor:"white",borderWidth:1}}}]};this.chart_pqtl.setOption(o)},plotNetwork(){sessionStorage.setItem("pleioSNP",JSON.stringify(this.pleioSNP)),sessionStorage.setItem("eQTL",JSON.stringify(this.eQTL)),sessionStorage.setItem("meQTL",JSON.stringify(this.meQTL)),sessionStorage.setItem("pQTL",JSON.stringify(this.pQTL)),this.$router.replace({path:"/cancerdb/network"})}}};const Ra=(0,o.A)(Aa,[["render",Qa],["__scopeId","data-v-191cd725"]]);var $a=Ra;const Ea={class:"container"},Na={class:"container-menu"},Ia={class:"container-content"},Ga={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Ma=["href"],Wa={style:{display:"flex",width:"100%",height:"750px",margin:"0 auto"}},za={id:"chart_pleioGene",ref:"chart_pleioGene",style:{width:"750px",height:"750px"}},Da={id:"chart_pleioGene_PP",ref:"chart_pleioGene_PP",style:{width:"750px",height:"750px"}},Oa={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Ha=["href"],qa={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Ba={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Va=["href"],Xa={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},ja={id:"chart_eqtl",ref:"chart_eqtl",style:{width:"750px",height:"300px"}},Ua={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Ka=["href"],Za={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},Ja={id:"chart_pqtl",ref:"chart_pqtl",style:{width:"750px",height:"300px"}};function Ya(e,t,a,n,r,o){const i=(0,l.g2)("el-menu-item"),s=(0,l.g2)("el-button"),c=(0,l.g2)("el-menu"),p=(0,l.g2)("el-pagination"),d=(0,l.g2)("el-col"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-table-column"),m=(0,l.g2)("el-table"),u=(0,l.g2)("el-tab-pane"),_=(0,l.g2)("el-tabs"),g=(0,l.g2)("el-collapse-item"),f=(0,l.g2)("QuestionFilled"),S=(0,l.g2)("el-icon"),y=(0,l.g2)("el-tooltip"),k=(0,l.g2)("el-collapse"),x=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[t[27]||(t[27]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",Ea,[(0,l.Lk)("div",Na,[(0,l.bF)(c,{"default-active":r.activeMenu},{default:(0,l.k6)(()=>[(0,l.bF)(i,{index:"1",onClick:t[0]||(t[0]=e=>o.scrollTo("menu_pleioGene"))},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Pleiotropic gene")])),_:1,__:[9]}),(0,l.bF)(i,{index:"2",onClick:t[1]||(t[1]=e=>o.scrollTo("menu_eQTL"))},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.eW)("eQTL")])),_:1,__:[10]}),(0,l.bF)(i,{index:"3",onClick:t[2]||(t[2]=e=>o.scrollTo("menu_pQTL"))},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("pQTL")])),_:1,__:[11]}),(0,l.bF)(i,{index:"4",onClick:t[3]||(t[3]=e=>o.scrollTo("menu_smr_eQTL"))},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("Causal gene")])),_:1,__:[12]}),(0,l.bF)(i,{index:"5",onClick:t[4]||(t[4]=e=>o.scrollTo("menu_smr_pQTL"))},{default:(0,l.k6)(()=>t[13]||(t[13]=[(0,l.eW)("Causal protein")])),_:1,__:[13]}),(0,l.bF)(s,{type:"primary",style:{"margin-left":"20px","margin-top":"50px"},onClick:o.plotNetwork},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)(" Plot network ")])),_:1,__:[14]},8,["onClick"])]),_:1},8,["default-active"])]),(0,l.Lk)("div",Ia,[(0,l.bF)(k,{modelValue:r.activeNames,"onUpdate:modelValue":t[8]||(t[8]=e=>r.activeNames=e)},{default:(0,l.k6)(()=>[(0,l.bF)(g,{id:"menu_pleioGene",title:"Pleiotropic Gene",name:"1"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Ga,[(0,l.bF)(_,{modelValue:r.active_tabs_pleioGene,"onUpdate:modelValue":t[5]||(t[5]=e=>r.active_tabs_pleioGene=e)},{default:(0,l.k6)(()=>[(0,l.bF)(u,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_pleioGene,total:r.pleioGene.length,"current-page":r.currpage_pleioGene,onCurrentChange:o.handleCurrentChange_pleioGene,onSizeChange:o.handleSizeChange_pleioGene},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_pleioGene,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[15]||(t[15]=[(0,l.eW)("Download")])),_:1,__:[15]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{data:r.pleioGene.slice((r.currpage_pleioGene-1)*r.pagesize_pleioGene,r.currpage_pleioGene*r.pagesize_pleioGene),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_pleioGene,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"cancer1",label:"Cancer 1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"cancer2",label:"Cancer 2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"SYMBOL",label:"Gene","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Gene position","min-width":"180px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.CHR)+":"+(0,D.v_)(e.row.START)+"-"+(0,D.v_)(e.row.STOP),1)]),_:1}),(0,l.bF)(b,{prop:"X5",label:"Gene strand","min-width":"120px",align:"center"}),(0,l.bF)(b,{prop:"NSNPS",label:"Number of SNPs","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr.PLACO",label:"PLACO_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr.trait1",label:"Cancer1_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr.trait2",label:"Cancer2_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H4.abf",label:"PP.H4.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H0.abf",label:"PP.H0.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H1.abf",label:"PP.H1.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H2.abf",label:"PP.H2.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H3.abf",label:"PP.H3.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"snp",label:"Candidate SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.snp,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.snp),9,Ma)]),_:1}),(0,l.bF)(b,{prop:"SNP.PP.H4",label:"SNP.PP.H4","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(u,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Wa,[(0,l.Lk)("div",za,null,512),(0,l.Lk)("div",Da,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(g,{id:"menu_eQTL",title:"eQTL",name:"2"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Oa,[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_eQTL,total:r.eQTL.length,"current-page":r.currpage_eQTL,onCurrentChange:o.handleCurrentChange_eQTL,onSizeChange:o.handleSizeChange_eQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_eqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[16]||(t[16]=[(0,l.eW)("Download")])),_:1,__:[16]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{data:r.eQTL.slice((r.currpage_eQTL-1)*r.pagesize_eQTL,r.currpage_eQTL*r.pagesize_eQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_eQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"SNP",label:"SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.SNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.SNP),9,Ha)]),_:1}),(0,l.bF)(b,{label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.SNPChr)+":"+(0,D.v_)(e.row.SNPPos),1)]),_:1}),(0,l.bF)(b,{align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[17]||(t[17]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(y,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.AssessedAllele)+"/"+(0,D.v_)(e.row.OtherAllele),1)]),_:1}),(0,l.bF)(b,{prop:"PLACO",label:"Pleiotropic SNP","min-width":"120px",align:"center",sortable:"custom",formatter:o.formatBoolean},null,8,["formatter"]),(0,l.bF)(b,{prop:"GeneSymbol",label:"Gene","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Gene position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.GeneChr)+":"+(0,D.v_)(e.row.GenePos),1)]),_:1}),(0,l.bF)(b,{prop:"Zscore",label:"Z-score","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"Pvalue",label:"P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"FDR",label:"FDR","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])])]),_:1}),(0,l.bF)(g,{id:"menu_pQTL",title:"pQTL",name:"3"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",qa,[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_pQTL,total:r.pQTL.length,"current-page":r.currpage_pQTL,onCurrentChange:o.handleCurrentChange_pQTL,onSizeChange:o.handleSizeChange_pQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_pqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[18]||(t[18]=[(0,l.eW)("Download")])),_:1,__:[18]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{data:r.pQTL.slice((r.currpage_pQTL-1)*r.pagesize_pQTL,r.currpage_pQTL*r.pagesize_pQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_pQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"SNP",label:"SNP","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.Chr)+":"+(0,D.v_)(e.row.BP),1)]),_:1}),(0,l.bF)(b,{align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[19]||(t[19]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(y,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.A1)+"/"+(0,D.v_)(e.row.A2),1)]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center"},{header:(0,l.k6)(()=>[t[20]||(t[20]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(y,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"PLACO",label:"Pleiotropic SNP","min-width":"120px",align:"center",sortable:"custom",formatter:o.formatBoolean},null,8,["formatter"]),(0,l.bF)(b,{prop:"Gene",label:"Protein","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{label:"Protein position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.Probe_Chr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"b",label:"Beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"SE",label:"SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p",label:"P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])])]),_:1}),(0,l.bF)(g,{id:"menu_smr_eQTL",title:"Causal gene",name:"5"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Ba,[(0,l.bF)(_,{modelValue:r.active_tabs_smr_eQTL,"onUpdate:modelValue":t[6]||(t[6]=e=>r.active_tabs_smr_eQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(u,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_smr_eQTL,total:r.smr_eQTL.length,"current-page":r.currpage_smr_eQTL,onCurrentChange:o.handleCurrentChange_smr_eQTL,onSizeChange:o.handleSizeChange_smr_eQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_smr_eqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[21]||(t[21]=[(0,l.eW)("Download")])),_:1,__:[21]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{data:r.smr_eQTL.slice((r.currpage_smr_eQTL-1)*r.pagesize_smr_eQTL,r.currpage_smr_eQTL*r.pagesize_smr_eQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_smr_eQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"symbol",label:"Gene","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Gene position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"cancer",label:"Cancer","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,Va)]),_:1}),(0,l.bF)(b,{prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[22]||(t[22]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(y,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[23]||(t[23]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(y,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"b_eQTL",label:"eQTL_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_eQTL",label:"eQTL_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_eQTL",label:"eQTL_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(u,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Xa,[(0,l.Lk)("div",ja,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(g,{id:"menu_smr_pQTL",title:"Causal protien",name:"6"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Ua,[(0,l.bF)(_,{modelValue:r.active_tabs_smr_pQTL,"onUpdate:modelValue":t[7]||(t[7]=e=>r.active_tabs_smr_pQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(u,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_smr_pQTL,total:r.smr_pQTL.length,"current-page":r.currpage_smr_pQTL,onCurrentChange:o.handleCurrentChange_smr_pQTL,onSizeChange:o.handleSizeChange_smr_pQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_smr_pqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[24]||(t[24]=[(0,l.eW)("Download")])),_:1,__:[24]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{data:r.smr_pQTL.slice((r.currpage_smr_pQTL-1)*r.pagesize_smr_pQTL,r.currpage_smr_pQTL*r.pagesize_smr_pQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_smr_pQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"Gene",label:"Gene","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Gene position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"cancer",label:"Cancer","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,Ka)]),_:1}),(0,l.bF)(b,{prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[25]||(t[25]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(y,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[26]||(t[26]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(y,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"b_eQTL",label:"pQTL_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_eQTL",label:"pQTL_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_eQTL",label:"pQTL_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(u,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Za,[(0,l.Lk)("div",Ja,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])])],64)}a(531);ne.A.interceptors.request.use(e=>(console.log(e),re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(console.log(e),re().done(),e));var en={name:"SearchPleiotropyGene",data(){return{pleioGene:[],eQTL:[],pQTL:[],smr_eQTL:[],smr_meQTL_eQTL:[],smr_pQTL:[],gene:this.$route.query.gene,error:null,pagesize_pleioGene:10,currpage_pleioGene:1,pagesize_eQTL:10,currpage_eQTL:1,pagesize_pQTL:10,currpage_pQTL:1,pagesize_smr_eQTL:10,currpage_smr_eQTL:1,pagesize_smr_meQTL_eQTL:10,currpage_smr_meQTL_eQTL:1,pagesize_smr_pQTL:10,currpage_smr_pQTL:1,loading:!1,activeMenu:"1",activeTab:1,activeNames:["1","2","3","4","5","6"],active_tabs_pleioGene:"first",active_tabs_smr_eQTL:"first",active_tabs_smr_meQTL_eQTL:"first",active_tabs_smr_pQTL:"first",chart_pleioGene:null,chart_pleioGene_PP:null,chart_smr_meqtl_eqtl:null,chart_eqtl:null,chart_pqtl:null}},created(){this.fetchData(this.gene)},methods:{formatBoolean(e,t,a){return a?"True":"False"},scrollTo(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},handleCurrentChange_pleioGene(e){this.currpage_pleioGene=e},handleSizeChange_pleioGene(e){this.pagesize_pleioGene=e},handleCurrentChange_eQTL(e){this.currpage_eQTL=e},handleSizeChange_eQTL(e){this.pagesize_eQTL=e},handleCurrentChange_pQTL(e){this.currpage_pQTL=e},handleSizeChange_pQTL(e){this.pagesize_pQTL=e},handleCurrentChange_smr_meQTL_eQTL(e){this.currpage_smr_meQTL_eQTL=e},handleSizeChange_smr_meQTL_eQTL(e){this.pagesize_smr_meQTL_eQTL=e},handleCurrentChange_smr_eQTL(e){this.currpage_smr_eQTL=e},handleSizeChange_smr_eQTL(e){this.pagesize_smr_eQTL=e},handleCurrentChange_smr_pQTL(e){this.currpage_smr_pQTL=e},handleSizeChange_smr_pQTL(e){this.pagesize_smr_pQTL=e},handleSort(e,t){const a=(e,a)=>{const n=e[t.prop],l=a[t.prop];return"number"===typeof n&&"number"===typeof l?"ascending"===t.order?n-l:l-n:"ascending"===t.order?n.toString().localeCompare(l.toString()):l.toString().localeCompare(n.toString())};return e.sort(a)},handleSort_pleioGene(e){this.pleioGene=this.handleSort(this.pleioGene,e)},handleSort_eQTL(e){this.eQTL=this.handleSort(this.eQTL,e)},handleSort_pQTL(e){this.pQTL=this.handleSort(this.pQTL,e)},handleSort_smr_meQTL_eQTL(e){this.smr_meQTL_eQTL=this.handleSort(this.smr_meQTL_eQTL,e)},handleSort_smr_eQTL(e){this.smr_eQTL=this.handleSort(this.smr_eQTL,e)},handleSort_smr_pQTL(e){this.smr_pQTL=this.handleSort(this.smr_pQTL,e)},downloadTable(e,t,a){const n=Object.keys(t),l=e.map(e=>n.map(a=>{const n=t[a];return"function"===typeof n?n(e):e[n]}));let r="";r+=n.join(",")+"\n",l.forEach(e=>{r+=e.join(",")+"\n"});const o=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",a),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},download_pleioGene(){const e={"Cancer 1":"cancer1","Cancer 2":"cancer2",Gene:"SYMBOL","Gene position":e=>`${e.CHR}:${e.START}-${e.STOP}`,"Gene strand":"X5","Number of SNPs":"NSNPS",PLACO_FDR:"fdr.PLACO",Cancer1_FDR:"fdr.trait1",Cancer2_FDR:"fdr.trait2","PP.H4.abf":"PP.H4.abf","PP.H0.abf":"PP.H0.abf","PP.H1.abf":"PP.H1.abf","PP.H2.abf":"PP.H2.abf","PP.H3.abf":"PP.H3.abf","Candidate SNP":"snp","SNP.PP.H4":"SNP.PP.H4"};this.downloadTable(this.pleioGene,e,"Pleiotropic_Gene_FDR0.05.csv")},download_eqtl(){const e={SNP:"SNP","SNP position":e=>`${e.SNPChr}:${e.SNPPos}`,"EA/OA":e=>`${e.AssessedAllele}/${e.OtherAllele}`,Gene:"GeneSymbol","Gene position":e=>`${e.GeneChr}:${e.GenePos}`,"Z-score":"Zscore",P:"Pvalue",FDR:"FDR"};this.downloadTable(this.eQTL,e,"eQTL_P5e-8.csv")},download_pqtl(){const e={SNP:"SNP","SNP position":e=>`${e.Chr}:${e.BP}`,"EA/OA":e=>`${e.A1}:${e.A2}`,EAF:"Freq",Protein:"Gene","Protein position":e=>`${e.Probe_Chr}:${e.Probe_bp}`,Beta:"b",SE:"SE",P:"p"};this.downloadTable(this.pQTL,e,"pQTL_P5e-8.csv")},download_smr_meqtl_eqtl(){const e={Methylation:"Expo_ID","Methylation position":e=>`${e.Expo_Chr}:${e.Expo_bp}`,Gene:"symbol","Gene position":e=>`${e.Outco_Chr}:${e.Outco_bp}`,SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",meQTL_beta:"b_Expo",meQTL_SE:"se_Expo",meQTL_P:"p_Expo",eQTL_beta:"b_Outco",eQTL_SE:"se_Outco",eQTL_P:"p_Outco"};this.downloadTable(this.smr_meQTL_eQTL,e,"SMR_meQTL-eQTL_FDR0.05.csv")},download_smr_eqtl(){const e={Gene:"symbol","Gene position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",eQTL_beta:"b_eQTL",eQTL_SE:"se_eQTL",eQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"};this.downloadTable(this.smr_eQTL,e,"SMR_eQTL_FDR0.05.csv")},download_smr_pqtl(){const e={Protein:"Gene","Protein position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",pQTL_beta:"b_eQTL",pQTL_SE:"se_eQTL",pQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"};this.downloadTable(this.smr_pQTL,e,"SMR_pQTL_FDR0.05.csv")},fetchData(){this.gene&&(this.loading=!0,this.error=null,ne.A.get("/api/cancerdb/pleio_gene",{params:{searchGene:this.gene}}).then(e=>{this.pleioGene=e.data.pleioGene,this.eQTL=e.data.eQTL,this.pQTL=e.data.pQTL,this.smr_meQTL_eQTL=e.data.smr_meQTL_eQTL,this.smr_eQTL=e.data.smr_eQTL,this.smr_pQTL=e.data.smr_pQTL,this.loading=!1;const t=[this.pleioGene,this.eQTL,this.smr_meQTL_eQTL,this.smr_eQTL,this.smr_pQTL].every(e=>Array.isArray(e)&&0===e.length);t?this.$alert("Sorry, this gene is not a pleiotropic or causal gene related to any cancers in our results.","No results",{confirmButtonText:"OK"}):(this.pleioGene.length>0&&this.plot_pleioGene(this.pleioGene),this.smr_meQTL_eQTL.length>0&&this.plot_smr_meqlt_eqtl(this.smr_meQTL_eQTL),this.smr_eQTL.length>0&&this.plot_smr_eqtl(this.smr_eQTL),this.smr_pQTL.length>0&&this.plot_smr_pqtl(this.smr_pQTL))}).catch(e=>{console.log(e)}))},plot_pleioGene(e){const t=[...new Set(e.map(e=>e.cancer1))],a=[...new Set(e.map(e=>e.cancer2))],n=n=>t.map(t=>a.map(a=>{const l=e.find(e=>e.cancer1===t&&e.cancer2===a);return l?l[n]:null})),l=n("log10FDR"),r=n("PP.H4.abf"),o=e=>(0,v.IG)(T.Ts(e,null,{renderer:"svg"}));this.chart_pleioGene=o(this.$refs.chart_pleioGene),this.chart_pleioGene_PP=o(this.$refs.chart_pleioGene_PP);const i=(e,n,l,r)=>({title:{text:e,left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:n},grid:{left:200,height:"50%"},xAxis:{type:"category",data:t,name:"Cancer1",nameGap:5,axisLabel:{rotate:45,interval:0}},yAxis:{type:"category",data:a,name:"Cancer2",nameGap:5,axisLabel:{interval:0}},visualMap:{min:0,max:l,calculable:!0,orient:"vertical",left:"680",top:"0",inRange:{color:["#FFFFFF","rgb(191,68,76)"]}},series:[{name:e,type:"heatmap",data:r,label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]}),s=e=>`<b>Cancer1:</b> ${t[e.data[0]]}<br/>\n        <b>Cancer2:</b> ${a[e.data[1]]}<br/>\n        <b>-log10FDR:</b> ${e.data[2]}<br/>`,c=e=>`<b>Cancer1:</b> ${t[e.data[0]]}<br/>\n        <b>Cancer2:</b> ${a[e.data[1]]}<br/>\n        <b>PP.H4.abf:</b> ${e.data[2]}<br/>`,p=e=>e.flatMap((e,t)=>e.map((e,a)=>[t,a,e])),d=p(l),h=p(r),b=i("P value based on pleiotropy analysis",s,Math.max(...e.map(e=>e.log10FDR)),d),m=i("PP.H4.abf based on colocalization analysis",c,Math.max(...e.map(e=>e["PP.H4.abf"])),h);this.chart_pleioGene.setOption(b),this.chart_pleioGene_PP.setOption(m)},plot_smr_meqlt_eqtl(e){this.chart_meqtl_eqtl=(0,v.IG)(T.Ts(this.$refs.chart_meqtl_eqtl,null,{renderer:"svg"})),e.sort((e,t)=>e.b_SMR-t.b_SMR);const t=e.map(e=>e.b_SMR),a=e.map(e=>e.Expo_ID),n=e[0].symbol,l=a.map((e,a)=>[e,0,t[a]]),r=Math.max(...t.map(e=>Math.abs(e))),o={title:{text:"Causal effect (beta) between methylation (exposure) and gene (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{position:"right",formatter:function(t){const a=e[t.dataIndex];return`<b>Methylation:</b> ${a.Expo_ID}<br/>\n                    <b>Gene:</b> ${n}<br/>\n                    <b>Beta_SMR:</b> ${t.data[2]}<br/>`}},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%"},xAxis:{type:"category",data:a},yAxis:{type:"category",data:[n]},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"680",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"Heatmap",type:"heatmap",data:l,label:{show:!1,color:"#fff",fontSize:12},emphasis:{itemStyle:{borderColor:"white",borderWidth:1}}}]};this.chart_meqtl_eqtl.setOption(o)},plot_smr_eqtl(e){this.chart_eqtl=(0,v.IG)(T.Ts(this.$refs.chart_eqtl,null,{renderer:"svg"})),e.sort((e,t)=>e.b_SMR-t.b_SMR);const t=e.map(e=>e.b_SMR),a=e.map(e=>e.cancer),n=e[0].symbol,l=a.map((e,a)=>[e,0,t[a]]),r=Math.max(...t.map(e=>Math.abs(e))),o={title:{text:"Causal effect (beta) between gene (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{position:"right",formatter:function(t){const a=e[t.dataIndex];return`<b>Gene:</b> ${n}<br/>\n                    <b>Cancer:</b> ${a.cancer}<br/>\n                    <b>Beta_SMR:</b> ${t.data[2]}<br/>`}},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%"},xAxis:{type:"category",data:a},yAxis:{type:"category",data:[n]},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"680",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"Heatmap",type:"heatmap",data:l,label:{show:!1,color:"#fff",fontSize:12},emphasis:{itemStyle:{borderColor:"white",borderWidth:1}}}]};this.chart_eqtl.setOption(o)},plot_smr_pqtl(e){this.chart_pqtl=(0,v.IG)(T.Ts(this.$refs.chart_pqtl,null,{renderer:"svg"})),e.sort((e,t)=>e.b_SMR-t.b_SMR);const t=e.map(e=>e.b_SMR),a=e.map(e=>e.cancer),n=e[0].Gene;console.log(e);const l=a.map((e,a)=>[e,0,t[a]]),r=Math.max(...t.map(e=>Math.abs(e))),o={title:{text:"Causal effect (beta) between protein (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{position:"right",formatter:function(t){const a=e[t.dataIndex];return`<b>Protein:</b> ${n}<br/>\n                    <b>Cancer:</b> ${a.cancer}<br/>\n                    <b>Beta_SMR:</b> ${t.data[2]}<br/>`}},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%"},xAxis:{type:"category",data:a},yAxis:{type:"category",data:[n]},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"680",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"Heatmap",type:"heatmap",data:l,label:{show:!1,color:"#fff",fontSize:12},emphasis:{itemStyle:{borderColor:"white",borderWidth:1}}}]};this.chart_pqtl.setOption(o)},plotNetwork(){sessionStorage.setItem("pleioGene",JSON.stringify(this.pleioGene)),sessionStorage.setItem("eQTL",JSON.stringify(this.eQTL)),sessionStorage.setItem("pQTL",JSON.stringify(this.pQTL)),sessionStorage.setItem("smr_meQTL_eQTL",JSON.stringify(this.smr_meQTL_eQTL)),sessionStorage.setItem("smr_pQTL",JSON.stringify(this.smr_pQTL)),sessionStorage.setItem("smr_eQTL",JSON.stringify(this.smr_eQTL)),this.$router.replace({path:"/cancerdb/network"})}}};const tn=(0,o.A)(en,[["render",Ya],["__scopeId","data-v-2075409d"]]);var an=tn;const nn={class:"container"},ln={class:"container-menu"},rn={class:"container-content"},on={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},sn={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},cn=["href"],pn={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},dn={id:"chart_meqtl",ref:"chart_meqtl",style:{width:"750px",height:"300px"}};function hn(e,t,a,n,r,o){const i=(0,l.g2)("el-menu-item"),s=(0,l.g2)("el-button"),c=(0,l.g2)("el-menu"),p=(0,l.g2)("el-pagination"),d=(0,l.g2)("el-col"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-table-column"),m=(0,l.g2)("QuestionFilled"),u=(0,l.g2)("el-icon"),_=(0,l.g2)("el-tooltip"),g=(0,l.g2)("el-table"),f=(0,l.g2)("el-collapse-item"),S=(0,l.g2)("el-tab-pane"),y=(0,l.g2)("el-tabs"),k=(0,l.g2)("el-collapse"),x=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[t[13]||(t[13]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",nn,[(0,l.Lk)("div",ln,[(0,l.bF)(c,{"default-active":r.activeMenu,"default-openeds":["2"]},{default:(0,l.k6)(()=>[(0,l.bF)(i,{index:"1",onClick:t[0]||(t[0]=e=>o.scrollTo("menu_meQTL"))},{default:(0,l.k6)(()=>t[4]||(t[4]=[(0,l.eW)("meQTL")])),_:1,__:[4]}),(0,l.bF)(i,{index:"2",onClick:t[1]||(t[1]=e=>o.scrollTo("menu_smr_meQTL"))},{default:(0,l.k6)(()=>t[5]||(t[5]=[(0,l.eW)("Causal methylation")])),_:1,__:[5]}),(0,l.bF)(s,{type:"primary",style:{"margin-left":"20px","margin-top":"50px"},onClick:o.plotNetwork},{default:(0,l.k6)(()=>t[6]||(t[6]=[(0,l.eW)(" Plot network ")])),_:1,__:[6]},8,["onClick"])]),_:1},8,["default-active"])]),(0,l.Lk)("div",rn,[(0,l.bF)(k,{modelValue:r.activeNames,"onUpdate:modelValue":t[3]||(t[3]=e=>r.activeNames=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{id:"menu_meQTL",title:"meQTL",name:"1"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",on,[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_meQTL,total:r.meQTL.length,"current-page":r.currpage_meQTL,onCurrentChange:o.handleCurrentChange_meQTL,onSizeChange:o.handleSizeChange_meQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_meqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[7]||(t[7]=[(0,l.eW)("Download")])),_:1,__:[7]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.meQTL.slice((r.currpage_meQTL-1)*r.pagesize_meQTL,r.currpage_meQTL*r.pagesize_meQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_meQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"SNP",label:"SNP","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.Chr)+":"+(0,D.v_)(e.row.BP),1)]),_:1}),(0,l.bF)(b,{align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[8]||(t[8]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.A1)+"/"+(0,D.v_)(e.row.A2),1)]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center"},{header:(0,l.k6)(()=>[t[9]||(t[9]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"PLACO",label:"Pleiotropic SNP","min-width":"120px",align:"center",sortable:"custom",formatter:o.formatBoolean},null,8,["formatter"]),(0,l.bF)(b,{prop:"Probe",label:"Methylation","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{label:"Methylation position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.Probe_Chr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"b",label:"Beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"SE",label:"SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p",label:"P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])])]),_:1}),(0,l.bF)(f,{id:"menu_smr_meQTL",title:"Causal methylation",name:"3"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",sn,[(0,l.bF)(y,{modelValue:r.active_tabs_smr_meQTL,"onUpdate:modelValue":t[2]||(t[2]=e=>r.active_tabs_smr_meQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(S,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_smr_meQTL,total:r.smr_meQTL.length,"current-page":r.currpage_smr_meQTL,onCurrentChange:o.handleCurrentChange_smr_meQTL,onSizeChange:o.handleSizeChange_smr_meQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_smr_meqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[10]||(t[10]=[(0,l.eW)("Download")])),_:1,__:[10]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.smr_meQTL.slice((r.currpage_smr_meQTL-1)*r.pagesize_smr_meQTL,r.currpage_smr_meQTL*r.pagesize_smr_meQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_smr_meQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"probeID",label:"Methylation","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Methylation position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"cancer",label:"Cancer","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,cn)]),_:1}),(0,l.bF)(b,{prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[11]||(t[11]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[12]||(t[12]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"b_eQTL",label:"eQTL_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_eQTL",label:"eQTL_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_eQTL",label:"eQTL_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(S,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",pn,[(0,l.Lk)("div",dn,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])])],64)}ne.A.interceptors.request.use(e=>(console.log(e),re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(console.log(e),re().done(),e));var bn={name:"SearchCausalMethy",data(){return{meQTL:[],smr_meQTL:[],smr_meQTL_eQTL:[],methy:this.$route.query.methy,error:null,pagesize_meQTL:10,currpage_meQTL:1,pagesize_smr_meQTL:10,currpage_smr_meQTL:1,pagesize_smr_meQTL_eQTL:10,currpage_smr_meQTL_eQTL:1,loading:!1,activeMenu:"1",activeTab:1,activeNames:["1","2","3"],active_tabs_smr_meQTL:"first",active_tabs_smr_meQTL_eQTL:"first",chart_smr_meqtl_eqtl:null,chart_eqtl:null}},created(){this.fetchData(this.methy)},methods:{formatBoolean(e,t,a){return a?"True":"False"},scrollTo(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},handleCurrentChange_meQTL(e){this.currpage_meQTL=e},handleSizeChange_meQTL(e){this.pagesize_meQTL=e},handleCurrentChange_smr_meQTL_eQTL(e){this.currpage_smr_meQTL_eQTL=e},handleSizeChange_smr_meQTL_eQTL(e){this.pagesize_smr_meQTL_eQTL=e},handleCurrentChange_smr_meQTL(e){this.currpage_smr_meQTL=e},handleSizeChange_smr_meQTL(e){this.pagesize_smr_meQTL=e},handleSort(e,t){const a=(e,a)=>{const n=e[t.prop],l=a[t.prop];return"number"===typeof n&&"number"===typeof l?"ascending"===t.order?n-l:l-n:"ascending"===t.order?n.toString().localeCompare(l.toString()):l.toString().localeCompare(n.toString())};return e.sort(a)},handleSort_meQTL(e){this.meQTL=this.handleSort(this.meQTL,e)},handleSort_smr_meQTL_eQTL(e){this.smr_meQTL_eQTL=this.handleSort(this.smr_meQTL_eQTL,e)},handleSort_smr_meQTL(e){this.smr_meQTL=this.handleSort(this.smr_meQTL,e)},downloadTable(e,t,a){const n=Object.keys(t),l=e.map(e=>n.map(a=>{const n=t[a];return"function"===typeof n?n(e):e[n]}));let r="";r+=n.join(",")+"\n",l.forEach(e=>{r+=e.join(",")+"\n"});const o=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",a),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},download_meqtl(){const e={SNP:"SNP","SNP position":e=>`${e.Chr}:${e.BP}`,"EA/OA":e=>`${e.A1}:${e.A2}`,EAF:"Freq",Methylation:"Probe","Methylation position":e=>`${e.Probe_Chr}:${e.Probe_bp}`,Beta:"b",SE:"SE",P:"p"};this.downloadTable(this.meQTL,e,"meQTL_P5e-8.csv")},download_smr_meqtl_eqtl(){const e={Methylation:"Expo_ID","Methylation position":e=>`${e.Expo_Chr}:${e.Expo_bp}`,Gene:"symbol","Gene position":e=>`${e.Outco_Chr}:${e.Outco_bp}`,SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",meQTL_beta:"b_Expo",meQTL_SE:"se_Expo",meQTL_P:"p_Expo",eQTL_beta:"b_Outco",eQTL_SE:"se_Outco",eQTL_P:"p_Outco"};this.downloadTable(this.smr_meQTL_eQTL,e,"SMR_meQTL-eQTL_FDR0.05.csv")},download_smr_meqtl(){const e={Methylation:"probeID","Methylation position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",meQTL_beta:"b_eQTL",meQTL_SE:"se_eQTL",meQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"};this.downloadTable(this.smr_meQTL,e,"SMR_meQTL_FDR0.05.csv")},fetchData(){this.methy&&(this.loading=!0,this.error=null,ne.A.get("/api/cancerdb/SMR_meQTL",{params:{searchMethy:this.methy}}).then(e=>{this.meQTL=e.data.meQTL,this.smr_meQTL_eQTL=e.data.smr_meQTL_eQTL,this.smr_meQTL=e.data.smr_meQTL,this.loading=!1;const t=[this.meQTL,this.smr_meQTL_eQTL,this.smr_meQTL].every(e=>Array.isArray(e)&&0===e.length);t?this.$alert("Sorry, this methylation is not a causal site related to any cancers in our results.","No results",{confirmButtonText:"OK"}):(this.smr_meQTL_eQTL.length>0&&this.plot_smr_meqlt_eqtl(this.smr_meQTL_eQTL),this.smr_meQTL.length>0&&this.plot_smr_meqtl(this.smr_meQTL))}).catch(e=>{console.log(e)}))},plot_smr_meqlt_eqtl(e){this.chart_meqtl_eqtl=(0,v.IG)(T.Ts(this.$refs.chart_meqtl_eqtl,null,{renderer:"svg"})),e.sort((e,t)=>e.b_SMR-t.b_SMR);const t=e.map(e=>e.b_SMR),a=e.map(e=>e.symbol),n=e[0].Expo_ID,l=a.map((e,a)=>[e,0,t[a]]),r=Math.max(...t.map(e=>Math.abs(e))),o={title:{text:"Causal effect (beta) between methylation (exposure) and gene (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{position:"right",formatter:function(t){const a=e[t.dataIndex];return`<b>Methylation:</b> ${n}<br/>\n                    <b>Gene:</b> ${a.symbol}<br/>\n                    <b>Beta_SMR:</b> ${t.data[2]}<br/>`}},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%"},xAxis:{type:"category",data:a},yAxis:{type:"category",data:[n]},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"680",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"Heatmap",type:"heatmap",data:l,label:{show:!1,color:"#fff",fontSize:12},emphasis:{itemStyle:{borderColor:"white",borderWidth:1}}}]};this.chart_meqtl_eqtl.setOption(o)},plot_smr_meqtl(e){this.chart_meqtl=(0,v.IG)(T.Ts(this.$refs.chart_meqtl,null,{renderer:"svg"})),e.sort((e,t)=>e.b_SMR-t.b_SMR);const t=e.map(e=>e.b_SMR),a=e.map(e=>e.cancer),n=e[0].probeID,l=a.map((e,a)=>[e,0,t[a]]),r=Math.max(...t.map(e=>Math.abs(e))),o={title:{text:"Causal effect (beta) between methylation (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{position:"right",formatter:function(t){const a=e[t.dataIndex];return`<b>Methylation:</b> ${n}<br/>\n                    <b>Cancer:</b> ${a.cancer}<br/>\n                    <b>Beta_SMR:</b> ${t.data[2]}<br/>`}},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%"},xAxis:{type:"category",data:a},yAxis:{type:"category",data:[n]},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"680",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"Heatmap",type:"heatmap",data:l,label:{show:!1,color:"#fff",fontSize:12},emphasis:{itemStyle:{borderColor:"white",borderWidth:1}}}]};this.chart_meqtl.setOption(o)},plotNetwork(){sessionStorage.setItem("meQTL",JSON.stringify(this.meQTL)),sessionStorage.setItem("smr_meQTL_eQTL",JSON.stringify(this.smr_meQTL_eQTL)),sessionStorage.setItem("smr_meQTL",JSON.stringify(this.smr_meQTL)),this.$router.replace({path:"/cancerdb/network"})}}};const mn=(0,o.A)(bn,[["render",hn],["__scopeId","data-v-483beef6"]]);var un=mn;const _n={class:"container"},gn={class:"container-menu"},fn={class:"container-content"},Sn={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},yn={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"750px"}},kn={id:"chart_pleioSNP",ref:"chart_pleioSNP",style:{width:"750px",height:"750px"}},xn={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Pn=["href"],wn={style:{width:"100%",height:"750px",margin:"0 auto",display:"flex","justify-content":"center","align-items":"center"}},Ln={id:"chart_pleioGene",ref:"chart_pleioGene",style:{width:"750px",height:"750px"}},Fn={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Cn=["href"],Tn={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},vn={id:"chart_meqtl",ref:"chart_meqtl",style:{width:"750px",height:"300px"}},Qn={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},An=["href"],Rn={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},$n={id:"chart_eqtl",ref:"chart_eqtl",style:{width:"750px",height:"300px"}},En={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Nn=["href"],In={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},Gn={id:"chart_pqtl",ref:"chart_pqtl",style:{width:"750px",height:"300px"}};function Mn(e,t,a,n,r,o){const i=(0,l.g2)("el-menu-item"),s=(0,l.g2)("el-button"),c=(0,l.g2)("el-menu"),p=(0,l.g2)("el-pagination"),d=(0,l.g2)("el-col"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-table-column"),m=(0,l.g2)("QuestionFilled"),u=(0,l.g2)("el-icon"),_=(0,l.g2)("el-tooltip"),g=(0,l.g2)("el-table"),f=(0,l.g2)("el-tab-pane"),S=(0,l.g2)("el-tabs"),y=(0,l.g2)("el-collapse-item"),k=(0,l.g2)("el-collapse"),x=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[t[31]||(t[31]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",_n,[(0,l.Lk)("div",gn,[(0,l.bF)(c,{"default-active":r.activeMenu},{default:(0,l.k6)(()=>[(0,l.bF)(i,{index:"1",onClick:t[0]||(t[0]=e=>o.scrollTo("menu_pleioSNP"))},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("Pleiotropic SNP")])),_:1,__:[11]}),(0,l.bF)(i,{index:"2",onClick:t[1]||(t[1]=e=>o.scrollTo("menu_pleioGene"))},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("Pleiotropic gene")])),_:1,__:[12]}),(0,l.bF)(i,{index:"3",onClick:t[2]||(t[2]=e=>o.scrollTo("menu_smr_meQTL"))},{default:(0,l.k6)(()=>t[13]||(t[13]=[(0,l.eW)("Causal methylation")])),_:1,__:[13]}),(0,l.bF)(i,{index:"4",onClick:t[3]||(t[3]=e=>o.scrollTo("menu_smr_eQTL"))},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)("Causal gene")])),_:1,__:[14]}),(0,l.bF)(i,{index:"5",onClick:t[4]||(t[4]=e=>o.scrollTo("menu_smr_pQTL"))},{default:(0,l.k6)(()=>t[15]||(t[15]=[(0,l.eW)("Causal protein")])),_:1,__:[15]}),(0,l.bF)(s,{type:"primary",style:{"margin-left":"20px","margin-top":"50px"},onClick:o.plotNetwork},{default:(0,l.k6)(()=>t[16]||(t[16]=[(0,l.eW)(" Plot network ")])),_:1,__:[16]},8,["onClick"])]),_:1},8,["default-active"])]),(0,l.Lk)("div",fn,[(0,l.bF)(k,{modelValue:r.activeNames,"onUpdate:modelValue":t[10]||(t[10]=e=>r.activeNames=e)},{default:(0,l.k6)(()=>[(0,l.bF)(y,{id:"menu_pleioSNP",title:"Pleiotropic SNP",name:"1"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Sn,[(0,l.bF)(S,{modelValue:r.active_tabs_pleioSNP,"onUpdate:modelValue":t[5]||(t[5]=e=>r.active_tabs_pleioSNP=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_pleioSNP,total:r.pleioSNP.length,"current-page":r.currpage_pleioSNP,onCurrentChange:o.handleCurrentChange_pleioSNP,onSizeChange:o.handleSizeChange_pleioSNP},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_pleioSNP,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[17]||(t[17]=[(0,l.eW)("Download")])),_:1,__:[17]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.pleioSNP.slice((r.currpage_pleioSNP-1)*r.pagesize_pleioSNP,r.currpage_pleioSNP*r.pagesize_pleioSNP),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_pleioSNP,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"cancer1",label:"Cancer 1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"cancer2",label:"Cancer 2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"snpid",label:"SNP","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.hg19chr)+":"+(0,D.v_)(e.row.bp),1)]),_:1}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[18]||(t[18]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"T.placo",label:"PLACO_T","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p.placo",label:"PLACO_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"or.trait1",label:"OR_cancer1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se.trait1",label:"SE_cancer1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"pval.trait1",label:"P_cancer1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"EURaf.trait1","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[19]||(t[19]=(0,l.Lk)("span",null,"EAF_cancer1",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"or.trait2",label:"OR_cancer2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se.trait2",label:"SE_cancer2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"pval.trait2",label:"P_cancer2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"EURaf.trait2","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[20]||(t[20]=(0,l.Lk)("span",null,"EAF_cancer2",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",yn,[(0,l.Lk)("div",kn,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_pleioGene",title:"Pleiotropic Gene",name:"2"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",xn,[(0,l.bF)(S,{modelValue:r.active_tabs_pleioGene,"onUpdate:modelValue":t[6]||(t[6]=e=>r.active_tabs_pleioGene=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_pleioGene,total:r.pleioGene.length,"current-page":r.currpage_pleioGene,onCurrentChange:o.handleCurrentChange_pleioGene,onSizeChange:o.handleSizeChange_pleioGene},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_pleioGene,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[21]||(t[21]=[(0,l.eW)("Download")])),_:1,__:[21]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.pleioGene.slice((r.currpage_pleioGene-1)*r.pagesize_pleioGene,r.currpage_pleioGene*r.pagesize_pleioGene),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_pleioGene,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"cancer1",label:"Cancer 1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"cancer2",label:"Cancer 2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"SYMBOL",label:"Gene","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Gene position","min-width":"180px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.CHR)+":"+(0,D.v_)(e.row.START)+"-"+(0,D.v_)(e.row.STOP),1)]),_:1}),(0,l.bF)(b,{prop:"X5",label:"Gene strand","min-width":"120px",align:"center"}),(0,l.bF)(b,{prop:"NSNPS",label:"Number of SNPs","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr.PLACO",label:"PLACO_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr.trait1",label:"Cancer1_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr.trait2",label:"Cancer2_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H4.abf",label:"PP.H4.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H0.abf",label:"PP.H0.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H1.abf",label:"PP.H1.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H2.abf",label:"PP.H2.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H3.abf",label:"PP.H3.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"snp",label:"Candidate SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.snp,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.snp),9,Pn)]),_:1}),(0,l.bF)(b,{prop:"SNP.PP.H4",label:"SNP.PP.H4","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",wn,[(0,l.Lk)("div",Ln,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_smr_meQTL",title:"Causal methylation",name:"3"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Fn,[(0,l.bF)(S,{modelValue:r.active_tabs_smr_meQTL,"onUpdate:modelValue":t[7]||(t[7]=e=>r.active_tabs_smr_meQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_smr_meQTL,total:r.smr_meQTL.length,"current-page":r.currpage_smr_meQTL,onCurrentChange:o.handleCurrentChange_smr_meQTL,onSizeChange:o.handleSizeChange_smr_meQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_smr_meqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[22]||(t[22]=[(0,l.eW)("Download")])),_:1,__:[22]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.smr_meQTL.slice((r.currpage_smr_meQTL-1)*r.pagesize_smr_meQTL,r.currpage_smr_meQTL*r.pagesize_smr_meQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_smr_meQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"probeID",label:"Methylation","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Methylation position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"cancer",label:"Cancer","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,Cn)]),_:1}),(0,l.bF)(b,{prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[23]||(t[23]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[24]||(t[24]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"b_eQTL",label:"eQTL_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_eQTL",label:"eQTL_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_eQTL",label:"eQTL_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Tn,[(0,l.Lk)("div",vn,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_smr_eQTL",title:"Causal gene",name:"4"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Qn,[(0,l.bF)(S,{modelValue:r.active_tabs_smr_eQTL,"onUpdate:modelValue":t[8]||(t[8]=e=>r.active_tabs_smr_eQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_smr_eQTL,total:r.smr_eQTL.length,"current-page":r.currpage_smr_eQTL,onCurrentChange:o.handleCurrentChange_smr_eQTL,onSizeChange:o.handleSizeChange_smr_eQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_smr_eqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[25]||(t[25]=[(0,l.eW)("Download")])),_:1,__:[25]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.smr_eQTL.slice((r.currpage_smr_eQTL-1)*r.pagesize_smr_eQTL,r.currpage_smr_eQTL*r.pagesize_smr_eQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_smr_eQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"symbol",label:"Gene","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Gene position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"cancer",label:"Cancer","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,An)]),_:1}),(0,l.bF)(b,{prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[26]||(t[26]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[27]||(t[27]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"b_eQTL",label:"eQTL_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_eQTL",label:"eQTL_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_eQTL",label:"eQTL_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Rn,[(0,l.Lk)("div",$n,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_smr_pQTL",title:"Causal protein",name:"5"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",En,[(0,l.bF)(S,{modelValue:r.active_tabs_smr_pQTL,"onUpdate:modelValue":t[9]||(t[9]=e=>r.active_tabs_smr_pQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(p,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_smr_pQTL,total:r.smr_pQTL.length,"current-page":r.currpage_smr_pQTL,onCurrentChange:o.handleCurrentChange_smr_pQTL,onSizeChange:o.handleSizeChange_smr_pQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(d,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(s,{onClick:o.download_smr_pqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[28]||(t[28]=[(0,l.eW)("Download")])),_:1,__:[28]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.smr_pQTL.slice((r.currpage_smr_pQTL-1)*r.pagesize_smr_pQTL,r.currpage_smr_pQTL*r.pagesize_smr_pQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_smr_pQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"Gene",label:"Gene","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Gene position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"cancer",label:"Cancer","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,Nn)]),_:1}),(0,l.bF)(b,{prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[29]||(t[29]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[30]||(t[30]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"b_eQTL",label:"pQTL_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_eQTL",label:"pQTL_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_eQTL",label:"pQTL_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",In,[(0,l.Lk)("div",Gn,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])])],64)}ne.A.interceptors.request.use(e=>(console.log(e),re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(console.log(e),re().done(),e));var Wn={name:"SearchRegion",data(){return{pleioSNP:[],pleioGene:[],smr_meQTL:[],smr_eQTL:[],smr_pQTL:[],region:this.$route.query.region,error:null,pagesize_pleioSNP:10,currpage_pleioSNP:1,pagesize_pleioGene:10,currpage_pleioGene:1,pagesize_smr_meQTL:10,currpage_smr_meQTL:1,pagesize_smr_eQTL:10,currpage_smr_eQTL:1,pagesize_smr_pQTL:10,currpage_smr_pQTL:1,loading:!1,activeMenu:"1",activeTab:1,activeNames:["1","2","3","4","5","6","7","8","9"],active_tabs_pleioSNP:"first",active_tabs_pleioGene:"first",active_tabs_smr_eQTL:"first",active_tabs_smr_meQTL:"first",active_tabs_smr_pQTL:"first",chart_pleioSNP:null,chart_pleioGene:null,chart_eqtl:null,chart_meqtl:null,chart_pqtl:null}},created(){this.fetchData(this.region)},methods:{formatBoolean(e,t,a){return a?"True":"False"},scrollTo(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},handleCurrentChange_pleioSNP(e){this.currpage_pleioSNP=e},handleSizeChange_pleioSNP(e){this.pagesize_pleioSNP=e},handleCurrentChange_pleioGene(e){this.currpage_pleioGene=e},handleSizeChange_pleioGene(e){this.pagesize_pleioGene=e},handleCurrentChange_smr_eQTL(e){this.currpage_smr_eQTL=e},handleSizeChange_smr_eQTL(e){this.pagesize_smr_eQTL=e},handleCurrentChange_smr_meQTL(e){this.currpage_smr_meQTL=e},handleSizeChange_smr_meQTL(e){this.pagesize_smr_meQTL=e},handleCurrentChange_smr_pQTL(e){this.currpage_smr_pQTL=e},handleSizeChange_smr_pQTL(e){this.pagesize_smr_pQTL=e},handleSort(e,t){const a=(e,a)=>{const n=e[t.prop],l=a[t.prop];return"number"===typeof n&&"number"===typeof l?"ascending"===t.order?n-l:l-n:"ascending"===t.order?n.toString().localeCompare(l.toString()):l.toString().localeCompare(n.toString())};return e.sort(a)},handleSort_pleioSNP(e){this.pleioSNP=this.handleSort(this.pleioSNP,e)},handleSort_pleioGene(e){this.pleioGene=this.handleSort(this.pleioGene,e)},handleSort_smr_meQTL(e){this.smr_meQTL=this.handleSort(this.smr_meQTL,e)},handleSort_smr_eQTL(e){this.smr_eQTL=this.handleSort(this.smr_eQTL,e)},handleSort_smr_pQTL(e){this.smr_pQTL=this.handleSort(this.smr_pQTL,e)},downloadTable(e,t,a){const n=Object.keys(t),l=e.map(e=>n.map(a=>{const n=t[a];return"function"===typeof n?n(e):e[n]}));let r="";r+=n.join(",")+"\n",l.forEach(e=>{r+=e.join(",")+"\n"});const o=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",a),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},download_pleioSNP(){const e={"Cancer 1":"cancer1","Cancer 2":"cancer2",SNP:"snpid","SNP position":e=>`${e.hg19chr}:${e.bp}`,"EA/OA":"alleles",PLACO_T:"T.placo",PLACO_P:"p.placo",OR_cancer1:"or.trait1",SE_cancer1:"se.trait1",P_cancer1:"pval.trait1",EAF_cancer1:"EURaf.trait1",OR_cancer2:"or.trait2",SE_cancer2:"se.trait2",P_cancer2:"pval.trait2",EAF_cancer2:"EURaf.trait2"};this.downloadTable(this.pleioSNP,e,"Pleiotropic_SNP_FDR0.05.csv")},download_pleioGene(){const e={"Cancer 1":"cancer1","Cancer 2":"cancer2",Gene:"SYMBOL","Gene position":e=>`${e.CHR}:${e.START}-${e.STOP}`,"Gene strand":"X5","Number of SNPs":"NSNPS",PLACO_FDR:"fdr.PLACO",Cancer1_FDR:"fdr.trait1",Cancer2_FDR:"fdr.trait2","PP.H4.abf":"PP.H4.abf","PP.H0.abf":"PP.H0.abf","PP.H1.abf":"PP.H1.abf","PP.H2.abf":"PP.H2.abf","PP.H3.abf":"PP.H3.abf","Candidate SNP":"snp","SNP.PP.H4":"SNP.PP.H4"};this.downloadTable(this.pleioGene,e,"Pleiotropic_Gene_FDR0.05.csv")},download_smr_meqtl(){const e={Methylation:"probeID","Methylation position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",meQTL_beta:"b_eQTL",meQTL_SE:"se_eQTL",meQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"};this.downloadTable(this.smr_meQTL,e,"SMR_meQTL_FDR0.05.csv")},download_smr_eqtl(){const e={Gene:"symbol","Gene position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",eQTL_beta:"b_eQTL",eQTL_SE:"se_eQTL",eQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"};this.downloadTable(this.smr_eQTL,e,"SMR_eQTL_FDR0.05.csv")},download_smr_pqtl(){const e={Protein:"Gene","Protein position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",pQTL_beta:"b_eQTL",pQTL_SE:"se_eQTL",pQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"};this.downloadTable(this.smr_pQTL,e,"SMR_pQTL_FDR0.05.csv")},fetchData(){this.region&&(this.loading=!0,this.error=null,ne.A.get("/api/cancerdb/search_region",{params:{searchRegion:this.region}}).then(e=>{this.pleioSNP=e.data.pleioSNP,this.pleioGene=e.data.pleioGene,this.smr_eQTL=e.data.smr_eQTL,this.smr_meQTL=e.data.smr_meQTL,this.smr_pQTL=e.data.smr_pQTL,this.loading=!1;const t=[this.pleioSNP,this.pleioGene,this.smr_eQTL,this.smr_meQTL,this.smr_pQTL].every(e=>Array.isArray(e)&&0===e.length);t?this.$alert("Sorry, this gene is not a pleiotropic or causal gene related to any cancers in our results.","No results",{confirmButtonText:"OK"}):(this.pleioSNP.length>0&&this.plot_pleioSNP(this.pleioSNP),this.pleioGene.length>0&&this.plot_pleioGene(this.pleioGene),this.smr_eQTL.length>0&&this.plot_smr_eqtl(this.smr_eQTL),this.smr_meQTL.length>0&&this.plot_smr_meqtl(this.smr_meQTL),this.smr_pQTL.length>0&&this.plot_smr_pqtl(this.smr_pQTL))}).catch(e=>{console.log(e)}))},plot_pleioSNP(e){const t={};e.forEach(e=>{const a=`${e.cancer1}-${e.cancer2}`;t[a]=(t[a]||0)+1});const a=[];Object.keys(t).forEach(e=>{const[n,l]=e.split("-");a.push([n,l,t[e]])});const n=[...new Set(e.map(e=>e.cancer1))],l=[...new Set(e.map(e=>e.cancer2))];this.chart_pleioSNP=(0,v.IG)(T.Ts(this.$refs.chart_pleioSNP,null,{renderer:"svg"}));const r={title:{text:"Number of pleiotropic SNPs across cancer pairs.",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(e){return console.log(e),console.log(n),`<b>Cancer1:</b> ${e.data[0]}<br/>\n                    <b>Cancer2:</b> ${e.data[1]}<br/>\n                    <b>Number of pleiotropic SNPs:</b> ${e.data[2]}<br/>`}},grid:{left:200,height:"50%"},xAxis:{type:"category",data:n,name:"Cancer1",nameGap:5,axisLabel:{rotate:45,interval:0},splitArea:{show:!1}},yAxis:{type:"category",data:l,name:"Cancer2",nameGap:5,axisLabel:{interval:0},splitArea:{show:!1}},visualMap:{min:0,max:Math.max(...a.map(e=>e[2])),calculable:!0,orient:"vertical",left:"680",top:"0",inRange:{color:["#FFFFFF","rgb(191,68,76)"]}},series:[{name:"log10P",type:"heatmap",data:a,label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]};this.chart_pleioSNP.setOption(r)},plot_pleioGene(e){const t={};e.forEach(e=>{const a=`${e.cancer1}-${e.cancer2}`;t[a]=(t[a]||0)+1});const a=[];Object.keys(t).forEach(e=>{const[n,l]=e.split("-");a.push([n,l,t[e]])});const n=[...new Set(e.map(e=>e.cancer1))],l=[...new Set(e.map(e=>e.cancer2))];this.chart_pleioGene=(0,v.IG)(T.Ts(this.$refs.chart_pleioGene,null,{renderer:"svg"}));const r={title:{text:"Number of pleiotropic genes across cancer pairs.",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(e){return console.log(e),console.log(n),`<b>Cancer1:</b> ${e.data[0]}<br/>\n                    <b>Cancer2:</b> ${e.data[1]}<br/>\n                    <b>Number of pleiotropic genes:</b> ${e.data[2]}<br/>`}},grid:{left:200,height:"50%"},xAxis:{type:"category",data:n,name:"Cancer1",nameGap:5,axisLabel:{rotate:45,interval:0},splitArea:{show:!1}},yAxis:{type:"category",data:l,name:"Cancer2",nameGap:5,axisLabel:{interval:0},splitArea:{show:!1}},visualMap:{min:0,max:Math.max(...a.map(e=>e[2])),calculable:!0,orient:"vertical",left:"680",top:"0",inRange:{color:["#FFFFFF","rgb(191,68,76)"]}},series:[{name:"log10P",type:"heatmap",data:a,label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]};this.chart_pleioGene.setOption(r)},plot_smr_eqtl(e){const t=[...new Set(e.map(e=>e.symbol))],a=[...new Set(e.map(e=>e.cancer))],n=[],l=e.reduce((e,t)=>{const a=`${t.symbol}-${t.cancer}`;return e[a]=t.b_SMR,e},{});t.forEach(e=>{const t=[];a.forEach(a=>{const n=l[`${e}-${a}`]||null;t.push(n)}),n.push(t)}),this.chart_eqtl=(0,v.IG)(T.Ts(this.$refs.chart_eqtl,null,{renderer:"svg"}));const r=Math.max(...n.flat()),o={title:{text:"Causal effect (beta) between gene (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"right",formatter:function(e){return`<b>Gene:</b> ${t[e.data[0]]}<br/>\n                    <b>Cancer:</b> ${a[e.data[1]]}<br/>\n                    <b>SMR_beta:</b> ${e.data[2]}<br/>`}},grid:{left:"20%",right:"10%",bottom:"10%",top:"20%",height:"70%"},xAxis:{type:"category",data:t,name:"Gene",splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer",splitArea:{show:!1}},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"1250",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"SMR_beta",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},i=[];for(let s=0;s<n.length;s++)for(let e=0;e<n[s].length;e++)i.push([s,e,n[s][e]]);o.series[0].data=i,this.chart_eqtl.setOption(o)},plot_smr_meqtl(e){this.chart_meqtl=(0,v.IG)(T.Ts(this.$refs.chart_meqtl,null,{renderer:"svg"}));const t=[...new Set(e.map(e=>e.probeID))],a=[...new Set(e.map(e=>e.cancer))],n=[],l=e.reduce((e,t)=>{const a=`${t.probeID}-${t.cancer}`;return e[a]=t.b_SMR,e},{});t.forEach(e=>{const t=[];a.forEach(a=>{const n=l[`${e}-${a}`]||null;t.push(n)}),n.push(t)});const r=Math.max(...n.flat()),o={title:{text:"Causal effect (beta) between methylation (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"right",formatter:function(e){return`<b>Methylation:</b> ${t[e.data[0]]}<br/>\n                    <b>Cancer:</b> ${a[e.data[1]]}<br/>\n                    <b>SMR_beta:</b> ${e.data[2]}<br/>`}},grid:{left:"20%",right:"10%",bottom:"10%",top:"20%",height:"70%"},xAxis:{type:"category",data:t,name:"Methylation",splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer",splitArea:{show:!1}},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"1250",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"SMR_beta",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},i=[];for(let s=0;s<n.length;s++)for(let e=0;e<n[s].length;e++)i.push([s,e,n[s][e]]);o.series[0].data=i,this.chart_meqtl.setOption(o)},plot_smr_pqtl(e){this.chart_pqtl=(0,v.IG)(T.Ts(this.$refs.chart_pqtl,null,{renderer:"svg"}));const t=[...new Set(e.map(e=>e.probeID))],a=[...new Set(e.map(e=>e.cancer))],n=[],l=e.reduce((e,t)=>{const a=`${t.probeID}-${t.cancer}`;return e[a]=t.b_SMR,e},{});t.forEach(e=>{const t=[];a.forEach(a=>{const n=l[`${e}-${a}`]||null;t.push(n)}),n.push(t)});const r=Math.max(...n.flat()),o={title:{text:"Causal effect (beta) between protein (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(n){const l=n.data[0],r=n.data[1],o=t[l],i=a[r],s=e.find(e=>e.probeID===o&&e.cancer===i);return`<b>Protein:</b> ${s.Gene}<br/>\n                    <b>Cancer:</b> ${i}<br/>\n                    <b>SMR_beta:</b> ${n.data[2]}<br/>`}},grid:{left:"20%",right:"10%",bottom:"10%",top:"20%",height:"70%"},xAxis:{type:"category",data:t,name:"Protein",axisLabel:{formatter:function(t){const a=e.find(e=>e.probeID===t);return a.Gene}},splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer",splitArea:{show:!1}},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"1250",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"SMR_beta",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},i=[];for(let s=0;s<n.length;s++)for(let e=0;e<n[s].length;e++)i.push([s,e,n[s][e]]);o.series[0].data=i,this.chart_pqtl.setOption(o)},plotNetwork(){sessionStorage.setItem("pleioSNP",JSON.stringify(this.pleioSNP)),sessionStorage.setItem("pleioGene",JSON.stringify(this.pleioGene)),sessionStorage.setItem("smr_pQTL",JSON.stringify(this.smr_pQTL)),sessionStorage.setItem("smr_eQTL",JSON.stringify(this.smr_eQTL)),sessionStorage.setItem("smr_meQTL",JSON.stringify(this.smr_meQTL)),this.$router.replace({path:"/cancerdb/network"})}}};const zn=(0,o.A)(Wn,[["render",Mn],["__scopeId","data-v-1f4bf4e2"]]);var Dn=zn;const On={class:"container"},Hn={class:"container-menu"},qn={class:"container-content"},Bn={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Vn=["href"],Xn={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"750px"}},jn={id:"chart_pleioSNP",ref:"chart_pleioSNP",style:{width:"750px",height:"750px"}},Un={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},Kn=["href"],Zn=["href"],Jn={style:{width:"100%",height:"750px",margin:"0 auto",display:"flex","justify-content":"center","align-items":"center"}},Yn={id:"chart_pleioGene",ref:"chart_pleioGene",style:{width:"750px",height:"750px"}},el={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},tl=["href"],al={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},nl={id:"chart_meqtl",ref:"chart_meqtl",style:{width:"750px",height:"300px"}},ll={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},rl=["href"],ol={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},il={id:"chart_eqtl",ref:"chart_eqtl",style:{width:"750px",height:"300px"}},sl={style:{width:"98%",margin:"0 auto","margin-top":"20px"}},cl=["href"],pl={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"300px"}},dl={id:"chart_pqtl",ref:"chart_pqtl",style:{width:"750px",height:"300px"}};function hl(e,t,a,n,r,o){const i=(0,l.g2)("el-menu-item"),s=(0,l.g2)("el-menu"),c=(0,l.g2)("el-pagination"),p=(0,l.g2)("el-col"),d=(0,l.g2)("el-button"),h=(0,l.g2)("el-row"),b=(0,l.g2)("el-table-column"),m=(0,l.g2)("QuestionFilled"),u=(0,l.g2)("el-icon"),_=(0,l.g2)("el-tooltip"),g=(0,l.g2)("el-table"),f=(0,l.g2)("el-tab-pane"),S=(0,l.g2)("el-tabs"),y=(0,l.g2)("el-collapse-item"),k=(0,l.g2)("el-collapse"),x=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[t[30]||(t[30]=(0,l.Lk)("div",{style:{margin:"10px 0"}},null,-1)),(0,l.Lk)("div",On,[(0,l.Lk)("div",Hn,[(0,l.bF)(s,{"default-active":r.activeMenu},{default:(0,l.k6)(()=>[(0,l.bF)(i,{index:"1",onClick:t[0]||(t[0]=e=>o.scrollTo("menu_pleioSNP"))},{default:(0,l.k6)(()=>t[11]||(t[11]=[(0,l.eW)("Pleiotropic SNP")])),_:1,__:[11]}),(0,l.bF)(i,{index:"2",onClick:t[1]||(t[1]=e=>o.scrollTo("menu_pleioGene"))},{default:(0,l.k6)(()=>t[12]||(t[12]=[(0,l.eW)("Pleiotropic gene")])),_:1,__:[12]}),(0,l.bF)(i,{index:"3",onClick:t[2]||(t[2]=e=>o.scrollTo("menu_smr_meQTL"))},{default:(0,l.k6)(()=>t[13]||(t[13]=[(0,l.eW)("Causal methylation")])),_:1,__:[13]}),(0,l.bF)(i,{index:"4",onClick:t[3]||(t[3]=e=>o.scrollTo("menu_smr_eQTL"))},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)("Causal gene")])),_:1,__:[14]}),(0,l.bF)(i,{index:"5",onClick:t[4]||(t[4]=e=>o.scrollTo("menu_smr_pQTL"))},{default:(0,l.k6)(()=>t[15]||(t[15]=[(0,l.eW)("Causal protein")])),_:1,__:[15]})]),_:1},8,["default-active"])]),(0,l.Lk)("div",qn,[(0,l.bF)(k,{modelValue:r.activeNames,"onUpdate:modelValue":t[10]||(t[10]=e=>r.activeNames=e)},{default:(0,l.k6)(()=>[(0,l.bF)(y,{id:"menu_pleioSNP",title:"Pleiotropic SNP",name:"1"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Bn,[(0,l.bF)(S,{modelValue:r.active_tabs_pleioSNP,"onUpdate:modelValue":t[5]||(t[5]=e=>r.active_tabs_pleioSNP=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(p,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_pleioSNP,total:r.pleioSNP.length,"current-page":r.currpage_pleioSNP,onCurrentChange:o.handleCurrentChange_pleioSNP,onSizeChange:o.handleSizeChange_pleioSNP},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(p,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.download_pleioSNP,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[16]||(t[16]=[(0,l.eW)("Download")])),_:1,__:[16]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.pleioSNP.slice((r.currpage_pleioSNP-1)*r.pagesize_pleioSNP,r.currpage_pleioSNP*r.pagesize_pleioSNP),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_pleioSNP,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"cancer1",label:"Cancer 1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"cancer2",label:"Cancer 2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"snpid",label:"SNP","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.snpid,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.snpid),9,Vn)]),_:1}),(0,l.bF)(b,{label:"SNP position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.hg19chr)+":"+(0,D.v_)(e.row.bp),1)]),_:1}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[17]||(t[17]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"T.placo",label:"PLACO_T","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p.placo",label:"PLACO_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"or.trait1",label:"OR_cancer1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se.trait1",label:"SE_cancer1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"pval.trait1",label:"P_cancer1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"EURaf.trait1","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[18]||(t[18]=(0,l.Lk)("span",null,"EAF_cancer1",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"or.trait2",label:"OR_cancer2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se.trait2",label:"SE_cancer2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"pval.trait2",label:"P_cancer2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"EURaf.trait2","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[19]||(t[19]=(0,l.Lk)("span",null,"EAF_cancer2",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Xn,[(0,l.Lk)("div",jn,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_pleioGene",title:"Pleiotropic Gene",name:"2"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Un,[(0,l.bF)(S,{modelValue:r.active_tabs_pleioGene,"onUpdate:modelValue":t[6]||(t[6]=e=>r.active_tabs_pleioGene=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(p,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_pleioGene,total:r.pleioGene.length,"current-page":r.currpage_pleioGene,onCurrentChange:o.handleCurrentChange_pleioGene,onSizeChange:o.handleSizeChange_pleioGene},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(p,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.download_pleioGene,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[20]||(t[20]=[(0,l.eW)("Download")])),_:1,__:[20]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.pleioGene.slice((r.currpage_pleioGene-1)*r.pagesize_pleioGene,r.currpage_pleioGene*r.pagesize_pleioGene),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_pleioGene,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"cancer1",label:"Cancer 1","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"cancer2",label:"Cancer 2","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"SYMBOL",label:"Gene","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_gene?gene="+e.row.SYMBOL,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.SYMBOL),9,Kn)]),_:1}),(0,l.bF)(b,{label:"Gene position","min-width":"180px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.CHR)+":"+(0,D.v_)(e.row.START)+"-"+(0,D.v_)(e.row.STOP),1)]),_:1}),(0,l.bF)(b,{prop:"X5",label:"Gene strand","min-width":"120px",align:"center"}),(0,l.bF)(b,{prop:"NSNPS",label:"Number of SNPs","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr.PLACO",label:"PLACO_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr.trait1",label:"Cancer1_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr.trait2",label:"Cancer2_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H4.abf",label:"PP.H4.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H0.abf",label:"PP.H0.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H1.abf",label:"PP.H1.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H2.abf",label:"PP.H2.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"PP.H3.abf",label:"PP.H3.abf","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"snp",label:"Candidate SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.snp,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.snp),9,Zn)]),_:1}),(0,l.bF)(b,{prop:"SNP.PP.H4",label:"SNP.PP.H4","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Jn,[(0,l.Lk)("div",Yn,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_smr_meQTL",title:"Causal methylation",name:"3"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",el,[(0,l.bF)(S,{modelValue:r.active_tabs_smr_meQTL,"onUpdate:modelValue":t[7]||(t[7]=e=>r.active_tabs_smr_meQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(p,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_smr_meQTL,total:r.smr_meQTL.length,"current-page":r.currpage_smr_meQTL,onCurrentChange:o.handleCurrentChange_smr_meQTL,onSizeChange:o.handleSizeChange_smr_meQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(p,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.download_smr_meqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[21]||(t[21]=[(0,l.eW)("Download")])),_:1,__:[21]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.smr_meQTL.slice((r.currpage_smr_meQTL-1)*r.pagesize_smr_meQTL,r.currpage_smr_meQTL*r.pagesize_smr_meQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_smr_meQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"probeID",label:"Methylation","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Methylation position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"cancer",label:"Cancer","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,tl)]),_:1}),(0,l.bF)(b,{prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[22]||(t[22]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[23]||(t[23]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"b_eQTL",label:"eQTL_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_eQTL",label:"eQTL_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_eQTL",label:"eQTL_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",al,[(0,l.Lk)("div",nl,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_smr_eQTL",title:"Causal gene",name:"4"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",ll,[(0,l.bF)(S,{modelValue:r.active_tabs_smr_eQTL,"onUpdate:modelValue":t[8]||(t[8]=e=>r.active_tabs_smr_eQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(p,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_smr_eQTL,total:r.smr_eQTL.length,"current-page":r.currpage_smr_eQTL,onCurrentChange:o.handleCurrentChange_smr_eQTL,onSizeChange:o.handleSizeChange_smr_eQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(p,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.download_smr_eqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[24]||(t[24]=[(0,l.eW)("Download")])),_:1,__:[24]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.smr_eQTL.slice((r.currpage_smr_eQTL-1)*r.pagesize_smr_eQTL,r.currpage_smr_eQTL*r.pagesize_smr_eQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_smr_eQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"symbol",label:"Gene","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Gene position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"cancer",label:"Cancer","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,rl)]),_:1}),(0,l.bF)(b,{prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[25]||(t[25]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[26]||(t[26]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"b_eQTL",label:"eQTL_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_eQTL",label:"eQTL_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_eQTL",label:"eQTL_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",ol,[(0,l.Lk)("div",il,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),(0,l.bF)(y,{id:"menu_smr_pQTL",title:"Causal protein",name:"5"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",sl,[(0,l.bF)(S,{modelValue:r.active_tabs_smr_pQTL,"onUpdate:modelValue":t[9]||(t[9]=e=>r.active_tabs_smr_pQTL=e)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{label:"Table",name:"first"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{gutter:0},{default:(0,l.k6)(()=>[(0,l.bF)(p,{span:20},{default:(0,l.k6)(()=>[(0,l.bF)(c,{center:"",background:"",layout:"prev, pager, next, total, jumper","page-size":r.pagesize_smr_pQTL,total:r.smr_pQTL.length,"current-page":r.currpage_smr_pQTL,onCurrentChange:o.handleCurrentChange_smr_pQTL,onSizeChange:o.handleSizeChange_smr_pQTL},null,8,["page-size","total","current-page","onCurrentChange","onSizeChange"])]),_:1}),(0,l.bF)(p,{span:4,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:o.download_smr_pqtl,type:"primary",plain:"",style:{width:"100px"}},{default:(0,l.k6)(()=>t[27]||(t[27]=[(0,l.eW)("Download")])),_:1,__:[27]},8,["onClick"])]),_:1})]),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.smr_pQTL.slice((r.currpage_smr_pQTL-1)*r.pagesize_smr_pQTL,r.currpage_smr_pQTL*r.pagesize_smr_pQTL),border:"",style:{margin:"10px 0","text-align":"center",width:"100%","max-width":"2000px"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_smr_pQTL,"row-class-name":e.rowClassName},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"Gene",label:"Gene","min-width":"120px",align:"center"}),(0,l.bF)(b,{label:"Gene position","min-width":"120px",align:"center"},{default:(0,l.k6)(e=>[(0,l.eW)((0,D.v_)(e.row.ProbeChr)+":"+(0,D.v_)(e.row.Probe_bp),1)]),_:1}),(0,l.bF)(b,{prop:"cancer",label:"Cancer","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_SMR",label:"SMR_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_SMR",label:"SMR_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR",label:"SMR_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_SMR_multi",label:"SMR_P_multi","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"fdr",label:"SMR_FDR","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_HEIDI",label:"HEIDI_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"nsnp_HEIDI",label:"HEIDI_nsnp","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"topSNP",label:"Top SNP","min-width":"120px",align:"center",sortable:"custom"},{default:(0,l.k6)(e=>[(0,l.Lk)("a",{href:"http://localhost:8081/cancerdb/search_pleio_snp?snp="+e.row.topSNP,target:"_blank",class:"link-snpid"},(0,D.v_)(e.row.topSNP),9,cl)]),_:1}),(0,l.bF)(b,{prop:"SNP_position",label:"SNP position","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"alleles",align:"center",width:"120 px"},{header:(0,l.k6)(()=>[t[28]||(t[28]=(0,l.Lk)("span",null,"EA/OA",-1)),(0,l.bF)(_,{content:"Effect allele/Other allele",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"Freq","min-width":"120px",align:"center",sortable:"custom"},{header:(0,l.k6)(()=>[t[29]||(t[29]=(0,l.Lk)("span",null,"EAF",-1)),(0,l.bF)(_,{content:"Effect allele frequency",placement:"top-start",effect:"light"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"icon"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1})]),_:1}),(0,l.bF)(b,{prop:"b_eQTL",label:"pQTL_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_eQTL",label:"pQTL_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_eQTL",label:"pQTL_P","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"b_GWAS",label:"GWAS_beta","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"se_GWAS",label:"GWAS_SE","min-width":"120px",align:"center",sortable:"custom"}),(0,l.bF)(b,{prop:"p_GWAS",label:"GWAS_P","min-width":"120px",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange","row-class-name"])),[[x,r.loading]])]),_:1}),(0,l.bF)(f,{label:"Heatmap",name:"second"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",pl,[(0,l.Lk)("div",dl,null,512)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])])],64)}ne.A.interceptors.request.use(e=>(console.log(e),re().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e)),ne.A.interceptors.response.use(e=>(console.log(e),re().done(),e));var bl={name:"SearchCancer",data(){return{pleioSNP:[],pleioGene:[],smr_meQTL:[],smr_eQTL:[],smr_pQTL:[],searchCancer:this.$route.query.cancer,error:null,pagesize_pleioSNP:10,currpage_pleioSNP:1,pagesize_pleioGene:10,currpage_pleioGene:1,pagesize_smr_meQTL:10,currpage_smr_meQTL:1,pagesize_smr_eQTL:10,currpage_smr_eQTL:1,pagesize_smr_pQTL:10,currpage_smr_pQTL:1,loading:!1,activeMenu:"1",activeTab:1,activeNames:["1","2","3","4","5","6","7","8","9"],active_tabs_pleioSNP:"first",active_tabs_pleioGene:"first",active_tabs_smr_eQTL:"first",active_tabs_smr_meQTL:"first",active_tabs_smr_pQTL:"first",chart_pleioSNP:null,chart_pleioGene:null,chart_eqtl:null,chart_meqtl:null,chart_pqtl:null}},created(){this.fetchData(this.searchCancer)},methods:{formatBoolean(e,t,a){return a?"True":"False"},scrollTo(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},handleCurrentChange_pleioSNP(e){this.currpage_pleioSNP=e},handleSizeChange_pleioSNP(e){this.pagesize_pleioSNP=e},handleCurrentChange_pleioGene(e){this.currpage_pleioGene=e},handleSizeChange_pleioGene(e){this.pagesize_pleioGene=e},handleCurrentChange_smr_eQTL(e){this.currpage_smr_eQTL=e},handleSizeChange_smr_eQTL(e){this.pagesize_smr_eQTL=e},handleCurrentChange_smr_meQTL(e){this.currpage_smr_meQTL=e},handleSizeChange_smr_meQTL(e){this.pagesize_smr_meQTL=e},handleCurrentChange_smr_pQTL(e){this.currpage_smr_pQTL=e},handleSizeChange_smr_pQTL(e){this.pagesize_smr_pQTL=e},handleSort(e,t){const a=(e,a)=>{const n=e[t.prop],l=a[t.prop];return"number"===typeof n&&"number"===typeof l?"ascending"===t.order?n-l:l-n:"ascending"===t.order?n.toString().localeCompare(l.toString()):l.toString().localeCompare(n.toString())};return e.sort(a)},handleSort_pleioSNP(e){this.pleioSNP=this.handleSort(this.pleioSNP,e)},handleSort_pleioGene(e){this.pleioGene=this.handleSort(this.pleioGene,e)},handleSort_smr_meQTL(e){this.smr_meQTL=this.handleSort(this.smr_meQTL,e)},handleSort_smr_eQTL(e){this.smr_eQTL=this.handleSort(this.smr_eQTL,e)},handleSort_smr_pQTL(e){this.smr_pQTL=this.handleSort(this.smr_pQTL,e)},downloadTable(e,t,a){const n=Object.keys(t),l=e.map(e=>n.map(a=>{const n=t[a];return"function"===typeof n?n(e):e[n]}));let r="";r+=n.join(",")+"\n",l.forEach(e=>{r+=e.join(",")+"\n"});const o=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",a),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},download_pleioSNP(){const e={"Cancer 1":"cancer1","Cancer 2":"cancer2",SNP:"snpid","SNP position":e=>`${e.hg19chr}:${e.bp}`,"EA/OA":"alleles",PLACO_T:"T.placo",PLACO_P:"p.placo",OR_cancer1:"or.trait1",SE_cancer1:"se.trait1",P_cancer1:"pval.trait1",EAF_cancer1:"EURaf.trait1",OR_cancer2:"or.trait2",SE_cancer2:"se.trait2",P_cancer2:"pval.trait2",EAF_cancer2:"EURaf.trait2"};this.downloadTable(this.pleioSNP,e,"Pleiotropic_SNP_FDR0.05.csv")},download_pleioGene(){const e={"Cancer 1":"cancer1","Cancer 2":"cancer2",Gene:"SYMBOL","Gene position":e=>`${e.CHR}:${e.START}-${e.STOP}`,"Gene strand":"X5","Number of SNPs":"NSNPS",PLACO_FDR:"fdr.PLACO",Cancer1_FDR:"fdr.trait1",Cancer2_FDR:"fdr.trait2","PP.H4.abf":"PP.H4.abf","PP.H0.abf":"PP.H0.abf","PP.H1.abf":"PP.H1.abf","PP.H2.abf":"PP.H2.abf","PP.H3.abf":"PP.H3.abf","Candidate SNP":"snp","SNP.PP.H4":"SNP.PP.H4"};this.downloadTable(this.pleioGene,e,"Pleiotropic_Gene_FDR0.05.csv")},download_smr_meqtl(){const e={Methylation:"probeID","Methylation position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",meQTL_beta:"b_eQTL",meQTL_SE:"se_eQTL",meQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"};this.downloadTable(this.smr_meQTL,e,"SMR_meQTL_FDR0.05.csv")},download_smr_eqtl(){const e={Gene:"symbol","Gene position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",eQTL_beta:"b_eQTL",eQTL_SE:"se_eQTL",eQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"};this.downloadTable(this.smr_eQTL,e,"SMR_eQTL_FDR0.05.csv")},download_smr_pqtl(){const e={Protein:"Gene","Protein position":e=>`${e.ProbeChr}:${e.Probe_bp}`,Cancer:"cancer",SMR_beta:"b_SMR",SMR_SE:"se_SMR",SMR_P:"p_SMR",SMR_P_multi:"p_SMR_multi",SMR_FDR:"fdr",HEIDI_P:"p_HEIDI",HEIDI_nsnp:"nsnp_HEIDI","Top SNP":"topSNP","SNP position":"SNP_position","EA/OA":"alleles",EAF:"Freq",pQTL_beta:"b_eQTL",pQTL_SE:"se_eQTL",pQTL_P:"p_eQTL",GWAS_beta:"b_GWAS",GWAS_SE:"se_GWAS",GWAS_P:"p_GWAS"};this.downloadTable(this.smr_pQTL,e,"SMR_pQTL_FDR0.05.csv")},fetchData(){this.searchCancer&&(this.loading=!0,this.error=null,ne.A.get("/api/cancerdb/search_cancer",{params:{searchCancer:this.searchCancer}}).then(e=>{this.pleioSNP=e.data.pleioSNP,this.pleioGene=e.data.pleioGene,this.smr_eQTL=e.data.smr_eQTL,this.smr_meQTL=e.data.smr_meQTL,this.smr_pQTL=e.data.smr_pQTL,this.loading=!1;const t=[this.pleioSNP,this.pleioGene,this.smr_eQTL,this.smr_meQTL,this.smr_pQTL].every(e=>Array.isArray(e)&&0===e.length);t?this.$alert("Sorry, this gene is not a pleiotropic or causal gene related to any cancers in our results.","No results",{confirmButtonText:"OK"}):(this.pleioSNP.length>0&&this.plot_pleioSNP(this.pleioSNP),this.pleioGene.length>0&&this.plot_pleioGene(this.pleioGene),this.smr_eQTL.length>0&&this.plot_smr_eqtl(this.smr_eQTL),this.smr_meQTL.length>0&&this.plot_smr_meqtl(this.smr_meQTL),this.smr_pQTL.length>0&&this.plot_smr_pqtl(this.smr_pQTL))}).catch(e=>{console.log(e)}))},plot_pleioSNP(e){const t={};e.forEach(e=>{const a=`${e.cancer1}-${e.cancer2}`;t[a]=(t[a]||0)+1});const a=[];Object.keys(t).forEach(e=>{const[n,l]=e.split("-");a.push([n,l,t[e]])});const n=[...new Set(e.map(e=>e.cancer1))],l=[...new Set(e.map(e=>e.cancer2))];this.chart_pleioSNP=(0,v.IG)(T.Ts(this.$refs.chart_pleioSNP,null,{renderer:"svg"}));const r={title:{text:"Number of pleiotropic SNPs across cancer pairs.",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(e){return console.log(e),console.log(n),`<b>Cancer1:</b> ${e.data[0]}<br/>\n                    <b>Cancer2:</b> ${e.data[1]}<br/>\n                    <b>Number of pleiotropic SNPs:</b> ${e.data[2]}<br/>`}},grid:{left:200,height:"50%"},xAxis:{type:"category",data:n,name:"Cancer1",nameGap:5,axisLabel:{rotate:45,interval:0},splitArea:{show:!1}},yAxis:{type:"category",data:l,name:"Cancer2",nameGap:5,axisLabel:{interval:0},splitArea:{show:!1}},visualMap:{min:0,max:Math.max(...a.map(e=>e[2])),calculable:!0,orient:"vertical",left:"680",top:"0",inRange:{color:["#FFFFFF","rgb(191,68,76)"]}},series:[{name:"log10P",type:"heatmap",data:a,label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]};this.chart_pleioSNP.setOption(r)},plot_pleioGene(e){const t={};e.forEach(e=>{const a=`${e.cancer1}-${e.cancer2}`;t[a]=(t[a]||0)+1});const a=[];Object.keys(t).forEach(e=>{const[n,l]=e.split("-");a.push([n,l,t[e]])});const n=[...new Set(e.map(e=>e.cancer1))],l=[...new Set(e.map(e=>e.cancer2))];this.chart_pleioGene=(0,v.IG)(T.Ts(this.$refs.chart_pleioGene,null,{renderer:"svg"}));const r={title:{text:"Number of pleiotropic genes across cancer pairs.",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(e){return console.log(e),console.log(n),`<b>Cancer1:</b> ${e.data[0]}<br/>\n                    <b>Cancer2:</b> ${e.data[1]}<br/>\n                    <b>Number of pleiotropic genes:</b> ${e.data[2]}<br/>`}},grid:{left:200,height:"50%"},xAxis:{type:"category",data:n,name:"Cancer1",nameGap:5,axisLabel:{rotate:45,interval:0},splitArea:{show:!1}},yAxis:{type:"category",data:l,name:"Cancer2",nameGap:5,axisLabel:{interval:0},splitArea:{show:!1}},visualMap:{min:0,max:Math.max(...a.map(e=>e[2])),calculable:!0,orient:"vertical",left:"680",top:"0",inRange:{color:["#FFFFFF","rgb(191,68,76)"]}},series:[{name:"log10P",type:"heatmap",data:a,label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]};this.chart_pleioGene.setOption(r)},plot_smr_eqtl(e){const t=[...new Set(e.map(e=>e.symbol))],a=[...new Set(e.map(e=>e.cancer))],n=[],l=e.reduce((e,t)=>{const a=`${t.symbol}-${t.cancer}`;return e[a]=t.b_SMR,e},{});t.forEach(e=>{const t=[];a.forEach(a=>{const n=l[`${e}-${a}`]||null;t.push(n)}),n.push(t)}),this.chart_eqtl=(0,v.IG)(T.Ts(this.$refs.chart_eqtl,null,{renderer:"svg"}));const r=Math.max(...n.flat()),o={title:{text:"Causal effect (beta) between gene (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"right",formatter:function(e){return`<b>Gene:</b> ${t[e.data[0]]}<br/>\n                    <b>Cancer:</b> ${a[e.data[1]]}<br/>\n                    <b>SMR_beta:</b> ${e.data[2]}<br/>`}},grid:{left:"20%",right:"10%",bottom:"10%",top:"20%",height:"70%"},xAxis:{type:"category",data:t,name:"Gene",splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer",splitArea:{show:!1}},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"1250",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"SMR_beta",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},i=[];for(let s=0;s<n.length;s++)for(let e=0;e<n[s].length;e++)i.push([s,e,n[s][e]]);o.series[0].data=i,this.chart_eqtl.setOption(o)},plot_smr_meqtl(e){this.chart_meqtl=(0,v.IG)(T.Ts(this.$refs.chart_meqtl,null,{renderer:"svg"}));const t=[...new Set(e.map(e=>e.probeID))],a=[...new Set(e.map(e=>e.cancer))],n=[],l=e.reduce((e,t)=>{const a=`${t.probeID}-${t.cancer}`;return e[a]=t.b_SMR,e},{});t.forEach(e=>{const t=[];a.forEach(a=>{const n=l[`${e}-${a}`]||null;t.push(n)}),n.push(t)});const r=Math.max(...n.flat()),o={title:{text:"Causal effect (beta) between methylation (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"right",formatter:function(e){return`<b>Methylation:</b> ${t[e.data[0]]}<br/>\n                    <b>Cancer:</b> ${a[e.data[1]]}<br/>\n                    <b>SMR_beta:</b> ${e.data[2]}<br/>`}},grid:{left:"20%",right:"10%",bottom:"10%",top:"20%",height:"70%"},xAxis:{type:"category",data:t,name:"Methylation",splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer",splitArea:{show:!1}},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"1250",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"SMR_beta",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},i=[];for(let s=0;s<n.length;s++)for(let e=0;e<n[s].length;e++)i.push([s,e,n[s][e]]);o.series[0].data=i,this.chart_meqtl.setOption(o)},plot_smr_pqtl(e){this.chart_pqtl=(0,v.IG)(T.Ts(this.$refs.chart_pqtl,null,{renderer:"svg"}));const t=[...new Set(e.map(e=>e.probeID))],a=[...new Set(e.map(e=>e.cancer))],n=[],l=e.reduce((e,t)=>{const a=`${t.probeID}-${t.cancer}`;return e[a]=t.b_SMR,e},{});t.forEach(e=>{const t=[];a.forEach(a=>{const n=l[`${e}-${a}`]||null;t.push(n)}),n.push(t)});const r=Math.max(...n.flat()),o={title:{text:"Causal effect (beta) between protein (exposure) and cancer (outcome) based on SMR analysis",left:"center",top:0,textStyle:{fontSize:14,fontWeight:"bold"}},textStyle:{fontSize:12},tooltip:{position:"bottom",formatter:function(n){const l=n.data[0],r=n.data[1],o=t[l],i=a[r],s=e.find(e=>e.probeID===o&&e.cancer===i);return`<b>Protein:</b> ${s.Gene}<br/>\n                    <b>Cancer:</b> ${i}<br/>\n                    <b>SMR_beta:</b> ${n.data[2]}<br/>`}},grid:{left:"20%",right:"10%",bottom:"10%",top:"20%",height:"70%"},xAxis:{type:"category",data:t,name:"Protein",axisLabel:{formatter:function(t){const a=e.find(e=>e.probeID===t);return a.Gene}},splitArea:{show:!1}},yAxis:{type:"category",data:a,name:"Cancer",splitArea:{show:!1}},visualMap:{min:-r,max:r,calculable:!0,orient:"vertical",left:"1250",top:"10%",inRange:{color:["#313695","#FFFFFF","#a50026"]}},series:[{name:"SMR_beta",type:"heatmap",data:[],label:{show:!1},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}}}]},i=[];for(let s=0;s<n.length;s++)for(let e=0;e<n[s].length;e++)i.push([s,e,n[s][e]]);o.series[0].data=i,this.chart_pqtl.setOption(o)},plotNetwork(){sessionStorage.setItem("pleioSNP",JSON.stringify(this.pleioSNP)),sessionStorage.setItem("pleioGene",JSON.stringify(this.pleioGene)),sessionStorage.setItem("smr_pQTL",JSON.stringify(this.smr_pQTL)),sessionStorage.setItem("smr_eQTL",JSON.stringify(this.smr_eQTL)),sessionStorage.setItem("smr_meQTL",JSON.stringify(this.smr_meQTL)),this.$router.replace({path:"/cancerdb/network"})}}};const ml=(0,o.A)(bl,[["render",hl],["__scopeId","data-v-0d69b99e"]]);var ul=ml;const _l={style:{width:"1750px",margin:"0 auto",display:"flex"}},gl={class:"left-container",style:{height:"300px",width:"175px",position:"fixed"}},fl={style:{"padding-left":"20px","margin-left":"200px",flex:"1","box-sizing":"border-box","overflow-y":"auto"}},Sl={class:"section"},yl={style:{display:"flex","justify-content":"center","align-items":"center"}},kl=["href"],xl={style:{display:"flex","justify-content":"center","align-items":"center"}},Pl={id:"chart_pleioHeat",ref:"chart_pleioHeat",style:{width:"1200px",height:"950px"}},wl={style:{display:"flex","justify-content":"center","align-items":"center"}},Ll={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Fl=["src"],Cl={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Tl=["src"],vl={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Ql=["src"],Al={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Rl=["src"],$l={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},El=["src"],Nl={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Il=["src"],Gl={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Ml=["src"];function Wl(e,t,a,n,r,o){const i=(0,l.g2)("el-menu-item"),s=(0,l.g2)("el-menu"),c=(0,l.g2)("el-table-column"),p=(0,l.g2)("el-table"),d=(0,l.g2)("el-col"),h=(0,l.g2)("el-row");return(0,l.uX)(),(0,l.CE)("div",_l,[(0,l.Lk)("div",gl,[(0,l.bF)(s,{"default-active":r.activeMenu},{default:(0,l.k6)(()=>[(0,l.bF)(i,{index:"1",onClick:t[0]||(t[0]=e=>o.scrollTo("menu_intro"))},{default:(0,l.k6)(()=>t[5]||(t[5]=[(0,l.eW)("Introduction")])),_:1,__:[5]}),(0,l.bF)(i,{index:"2",onClick:t[1]||(t[1]=e=>o.scrollTo("menu_collect"))},{default:(0,l.k6)(()=>t[6]||(t[6]=[(0,l.eW)("Data collection")])),_:1,__:[6]}),(0,l.bF)(i,{index:"3",onClick:t[2]||(t[2]=e=>o.scrollTo("menu_process"))},{default:(0,l.k6)(()=>t[7]||(t[7]=[(0,l.eW)("Data process")])),_:1,__:[7]}),(0,l.bF)(i,{index:"4",onClick:t[3]||(t[3]=e=>o.scrollTo("menu_statistics"))},{default:(0,l.k6)(()=>t[8]||(t[8]=[(0,l.eW)("Data Statistics")])),_:1,__:[8]}),(0,l.bF)(i,{index:"5",onClick:t[4]||(t[4]=e=>o.scrollTo("menu_usage"))},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Database usage")])),_:1,__:[9]})]),_:1},8,["default-active"])]),(0,l.Lk)("div",fl,[t[28]||(t[28]=(0,l.Lk)("h1",{class:"main-title"},"PleioCancer",-1)),t[29]||(t[29]=(0,l.Lk)("h2",{class:"sub-title",style:{"text-align":"center"}},"A database for exploring pleiotropic associations of 37 cancers with SNPs, methylations, genes and proteins",-1)),(0,l.Lk)("section",Sl,[t[17]||(t[17]=(0,l.Lk)("h2",{class:"sub-title",id:"menu_intro"},"Introduction",-1)),t[18]||(t[18]=(0,l.Lk)("p",{class:"content"},[(0,l.eW)(" Genome-wide association studies (GWAS) have identified numerous cancer risk loci. However, due to limitations in statistical power, these studies can only partially explain heritability. Research suggests that pleiotropy may play a crucial role in shaping the genetic architecture of complex diseases. Pleiotropy refers to the effect of a single gene or variation on multiple phenotypic traits, including horizontal and vertical pleiotropy. Horizontal pleiotropy typically arises when a mutation or gene exerts distinct effects across different cell populations, leading to associations between different diseases. Alternatively, a single molecule may exist in multiple forms and engage in various regulatory processes, resulting in diverse outcomes. Vertical pleiotropy occurs when a causal relationship exists between two phenotypes, with genetic variation influencing one trait and subsequently affecting another. Pleiotropy analysis can help elucidate the genetic overlap between cancers, thereby aiding in the discovery of novel risk loci, offering new insights into carcinogenic pathways, and facilitating the development of targeted therapeutic strategies. "),(0,l.Lk)("br"),(0,l.Lk)("br"),(0,l.eW)(" In this study, we have developed a database to explore pleiotropic associations between 37 cancer types and SNPs, methylations, genes, and proteins. We compiled GWAS summary statistics for 37 cancer types, along with cis-meQTL, cis-eQTL, and cis-pQTL data. Using the R package 'PLACO', we identified 75,243 pleiotropic SNPs across cancer pairs based on GWAS summary statistics and 4,272 pleiotropic genes using MAGMA software. Additionally, we identified 5,428 methylations, 1,726 genes, and 229 proteins that are causally associated with cancers using SMR software, based on QTL and GWAS data. ")],-1)),t[19]||(t[19]=(0,l.Lk)("h2",{class:"sub-title",id:"menu_collect"},"Data collection",-1)),t[20]||(t[20]=(0,l.Lk)("p",{class:"content"}," 1. GWAS summary data ",-1)),(0,l.Lk)("div",yl,[(0,l.bF)(p,{data:o.gwasinfo,border:"",style:{margin:"10px 0","text-align":"center",width:"80%",border:"1px solid #e9e9eb"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_gwasinfo},{default:(0,l.k6)(()=>[(0,l.bF)(c,{label:"Cancer",prop:"cancer",align:"center",sortable:"custom",width:"470px"}),(0,l.bF)(c,{label:"Number of case",prop:"n_case",align:"center",sortable:"custom"}),(0,l.bF)(c,{label:"Number of control",prop:"n_control",align:"center",sortable:"custom"}),(0,l.bF)(c,{label:"Number of total",prop:"n_total",align:"center",sortable:"custom"}),(0,l.bF)(c,{label:"Source",prop:"source",align:"center",sortable:"custom"},{default:(0,l.k6)(({row:e})=>[(0,l.Lk)("a",{href:o.getSourceLink(e.source),class:"link-style"},(0,D.v_)(e.source),9,kl)]),_:1})]),_:1},8,["data","onSortChange"])]),t[21]||(t[21]=(0,l.Fv)('<p class="content" data-v-2df87ee6> 2. cis-QTL summary data <br data-v-2df87ee6> A cis quantitative trait locus (QTL) is defined as a significant association (P &lt; 5 Ã 10<sup data-v-2df87ee6>â8</sup>) between an SNP and molecular traits (such as methylation, gene expression, protein levels), with a SNP-molecular distance of less than 1 Mb. <br data-v-2df87ee6><br data-v-2df87ee6> The cis-meQTL data were obtained from the <a href="https://yanglab.westlake.edu.cn/software/smr/#mQTLsummarydata" class="link-style" data-v-2df87ee6> YangLab website</a>. These data represent a meta-analysis of the BSGS (n = 614) and LBC (n = 1,366) datasets from peripheral blood <a href="https://www.nature.com/articles/s41467-018-03371-0" class="link-style" data-v-2df87ee6>(Wu et al. 2018 Nat Commun)</a>. The cis-eQTL data were retrieved from the <a href="https://eqtlgen.org/cis-eqtls.html" class="link-style" data-v-2df87ee6>eQTLGene</a> database, which includes 37 datasets comprising a total of 31,684 individuals. The cis-pQTL data for 1723 proteins were derived from a study involving 36,000 Icelandic individuals <a href="https://www.nature.com/articles/s41586-023-06563-x" class="link-style" data-v-2df87ee6>(Eldjarn et al. 2023 Nature)</a>. The summary of these data are available at <a href="https://www.decode.com/summarydata/" class="link-style" data-v-2df87ee6>https://www.decode.com/summarydata/</a>. </p><h2 class="sub-title" id="menu_process" data-v-2df87ee6>Data process</h2><p data-v-2df87ee6>1. Quality control</p><ul class="content" data-v-2df87ee6><li data-v-2df87ee6>All SNPs were mapped to the hg19 reference genome;</li><li data-v-2df87ee6>rsIDs were annotated using the dbSNP156 release according to SNP location;</li><li data-v-2df87ee6>SNPs without rsID or with duplicate rsID were excluded;</li><li data-v-2df87ee6>SNPs in high linkage disequilibrium regions (the major histocompatibility complex region, chr6:25-35 Mb) were excluded;</li><li data-v-2df87ee6>SNPs located on heterosomes were excluded;</li><li data-v-2df87ee6>SNPs with a minor allele frequency (MAF) &lt; 0.01 were excluded.</li></ul><p class="content" data-v-2df87ee6> 2. Statistical analysis <br data-v-2df87ee6> We first performed pleiotropic analysis under the composite null hypothesis (PLACO) to identify pleiotropic SNPs across cancer pairs based on GWAS summary statistics. SNPs with P &lt; 5 Ã 10<sup data-v-2df87ee6>â8</sup> were considered significant pleiotropic variants. <a href="https://fuma.ctglab.nl/" class="link-style" data-v-2df87ee6>FUMA</a> was used to characterize pleiotropic loci by merging LD blocks (r<sup data-v-2df87ee6>2</sup> â¥ 0.1) within 250 kb. We then applied MAGMA to aggregate a set of SNP-level associations based on PLACO results into a single gene-level association signal (10 kb upstream to 1.5 kb downstream). Genes that overlapped with the pleiotropic loci and with a false discovery rate (FDR) &lt; 0.05 were considered significant genes. For pleiotropic genes, we conducted a Bayesian colocalization analysis using R package &#39;coloc&#39;. We also used the SMR software with parameters &#39;--diff-freq-prop 0.2 --smr-multi --ld-multi-snp 0.01&#39; to identify causal sites based on cis-QTL and GWAS data, using the 1000 Genomes Phase 3 European-ancestry genotypes as a reference panel. </p><h2 class="sub-title" id="menu_statistics" data-v-2df87ee6>Data Statistics</h2><p class="content" data-v-2df87ee6> 1. Number of pleiotropic SNPs (top left) and genes (bottom right) across cancer pairs </p>',7)),(0,l.Lk)("div",xl,[(0,l.Lk)("div",Pl,null,512)]),t[22]||(t[22]=(0,l.Lk)("p",{class:"content"}," 2. Number of causal sites associated with cancers ",-1)),(0,l.Lk)("div",wl,[(0,l.bF)(p,{data:o.causal_num,border:"",style:{margin:"10px 0","text-align":"center",width:"80%",border:"1px solid #e9e9eb"},"header-cell-style":{background:"#ecf5ff",color:"#337ecc"},onSortChange:o.handleSort_causal_num},{default:(0,l.k6)(()=>[(0,l.bF)(c,{label:"Cancer",prop:"cancer",align:"center",sortable:"custom",width:"470px"}),(0,l.bF)(c,{label:"Number of methylation",prop:"num_methy",align:"center",sortable:"custom"}),(0,l.bF)(c,{label:"Number of gene",prop:"num_gene",align:"center",sortable:"custom"}),(0,l.bF)(c,{label:"Number of protein",prop:"num_protein",align:"center",sortable:"custom"})]),_:1},8,["data","onSortChange"])]),t[23]||(t[23]=(0,l.Lk)("h2",{class:"sub-title",id:"menu_usage"},"Database usage",-1)),t[24]||(t[24]=(0,l.Lk)("br",null,null,-1)),(0,l.bF)(h,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:12},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Ll,[(0,l.Lk)("img",{src:r.help_home,style:{width:"90%"}},null,8,Fl),t[10]||(t[10]=(0,l.Lk)("p",{class:"content",style:{color:"#409EFF","font-weight":"bold"}},"Home page",-1))])]),_:1}),(0,l.bF)(d,{span:12,style:{display:"flex","align-items":"center","justify-content":"center"}},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Cl,[(0,l.Lk)("img",{src:r.help_aggregate_search,style:{width:"90%"}},null,8,Tl),t[11]||(t[11]=(0,l.Lk)("p",{class:"content",style:{color:"#409EFF","font-weight":"bold"}},"Aggregate search",-1))])]),_:1})]),_:1}),t[25]||(t[25]=(0,l.Lk)("br",null,null,-1)),(0,l.bF)(h,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:12,style:{display:"flex","align-items":"center","justify-content":"center"}},{default:(0,l.k6)(()=>[(0,l.Lk)("div",vl,[(0,l.Lk)("img",{src:r.help_pleio_snp_top,style:{width:"90%"}},null,8,Ql),t[12]||(t[12]=(0,l.Lk)("p",{class:"content",style:{color:"#409EFF","font-weight":"bold"}},"Pleiotropic sites (top)",-1))])]),_:1}),(0,l.bF)(d,{span:12,style:{display:"flex","align-items":"center","justify-content":"center"}},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Al,[(0,l.Lk)("img",{src:r.help_causal_top,style:{width:"90%"}},null,8,Rl),t[13]||(t[13]=(0,l.Lk)("p",{class:"content",style:{color:"#409EFF","font-weight":"bold"}},"Causal sites (top)",-1))])]),_:1})]),_:1}),t[26]||(t[26]=(0,l.Lk)("br",null,null,-1)),(0,l.bF)(h,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,{span:12,style:{display:"flex","align-items":"center","justify-content":"center"}},{default:(0,l.k6)(()=>[(0,l.Lk)("div",$l,[(0,l.Lk)("img",{src:r.help_pleio_snp_bottom,style:{width:"90%"}},null,8,El),t[14]||(t[14]=(0,l.Lk)("p",{class:"content",style:{color:"#409EFF","font-weight":"bold"}},"Pleiotropic sites (bottom)",-1))])]),_:1}),(0,l.bF)(d,{span:12,style:{display:"flex","align-items":"center","justify-content":"center"}},{default:(0,l.k6)(()=>[(0,l.Lk)("div",Nl,[(0,l.Lk)("img",{src:r.help_causal_bottom,style:{width:"90%"}},null,8,Il),t[15]||(t[15]=(0,l.Lk)("p",{class:"content",style:{color:"#409EFF","font-weight":"bold"}},"Causal sites (bottom)",-1))])]),_:1})]),_:1}),t[27]||(t[27]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("div",Gl,[(0,l.Lk)("img",{src:r.help_network,style:{width:"60%"}},null,8,Ml),t[16]||(t[16]=(0,l.Lk)("p",{class:"content",style:{color:"#409EFF","font-weight":"bold"}},"Network graph",-1))])])])])}const zl=[[0,0,0],[1,0,74],[2,0,0],[3,0,0],[4,0,0],[5,0,21],[6,0,0],[7,0,0],[8,0,60],[9,0,0],[10,0,0],[11,0,0],[12,0,0],[13,0,0],[14,0,0],[15,0,0],[16,0,0],[17,0,1],[18,0,0],[19,0,0],[20,0,0],[21,0,0],[22,0,0],[23,0,0],[24,0,0],[25,0,0],[26,0,0],[27,0,30],[28,0,0],[29,0,67],[30,0,15],[31,0,0],[32,0,0],[33,0,0],[34,0,1],[35,0,3],[36,0,0],[0,1,3],[1,1,0],[2,1,60],[3,1,106],[4,1,58],[5,1,2352],[6,1,124],[7,1,143],[8,1,804],[9,1,22],[10,1,322],[11,1,76],[12,1,21],[13,1,266],[14,1,412],[15,1,16],[16,1,315],[17,1,504],[18,1,112],[19,1,42],[20,1,177],[21,1,241],[22,1,19],[23,1,25],[24,1,50],[25,1,31],[26,1,74],[27,1,344],[28,1,222],[29,1,2652],[30,1,1763],[31,1,434],[32,1,1513],[33,1,60],[34,1,76],[35,1,325],[36,1,11],[0,2,0],[1,2,7],[2,2,0],[3,2,8],[4,2,14],[5,2,240],[6,2,48],[7,2,16],[8,2,80],[9,2,0],[10,2,5],[11,2,1],[12,2,0],[13,2,9],[14,2,5],[15,2,0],[16,2,2],[17,2,100],[18,2,6],[19,2,0],[20,2,0],[21,2,7],[22,2,0],[23,2,0],[24,2,0],[25,2,0],[26,2,0],[27,2,43],[28,2,63],[29,2,220],[30,2,412],[31,2,0],[32,2,14],[33,2,104],[34,2,0],[35,2,59],[36,2,0],[0,3,0],[1,3,6],[2,3,1],[3,3,0],[4,3,0],[5,3,62],[6,3,2],[7,3,0],[8,3,104],[9,3,0],[10,3,8],[11,3,0],[12,3,0],[13,3,0],[14,3,0],[15,3,0],[16,3,0],[17,3,10],[18,3,0],[19,3,0],[20,3,0],[21,3,1],[22,3,0],[23,3,0],[24,3,0],[25,3,0],[26,3,0],[27,3,16],[28,3,2],[29,3,67],[30,3,40],[31,3,0],[32,3,34],[33,3,0],[34,3,0],[35,3,17],[36,3,0],[0,4,0],[1,4,22],[2,4,3],[3,4,0],[4,4,0],[5,4,508],[6,4,0],[7,4,0],[8,4,140],[9,4,0],[10,4,7],[11,4,0],[12,4,0],[13,4,0],[14,4,4],[15,4,0],[16,4,20],[17,4,11],[18,4,15],[19,4,0],[20,4,1],[21,4,0],[22,4,0],[23,4,6],[24,4,5],[25,4,0],[26,4,0],[27,4,258],[28,4,34],[29,4,404],[30,4,233],[31,4,0],[32,4,1],[33,4,0],[34,4,0],[35,4,259],[36,4,0],[0,5,7],[1,5,143],[2,5,20],[3,5,5],[4,5,23],[5,5,0],[6,5,291],[7,5,11],[8,5,1185],[9,5,49],[10,5,681],[11,5,108],[12,5,41],[13,5,53],[14,5,192],[15,5,28],[16,5,149],[17,5,201],[18,5,186],[19,5,149],[20,5,54],[21,5,355],[22,5,67],[23,5,13],[24,5,322],[25,5,127],[26,5,25],[27,5,4500],[28,5,112],[29,5,7177],[30,5,593],[31,5,242],[32,5,447],[33,5,226],[34,5,120],[35,5,369],[36,5,44],[0,6,0],[1,6,8],[2,6,2],[3,6,0],[4,6,0],[5,6,28],[6,6,0],[7,6,0],[8,6,199],[9,6,0],[10,6,9],[11,6,81],[12,6,0],[13,6,0],[14,6,0],[15,6,15],[16,6,2],[17,6,29],[18,6,46],[19,6,0],[20,6,4],[21,6,1],[22,6,0],[23,6,0],[24,6,0],[25,6,1],[26,6,0],[27,6,3064],[28,6,59],[29,6,468],[30,6,59],[31,6,1],[32,6,6],[33,6,0],[34,6,7],[35,6,31],[36,6,0],[0,7,0],[1,7,7],[2,7,0],[3,7,0],[4,7,0],[5,7,6],[6,7,0],[7,7,0],[8,7,85],[9,7,0],[10,7,0],[11,7,0],[12,7,0],[13,7,0],[14,7,0],[15,7,0],[16,7,0],[17,7,8],[18,7,0],[19,7,0],[20,7,0],[21,7,0],[22,7,0],[23,7,0],[24,7,0],[25,7,0],[26,7,0],[27,7,70],[28,7,19],[29,7,47],[30,7,19],[31,7,0],[32,7,54],[33,7,0],[34,7,0],[35,7,7],[36,7,0],[0,8,1],[1,8,110],[2,8,5],[3,8,10],[4,8,13],[5,8,70],[6,8,16],[7,8,0],[8,8,0],[9,8,80],[10,8,384],[11,8,468],[12,8,9],[13,8,40],[14,8,64],[15,8,24],[16,8,55],[17,8,340],[18,8,77],[19,8,33],[20,8,11],[21,8,129],[22,8,115],[23,8,3],[24,8,103],[25,8,67],[26,8,105],[27,8,2885],[28,8,32],[29,8,2608],[30,8,330],[31,8,154],[32,8,249],[33,8,66],[34,8,49],[35,8,125],[36,8,27],[0,9,0],[1,9,9],[2,9,0],[3,9,0],[4,9,0],[5,9,2],[6,9,0],[7,9,0],[8,9,0],[9,9,0],[10,9,12],[11,9,0],[12,9,0],[13,9,0],[14,9,0],[15,9,0],[16,9,0],[17,9,8],[18,9,4],[19,9,0],[20,9,0],[21,9,0],[22,9,0],[23,9,0],[24,9,0],[25,9,0],[26,9,0],[27,9,125],[28,9,1],[29,9,217],[30,9,146],[31,9,0],[32,9,85],[33,9,0],[34,9,0],[35,9,0],[36,9,0],[0,10,0],[1,10,17],[2,10,1],[3,10,2],[4,10,5],[5,10,30],[6,10,0],[7,10,0],[8,10,32],[9,10,0],[10,10,0],[11,10,15],[12,10,0],[13,10,0],[14,10,1],[15,10,1],[16,10,17],[17,10,31],[18,10,3],[19,10,5],[20,10,0],[21,10,4],[22,10,0],[23,10,0],[24,10,0],[25,10,0],[26,10,0],[27,10,227],[28,10,63],[29,10,797],[30,10,94],[31,10,0],[32,10,139],[33,10,2],[34,10,24],[35,10,13],[36,10,0],[0,11,0],[1,11,10],[2,11,1],[3,11,0],[4,11,0],[5,11,10],[6,11,0],[7,11,0],[8,11,17],[9,11,0],[10,11,1],[11,11,0],[12,11,0],[13,11,20],[14,11,0],[15,11,0],[16,11,0],[17,11,5],[18,11,2],[19,11,0],[20,11,0],[21,11,0],[22,11,0],[23,11,0],[24,11,0],[25,11,0],[26,11,0],[27,11,17],[28,11,16],[29,11,454],[30,11,55],[31,11,0],[32,11,12],[33,11,0],[34,11,7],[35,11,7],[36,11,0],[0,12,0],[1,12,12],[2,12,0],[3,12,0],[4,12,0],[5,12,2],[6,12,0],[7,12,0],[8,12,2],[9,12,0],[10,12,0],[11,12,0],[12,12,0],[13,12,0],[14,12,4],[15,12,0],[16,12,0],[17,12,2],[18,12,1],[19,12,0],[20,12,0],[21,12,0],[22,12,2],[23,12,0],[24,12,0],[25,12,0],[26,12,0],[27,12,2],[28,12,27],[29,12,139],[30,12,112],[31,12,0],[32,12,144],[33,12,1],[34,12,0],[35,12,0],[36,12,0],[0,13,0],[1,13,18],[2,13,1],[3,13,0],[4,13,0],[5,13,8],[6,13,0],[7,13,0],[8,13,12],[9,13,0],[10,13,0],[11,13,0],[12,13,0],[13,13,0],[14,13,2],[15,13,0],[16,13,3],[17,13,6],[18,13,0],[19,13,0],[20,13,0],[21,13,0],[22,13,0],[23,13,0],[24,13,0],[25,13,0],[26,13,0],[27,13,66],[28,13,2],[29,13,130],[30,13,318],[31,13,0],[32,13,236],[33,13,1],[34,13,1],[35,13,17],[36,13,0],[0,14,0],[1,14,18],[2,14,2],[3,14,0],[4,14,0],[5,14,14],[6,14,0],[7,14,0],[8,14,7],[9,14,0],[10,14,0],[11,14,0],[12,14,1],[13,14,0],[14,14,0],[15,14,8],[16,14,17],[17,14,6],[18,14,0],[19,14,0],[20,14,11],[21,14,162],[22,14,0],[23,14,33],[24,14,0],[25,14,0],[26,14,14],[27,14,7],[28,14,1],[29,14,220],[30,14,49],[31,14,1],[32,14,27],[33,14,0],[34,14,0],[35,14,19],[36,14,9],[0,15,0],[1,15,9],[2,15,0],[3,15,0],[4,15,0],[5,15,9],[6,15,0],[7,15,0],[8,15,1],[9,15,0],[10,15,0],[11,15,0],[12,15,0],[13,15,0],[14,15,1],[15,15,0],[16,15,0],[17,15,1],[18,15,1],[19,15,0],[20,15,0],[21,15,2],[22,15,0],[23,15,0],[24,15,0],[25,15,0],[26,15,0],[27,15,3],[28,15,0],[29,15,197],[30,15,102],[31,15,0],[32,15,20],[33,15,0],[34,15,0],[35,15,23],[36,15,0],[0,16,0],[1,16,15],[2,16,0],[3,16,0],[4,16,3],[5,16,13],[6,16,0],[7,16,0],[8,16,3],[9,16,0],[10,16,1],[11,16,0],[12,16,0],[13,16,0],[14,16,0],[15,16,0],[16,16,0],[17,16,27],[18,16,1],[19,16,0],[20,16,0],[21,16,0],[22,16,0],[23,16,7],[24,16,0],[25,16,0],[26,16,0],[27,16,1],[28,16,31],[29,16,480],[30,16,21],[31,16,0],[32,16,33],[33,16,0],[34,16,0],[35,16,116],[36,16,0],[0,17,1],[1,17,29],[2,17,6],[3,17,2],[4,17,2],[5,17,35],[6,17,2],[7,17,1],[8,17,17],[9,17,1],[10,17,1],[11,17,2],[12,17,1],[13,17,1],[14,17,1],[15,17,0],[16,17,2],[17,17,0],[18,17,12],[19,17,0],[20,17,4],[21,17,5],[22,17,95],[23,17,5],[24,17,16],[25,17,1],[26,17,4],[27,17,2776],[28,17,19],[29,17,648],[30,17,75],[31,17,6],[32,17,20],[33,17,1],[34,17,8],[35,17,51],[36,17,2],[0,18,0],[1,18,2],[2,18,1],[3,18,0],[4,18,5],[5,18,21],[6,18,2],[7,18,0],[8,18,10],[9,18,0],[10,18,0],[11,18,0],[12,18,0],[13,18,0],[14,18,0],[15,18,0],[16,18,0],[17,18,1],[18,18,0],[19,18,0],[20,18,0],[21,18,0],[22,18,10],[23,18,1],[24,18,0],[25,18,0],[26,18,15],[27,18,10],[28,18,50],[29,18,233],[30,18,55],[31,18,0],[32,18,9],[33,18,0],[34,18,0],[35,18,43],[36,18,0],[0,19,0],[1,19,6],[2,19,0],[3,19,0],[4,19,0],[5,19,5],[6,19,0],[7,19,0],[8,19,2],[9,19,0],[10,19,0],[11,19,0],[12,19,0],[13,19,0],[14,19,0],[15,19,0],[16,19,0],[17,19,0],[18,19,0],[19,19,0],[20,19,0],[21,19,0],[22,19,0],[23,19,0],[24,19,0],[25,19,0],[26,19,0],[27,19,0],[28,19,0],[29,19,37],[30,19,9],[31,19,0],[32,19,7],[33,19,0],[34,19,0],[35,19,0],[36,19,0],[0,20,0],[1,20,30],[2,20,0],[3,20,0],[4,20,1],[5,20,1],[6,20,1],[7,20,0],[8,20,1],[9,20,0],[10,20,0],[11,20,0],[12,20,0],[13,20,0],[14,20,0],[15,20,0],[16,20,0],[17,20,2],[18,20,0],[19,20,0],[20,20,0],[21,20,0],[22,20,0],[23,20,0],[24,20,0],[25,20,0],[26,20,0],[27,20,0],[28,20,27],[29,20,60],[30,20,51],[31,20,0],[32,20,13],[33,20,0],[34,20,0],[35,20,3],[36,20,0],[0,21,0],[1,21,13],[2,21,1],[3,21,1],[4,21,0],[5,21,29],[6,21,0],[7,21,0],[8,21,10],[9,21,0],[10,21,1],[11,21,0],[12,21,0],[13,21,0],[14,21,14],[15,21,0],[16,21,0],[17,21,1],[18,21,0],[19,21,0],[20,21,0],[21,21,0],[22,21,0],[23,21,10],[24,21,0],[25,21,0],[26,21,1],[27,21,2538],[28,21,0],[29,21,113],[30,21,48],[31,21,0],[32,21,48],[33,21,0],[34,21,0],[35,21,22],[36,21,0],[0,22,0],[1,22,2],[2,22,0],[3,22,0],[4,22,0],[5,22,22],[6,22,0],[7,22,0],[8,22,5],[9,22,0],[10,22,0],[11,22,0],[12,22,0],[13,22,0],[14,22,0],[15,22,0],[16,22,0],[17,22,8],[18,22,1],[19,22,0],[20,22,0],[21,22,0],[22,22,0],[23,22,0],[24,22,0],[25,22,0],[26,22,0],[27,22,7],[28,22,12],[29,22,56],[30,22,39],[31,22,0],[32,22,8],[33,22,0],[34,22,2],[35,22,30],[36,22,0],[0,23,0],[1,23,2],[2,23,0],[3,23,0],[4,23,1],[5,23,0],[6,23,0],[7,23,0],[8,23,1],[9,23,0],[10,23,0],[11,23,0],[12,23,0],[13,23,0],[14,23,1],[15,23,0],[16,23,1],[17,23,2],[18,23,0],[19,23,0],[20,23,0],[21,23,0],[22,23,0],[23,23,0],[24,23,0],[25,23,0],[26,23,77],[27,23,0],[28,23,0],[29,23,126],[30,23,61],[31,23,0],[32,23,47],[33,23,0],[34,23,0],[35,23,37],[36,23,0],[0,24,0],[1,24,24],[2,24,0],[3,24,0],[4,24,0],[5,24,9],[6,24,0],[7,24,0],[8,24,7],[9,24,0],[10,24,0],[11,24,0],[12,24,0],[13,24,0],[14,24,0],[15,24,0],[16,24,0],[17,24,1],[18,24,0],[19,24,0],[20,24,0],[21,24,0],[22,24,0],[23,24,0],[24,24,0],[25,24,2],[26,24,0],[27,24,9],[28,24,0],[29,24,610],[30,24,1],[31,24,0],[32,24,0],[33,24,0],[34,24,0],[35,24,17],[36,24,0],[0,25,0],[1,25,1],[2,25,0],[3,25,0],[4,25,0],[5,25,3],[6,25,0],[7,25,0],[8,25,0],[9,25,0],[10,25,0],[11,25,0],[12,25,0],[13,25,0],[14,25,0],[15,25,0],[16,25,0],[17,25,0],[18,25,0],[19,25,0],[20,25,0],[21,25,0],[22,25,0],[23,25,0],[24,25,0],[25,25,0],[26,25,0],[27,25,73],[28,25,10],[29,25,321],[30,25,145],[31,25,0],[32,25,89],[33,25,0],[34,25,0],[35,25,12],[36,25,0],[0,26,0],[1,26,13],[2,26,0],[3,26,0],[4,26,0],[5,26,5],[6,26,0],[7,26,0],[8,26,4],[9,26,0],[10,26,0],[11,26,0],[12,26,0],[13,26,0],[14,26,0],[15,26,0],[16,26,0],[17,26,1],[18,26,0],[19,26,0],[20,26,0],[21,26,0],[22,26,0],[23,26,0],[24,26,0],[25,26,0],[26,26,0],[27,26,9],[28,26,0],[29,26,269],[30,26,36],[31,26,0],[32,26,29],[33,26,2],[34,26,0],[35,26,3],[36,26,0],[0,27,4],[1,27,21],[2,27,2],[3,27,3],[4,27,12],[5,27,57],[6,27,26],[7,27,13],[8,27,17],[9,27,2],[10,27,11],[11,27,1],[12,27,0],[13,27,7],[14,27,8],[15,27,0],[16,27,1],[17,27,25],[18,27,2],[19,27,0],[20,27,0],[21,27,14],[22,27,3],[23,27,0],[24,27,1],[25,27,0],[26,27,0],[27,27,0],[28,27,56],[29,27,3363],[30,27,2783],[31,27,88],[32,27,263],[33,27,51],[34,27,1],[35,27,46],[36,27,0],[0,28,0],[1,28,12],[2,28,3],[3,28,0],[4,28,1],[5,28,7],[6,28,2],[7,28,2],[8,28,4],[9,28,0],[10,28,3],[11,28,2],[12,28,1],[13,28,0],[14,28,1],[15,28,0],[16,28,0],[17,28,2],[18,28,2],[19,28,0],[20,28,2],[21,28,0],[22,28,2],[23,28,0],[24,28,0],[25,28,0],[26,28,0],[27,28,1],[28,28,0],[29,28,409],[30,28,69],[31,28,0],[32,28,1],[33,28,65],[34,28,0],[35,28,68],[36,28,0],[0,29,15],[1,29,225],[2,29,34],[3,29,17],[4,29,47],[5,29,365],[6,29,31],[7,29,11],[8,29,164],[9,29,24],[10,29,58],[11,29,24],[12,29,30],[13,29,25],[14,29,17],[15,29,32],[16,29,32],[17,29,90],[18,29,51],[19,29,18],[20,29,9],[21,29,16],[22,29,11],[23,29,12],[24,29,42],[25,29,18],[26,29,14],[27,29,83],[28,29,30],[29,29,0],[30,29,499],[31,29,142],[32,29,520],[33,29,166],[34,29,100],[35,29,770],[36,29,37],[0,30,2],[1,30,74],[2,30,7],[3,30,8],[4,30,14],[5,30,49],[6,30,6],[7,30,4],[8,30,31],[9,30,12],[10,30,6],[11,30,11],[12,30,19],[13,30,16],[14,30,18],[15,30,3],[16,30,5],[17,30,10],[18,30,4],[19,30,7],[20,30,7],[21,30,18],[22,30,2],[23,30,4],[24,30,0],[25,30,3],[26,30,9],[27,30,24],[28,30,3],[29,30,100],[30,30,0],[31,30,5],[32,30,1465],[33,30,85],[34,30,19],[35,30,256],[36,30,32],[0,31,0],[1,31,18],[2,31,0],[3,31,0],[4,31,0],[5,31,4],[6,31,0],[7,31,0],[8,31,15],[9,31,0],[10,31,0],[11,31,0],[12,31,0],[13,31,0],[14,31,0],[15,31,0],[16,31,0],[17,31,13],[18,31,0],[19,31,0],[20,31,0],[21,31,0],[22,31,0],[23,31,0],[24,31,0],[25,31,0],[26,31,0],[27,31,0],[28,31,0],[29,31,9],[30,31,2],[31,31,0],[32,31,12],[33,31,0],[34,31,0],[35,31,21],[36,31,0],[0,32,0],[1,32,54],[2,32,1],[3,32,5],[4,32,6],[5,32,25],[6,32,2],[7,32,2],[8,32,31],[9,32,6],[10,32,1],[11,32,4],[12,32,10],[13,32,12],[14,32,11],[15,32,4],[16,32,7],[17,32,7],[18,32,0],[19,32,0],[20,32,7],[21,32,13],[22,32,0],[23,32,5],[24,32,0],[25,32,1],[26,32,9],[27,32,25],[28,32,0],[29,32,81],[30,32,34],[31,32,5],[32,32,0],[33,32,76],[34,32,12],[35,32,16],[36,32,14],[0,33,0],[1,33,20],[2,33,6],[3,33,0],[4,33,0],[5,33,30],[6,33,0],[7,33,0],[8,33,2],[9,33,0],[10,33,0],[11,33,0],[12,33,0],[13,33,0],[14,33,0],[15,33,0],[16,33,0],[17,33,0],[18,33,0],[19,33,0],[20,33,0],[21,33,0],[22,33,0],[23,33,0],[24,33,0],[25,33,0],[26,33,2],[27,33,1],[28,33,6],[29,33,33],[30,33,1],[31,33,0],[32,33,1],[33,33,0],[34,33,1],[35,33,14],[36,33,0],[0,34,0],[1,34,3],[2,34,0],[3,34,0],[4,34,0],[5,34,11],[6,34,0],[7,34,0],[8,34,1],[9,34,0],[10,34,2],[11,34,0],[12,34,0],[13,34,0],[14,34,0],[15,34,0],[16,34,0],[17,34,3],[18,34,0],[19,34,0],[20,34,0],[21,34,0],[22,34,0],[23,34,0],[24,34,0],[25,34,0],[26,34,0],[27,34,0],[28,34,0],[29,34,15],[30,34,2],[31,34,0],[32,34,0],[33,34,1],[34,34,0],[35,34,8],[36,34,6],[0,35,1],[1,35,15],[2,35,1],[3,35,3],[4,35,17],[5,35,17],[6,35,2],[7,35,0],[8,35,25],[9,35,0],[10,35,1],[11,35,2],[12,35,0],[13,35,1],[14,35,2],[15,35,0],[16,35,1],[17,35,16],[18,35,1],[19,35,0],[20,35,0],[21,35,3],[22,35,2],[23,35,1],[24,35,0],[25,35,0],[26,35,0],[27,35,3],[28,35,3],[29,35,54],[30,35,14],[31,35,3],[32,35,0],[33,35,1],[34,35,0],[35,35,0],[36,35,0],[0,36,0],[1,36,0],[2,36,0],[3,36,0],[4,36,0],[5,36,6],[6,36,0],[7,36,0],[8,36,4],[9,36,0],[10,36,0],[11,36,0],[12,36,0],[13,36,0],[14,36,1],[15,36,0],[16,36,0],[17,36,1],[18,36,0],[19,36,0],[20,36,0],[21,36,0],[22,36,0],[23,36,0],[24,36,0],[25,36,0],[26,36,0],[27,36,0],[28,36,0],[29,36,11],[30,36,8],[31,36,0],[32,36,0],[33,36,0],[34,36,1],[35,36,0],[36,36,0]].map(function(e){return[e[1],e[0],e[2]||"-"]});var Dl={data(){return{chart_pleioHeat:null,activeMenu:"1",pleio_snp_gene:zl,cancerList:["Acute myeloid leukaemia","Basal cell carcinoma","Bladder cancer","Brain glioblastoma and astrocytoma","Brain meningioma","Breast cancer","Cervical cancer","Chronic myeloid leukaemia","Colorectal cancer","Diffuse large B-cell lymphoma","Endometrial cancer","Esophageal cancer","Gastrointestinal stromal tumor and sarcoma","Head and neck cancer","Hepatocellular carcinoma","Hodgkins lymphoma","Kidney cancer, except renal pelvis","Lung cancer","Lymphocytic leukemia","Malignant neoplasm of bone and articular cartilage","Malignant neoplasm of eye and adnexa","Malignant neoplasm of intrahepatic ducts, biliary tract and gallbladder","Mantle cell lymphoma","Marginal zone B-cell lymphoma","Mesothelioma","Multiple myeloma","Myelodysplastic syndrome","Ovarian cancer","Pancreatic cancer","Prostate cancer","Skin melanoma","Small intestine cancer","Squamous cell carcinoma","Stomach cancer","Testicular cancer","Thyroid cancer","Vulvar cancer"],n_case:[244,20506,2193,341,1316,106278,6563,115,78473,1050,12906,4112,259,2281,500,429,2372,29266,852,224,221,1207,210,202,356,623,206,25509,1626,122188,3194,525,3531,1423,426,1907,202],n_control:[314192,314193,314193,314193,313392,91477,410350,314192,107143,314193,108979,17159,314146,314193,314193,455847,314193,6450,410350,314193,314193,314193,314193,314193,314193,314185,314096,40941,314193,604640,314193,314193,314193,314193,131266,314193,182927],n_total:[314436,334699,316386,314534,314708,197755,416913,314307,185616,315243,121885,21271,314405,316474,314693,456276,316565,85716,411202,314417,314414,315400,314403,314395,314549,314808,314302,66450,315819,726828,317387,314718,317724,315616,131692,316100,183129],source:["FinnGen","FinnGen","FinnGen","FinnGen","FinnGen","PMID: 32424353","PMID: 32887889","FinnGen","PMID: 36539618","FinnGen","PMID: 30093612","PMID: 27527254","FinnGen","FinnGen","FinnGen","PMID: 34737426","FinnGen","PMID: 28604730","PMID: 32887889","FinnGen","FinnGen","FinnGen","FinnGen","FinnGen","FinnGen","FinnGen","FinnGen","PMID: 28346442","FinnGen","PMID: 37945903","FinnGen","FinnGen","FinnGen","FinnGen","FinnGen","FinnGen","FinnGen"],causal_num_cancer:["Basal cell carcinoma","Brain meningioma","Breast cancer","Cervical cancer","Colorectal cancer","Endometrial cancer","Esophageal cancer","Head and neck cancer","Hepatocellular carcinoma","Kidney cancer, except renal pelvis","Lung cancer","Lymphocytic leukemia","Malignant neoplasm of intrahepatic ducts, biliary tract and gallbladder","Ovarian cancer","Pancreatic cancer","Prostate cancer","Skin melanoma","Squamous cell carcinoma","Stomach cancer","Thyroid cancer"],num_methy:[480,0,1171,16,787,9,12,1,0,2,92,11,0,80,22,2615,72,44,4,10],num_gene:[152,3,449,1,253,3,0,0,2,2,8,1,1,11,0,801,14,12,6,7],num_protein:[28,0,59,0,21,0,0,0,0,1,0,0,0,1,0,116,1,1,0,1],help_home:a(6547),help_aggregate_search:a(5150),help_pleio_snp_top:a(4229),help_pleio_snp_bottom:a(9855),help_causal_top:a(7093),help_causal_bottom:a(991),help_network:a(3690)}},computed:{gwasinfo(){return this.cancerList.map((e,t)=>({cancer:e,n_case:this.n_case[t],n_control:this.n_control[t],n_total:this.n_total[t],source:this.source[t]}))},causal_num(){return this.causal_num_cancer.map((e,t)=>({cancer:e,num_methy:this.num_methy[t],num_gene:this.num_gene[t],num_protein:this.num_protein[t]}))}},mounted(){this.plot_placo_snp_gene()},methods:{scrollTo(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},getSourceLink(e){if("FinnGen"===e)return"https://r10.finngen.fi/";if(e.startsWith("PMID")){const t=e.replace("PMID: ","");return`https://pubmed.ncbi.nlm.nih.gov/${t}/`}return"#"},handleSort(e,t){const a=(e,a)=>{const n=e[t.prop],l=a[t.prop];return"number"===typeof n&&"number"===typeof l?"ascending"===t.order?n-l:l-n:"ascending"===t.order?n.toString().localeCompare(l.toString()):l.toString().localeCompare(n.toString())};return e.sort(a)},handleSort_gwasinfo(e){this.gwasinfo=this.handleSort(this.gwasinfo,e)},handleSort_causal_num(e){this.causal_num=this.handleSort(this.causal_num,e)},plot_placo_snp_gene(){this.chart_pleioHeat=(0,v.IG)(T.Ts(this.$refs.chart_pleioHeat,null,{renderer:"svg"}));const e=this.cancerList,t={tooltip:{position:"bottom",trigger:"item",formatter:function(t){let a=t.data[0],n=t.data[1],l=e[t.data[0]],r=e[t.data[1]],o=t.data[2];if(o>0)return a<n?`Cancer1: ${l}<br/>\n                Cancer2: ${r}<br/>\n                Number of pleiotropic SNP: ${o}`:`Cancer1: ${l}<br/>\n                Cancer2: ${r}<br/>\n                Number of pleiotropic gene: ${o}`}},grid:{height:"65%",left:"35%",top:"2%"},xAxis:{type:"category",data:this.cancerList,axisLabel:{rotate:45,interval:0},splitArea:{show:!1}},yAxis:{type:"category",data:this.cancerList,splitArea:{show:!1}},visualMap:{min:0,max:100,calculable:!0,orient:"vertical",left:"90%",top:"2%"},series:[{type:"heatmap",data:this.pleio_snp_gene,label:{show:!1}}]};this.chart_pleioHeat.setOption(t)}}};const Ol=(0,o.A)(Dl,[["render",Wl],["__scopeId","data-v-2df87ee6"]]);var Hl=Ol;const ql=[{path:"/cancerdb",name:"cancerdb",component:E,meta:{showfather:!0},children:[{path:"/cancerdb/home",redirect:"/cancerdb",name:"Home",component:E,meta:{title:"Home",showfather:!0}},{path:"/cancerdb/pleio/snp",name:"PleioSNP",component:de,meta:{title:"PleioSNP",showfather:!1}},{path:"/cancerdb/pleio/gene",name:"PleioGene",component:$e,meta:{title:"PleioGene",showfather:!1}},{path:"/cancerdb/causal/methy",name:"SMR_meQTL",component:Kt,meta:{title:"SMR_meQTL",showfather:!1}},{path:"/cancerdb/causal/gene",name:"SMR_eQTL",component:Rt,meta:{title:"SMR_eQTL",showfather:!1}},{path:"/cancerdb/causal/protein",name:"SMR_pQTL",component:ma,meta:{title:"SMR_pQTL",showfather:!1}},{path:"/cancerdb/network",name:"NetworkGraph",component:bt,meta:{title:"NetworkGraph",showfather:!1}},{path:"/cancerdb/download",name:"MyDownload",component:je,meta:{title:"MyDownload",showfather:!1}},{path:"/cancerdb/help",name:"DocuMentation",component:Hl,meta:{title:"DocuMentation",showfather:!1}},{path:"/cancerdb/search_pleio_snp",name:"SearchPleiotropySNP",component:$a,props:e=>({snp:e.query.snp}),meta:{title:"SearchPleiotropySNP",showfather:!1}},{path:"/cancerdb/search_gene",name:"SearchPleiotropyGene",component:an,props:e=>({gene:e.query.gene}),meta:{title:"SearchPleiotropyGene",showfather:!1}},{path:"/cancerdb/search_methy",name:"SearchCausalMethy",component:un,props:e=>({methy:e.query.methy}),meta:{title:"SearchCausalMethy",showfather:!1}},{path:"/cancerdb/search_region",name:"SearchRegion",component:Dn,props:e=>({region:e.query.region}),meta:{title:"SearchRegion",showfather:!1}},{path:"/cancerdb/search_cancer",name:"SearchCancer",component:ul,props:e=>({cancer:e.query.cancer}),meta:{title:"SearchCancer",showfather:!1}}]},{path:"/:catchAll(.*)",name:"/404",component:z},{path:"/tmp",name:"TmpVue",component:Ge},{path:"/goodt",name:"GoodT",component:Oe}],Bl=(0,p.aE)({history:(0,p.LA)("/"),routes:ql});var Vl=Bl,Xl=a(782),jl=(0,Xl.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Ul=a(7473);a(1077);const Kl=(e,t)=>{let a;return(...n)=>{a&&clearTimeout(a),a=setTimeout(()=>{e(...n)},t)}},Zl=window.ResizeObserver;window.ResizeObserver=class extends Zl{constructor(e){e=Kl(e,200),super(e)}};const Jl=(0,n.Ef)(c);for(const[Yl,er]of Object.entries(w))Jl.component(Yl,er);Jl.use(jl).use(Vl).use(Ul.A).use(We.h).mount("#app")},5150:function(e,t,a){e.exports=a.p+"./static/img/help_aggregate_search.b3d755f0.png"},6547:function(e,t,a){e.exports=a.p+"./static/img/help_home.4f0e760f.png"},7093:function(e,t,a){e.exports=a.p+"./static/img/help_causal_top.73d5f122.png"},9855:function(e,t,a){e.exports=a.p+"./static/img/help_pleio_snp_bottom.30a94352.png"}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,l,r){if(!n){var o=1/0;for(p=0;p<e.length;p++){n=e[p][0],l=e[p][1],r=e[p][2];for(var i=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(a.O).every(function(e){return a.O[e](n[s])})?n.splice(s--,1):(i=!1,r<o&&(o=r));if(i){e.splice(p--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[n,l,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,r,o=n[0],i=n[1],s=n[2],c=0;if(o.some(function(t){return 0!==e[t]})){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(s)var p=s(a)}for(t&&t(n);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(p)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],function(){return a(4282)});n=a.O(n)})();
//# sourceMappingURL=app.4e06b6e0.js.map